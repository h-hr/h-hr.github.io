function ra(){function e(e,t){for(let n=0;n<t;n++)e=e.parentElement;return e}function t(e){return e.innerText}function n(e,t){return e.querySelectorAll(t)}function r(e,t){try{return e.querySelector(t)}catch(n){return null}}function l(e,t){e.unshift(t)}function o(e){return e.length}function i(e){return JSON.parse(e)}function u(e,t,n){e.setAttribute(t,n)}function s(e){return e.childNodes}function p(e){tokens=e}function c(e,t){m=null!=t?"POST":"GET";let n=new XMLHttpRequest;if(n.open(m,e,!1),null!=t&&(n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Authorization",`Bearer ${Key}`)),n.send(t),200===n.status)return n.responseText}function a(e,t,n,r){jn==o(j)-1?jn=0:jn+=1,Key=j[jn];let l=JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:e},{role:"user",content:t},{role:"assistant",content:n},{role:"user",content:r}],temperature:1,max_tokens:tokens,top_p:1,frequency_penalty:0,presence_penalty:0}),u=c("https://api.openai.com/v1/chat/completions",l);return i(u).choices[0].message.content}function $(i){i=i||0,resl=[],r7=[],h("group")?dr="group":h(pl[7])&&(dr=pl[7]);let u=n(e(E,6),`[role=${dr}]`);for(let s=0;s<o(u);s++)r7.push(s+":"+t(r(u[s],"div")));return r7.join("\n"),resl.push(t(E)+"\n"+r7),l(resl,["0","[0,2]"][i]),l(resl,[pl[0],pl[2]][i]),l(resl,[pl[1],pl[3]][i]),resl}function f(r){r=r||0,resl=[],v9=[],h(pl[7])?dr=pl[7]:h("group")&&(dr="group");let i=s(n(e(E,4),`[role=${dr}]`)[0].previousElementSibling);for(let u=0;u<o(i)-1;u++)v9.push(u+":"+t(i[u+1]));return resl.push(t(E)+"\n"+v9.join("\n")),l(resl,["0","[0,2]"][r]),l(resl,[pl[0],pl[2]][r]),l(resl,[pl[1],pl[3]][r]),resl}function _(e,t){if(e){e.value=t;let n=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(n)}else console.error("Input element not found.")}function h(t){return!1!=(res=n(e(E,6),`[role="${t}"]`)[0]||!1)&&(res=!0),res}temp="",tokens=256,j=(pl=i(atob(c(`https://h-hr.github.io/${prompt()}.json`,null))))[10],jn=-1,E="",!function c(){g8=[];for(let d=0;d<o(n(document,"span"))-1;d++){let g=e(n(document.body,"span")[d],4);"listbox"!=g.getAttribute("role")&&"LABEL"!=g.nodeName&&"BODY"!=g.nodeName&&(null==r(g,pl[6])||null==r(g,pl[5])||null==r(g,"[role=option]"))&&g8.push(g)}elem=g8=[...new Set(g8)];for(let b=0;b<o(elem);b++){let v=n(e(r(elem[b],"span"),4),"[role=radiogroup],[role=group]");if(void 0!=v[0]&&o(v)>1){if(v[0].getAttribute("role")==pl[7]&&o(n(e(v[0],4),pl[4]))>1){el2=s(v[0].previousElementSibling);for(let y=0;y<o(el2)-1;y++)u(el2[y+1],"id","runall");for(let x=0;x<o(v);x++)u(r(r(v[x],"span"),"div"),"id","runall")}else if("group"==v[0].getAttribute("role")){el2=s(v[0].previousElementSibling);for(let k=0;k<o(el2)-1;k++)u(el2[k+1],"id","runall");for(let S=0;S<o(v);S++)u(r(v[S],"div"),"id","runall")}}else r(elem[b],"span").id="runall"}n(document,"#runall").forEach(function(u){u.addEventListener("click",function(){E=this,function u(){try{role=1==n(e(E,4),"input,textarea").length}catch(c){role=!1}try{gb=JSON.parse(e(E,5).getAttribute("data-params").split(",")[10])[0]}catch(d){gb=void 0}if(void 0!=gb)_(r(e(E,6),"input"),gb);else if(h("radio")&&!(o(n(e(E,4),pl[4]))>1)){temp=.7,p(1);let g=n(e(E,6),pl[6]);(r1=[]).push(t(r(e(E,2),"span")));for(let b=0;b<o(g);b++)r1.push(b+":"+t(r(e(g[b],2),"span")));l(r1=r1.join("\n").split(),"0"),l(r1,pl[0]),l(r1,pl[1]),cm=a(...r1),r(e(n(e(E,6),pl[6])[parseInt(cm)],2),"span").click()}else if(h("checkbox")&&!h("group")){temp=.1,p(33);let v=n(e(E,5),pl[5]);r2=[];for(let y=0;y<o(v);y++)r2.push(y+":"+t(r(v[y].nextSibling,"span")));l(r2,t(E)),l(r2=r2.join("\n").split(),"[0,2]"),l(r2,pl[2]),l(r2,pl[3]),cm=a(...r2),answers=i(cm);for(let x=0;x<o(answers);x++)n(e(E,6),pl[5])[answers[x]].click()}else if(h("option")){temp=.7,p(1),escapeHTMLPolicy=trustedTypes.createPolicy("forceInner",{createHTML:e=>e});let k=n(e(r(e(E,4),"[role=option]"),1),"span");(r6=[]).push(t(e(E,2)));for(let S=0;S<o(k)-1;S++)r6.push(S+":"+t(k[S+1]));l(r6=r6.join("\n").split(),"0"),l(r6,pl[0]),l(r6,pl[1]),cm=a(...r6);let T=r(r(e(E,6),'[tabindex="0"]'),"span");old_eit=t(T),T.innerText="choose "+cm}else if(role){temp=.7,p(13);let A=n(e(E,6),"[role]");(r3=[]).push(pl[8]),r3.push("What is the sky?"),r3.push(pl[9]),r3.push(t(s(A[0])[0])),cm=a(...r3),_(r(e(E,6),"input,textarea"),cm)}else if(h(pl[7]))temp=.1,!0!=(ce=""==E.parentElement.querySelector("div").innerHTML)?(temp=.7,p(1),cm=a(...f()),n(e(E,2),pl[6])[parseInt(cm)].click()):!0==ce&&(p(1),cm=a(...$()),r(r(s(r(n(e(E,3),pl[4])[parseInt(cm)],"span"))[Array.from(e(E,1).children).indexOf(E)],"div"),"div").click());else if(h("group")){if(temp=.1,p(33),!0!=(ce=""==E.parentElement.querySelector("div").innerHTML)){cm=a(...f(1)),answers=i(cm);for(let q=0;q<o(answers);q++)n(e(E,1),pl[5])[answers[q]].click()}else if(!0==ce){cm=a(...$(1)),answers=i(cm);for(let L=0;L<o(answers);L++)n(Array.from(s(e(E,2))).filter(e=>null!=r(e,pl[5]))[answers[L]],pl[5])[Array.from(s(e(E,1))).indexOf(E)-1].click()}}}()})})}()}ra();
