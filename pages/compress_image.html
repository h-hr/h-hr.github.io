<html lang="en"><head><meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<style>:root{--blue:#007bff;--indigo:#6610f2;--purple:#6f42c1;--pink:#e83e8c;--red:#dc3545;--orange:#fd7e14;--yellow:#ffc107;--green:#28a745;--teal:#20c997;--cyan:#17a2b8;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--primary:#007bff;--secondary:#6c757d;--success:#28a745;--info:#17a2b8;--warning:#ffc107;--danger:#dc3545;--light:#f8f9fa;--dark:#343a40;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-family-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}*,::after,::before{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}footer{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}hr{box-sizing:content-box;height:0;overflow:visible}h1,h3,h4,h5{margin-top:0}p{margin-top:0;margin-bottom:1rem}dl,ul{margin-top:0;margin-bottom:1rem}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]){color:inherit;text-decoration:none}a:not([href]):not([class]):hover{color:inherit;text-decoration:none}img{vertical-align:middle;border-style:none}label{display:inline-block;margin-bottom:.5rem}button:focus:not(:focus-visible){outline:0}button,input,select{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button]{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}input[type=checkbox]{box-sizing:border-box;padding:0}fieldset{min-width:0;padding:0;margin:0;border:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}.h6,h1,h3,h4,h5{margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:2.5rem}h3{font-size:1.75rem}h4{font-size:1.5rem}h5{font-size:1.25rem}.h6{font-size:1rem}.lead{font-size:1.25rem;font-weight:300}hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(0,0,0,.1)}small{font-size:.875em;font-weight:400}.container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width:576px){.container{max-width:540px}}@media (min-width:768px){.container{max-width:720px}}@media (min-width:992px){.container{max-width:960px}}@media (min-width:1200px){.container{max-width:1140px}}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.col-5,.col-7,.col-lg-4,.col-lg-8,.col-md,.col-md-4,.col-md-8{position:relative;width:100%;padding-right:15px;padding-left:15px}.col-5{-ms-flex:0 0 41.666667%;flex:0 0 41.666667%;max-width:41.666667%}.col-7{-ms-flex:0 0 58.333333%;flex:0 0 58.333333%;max-width:58.333333%}@media (min-width:768px){.col-md{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%}.col-md-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-md-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}@media (min-width:992px){.col-lg-4{-ms-flex:0 0 33.333333%;flex:0 0 33.333333%;max-width:33.333333%}.col-lg-8{-ms-flex:0 0 66.666667%;flex:0 0 66.666667%;max-width:66.666667%}}.form-control{display:block;width:100%;height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control:focus{color:#495057;background-color:#fff;border-color:#80bdff;outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.form-control::-webkit-input-placeholder{color:#6c757d;opacity:1}.form-control::placeholder{color:#6c757d;opacity:1}.form-control:disabled,.form-control[readonly]{background-color:#e9ecef;opacity:1}.col-form-label{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.form-group{margin-bottom:1rem}.form-check{position:relative}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{color:#6c757d}.form-check-label{margin-bottom:0}.form-check-inline{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;padding-left:0;margin-right:.75rem}.form-check-inline .form-check-input{position:static;margin-top:0;margin-right:.3125rem;margin-left:0}.btn{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:#212529;text-decoration:none}.btn.focus,.btn:focus{outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}.btn.disabled,.btn:disabled{opacity:.65}.btn:not(:disabled):not(.disabled){cursor:pointer}.btn-outline-primary{color:#007bff;border-color:#007bff}.btn-outline-primary:hover{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary.focus,.btn-outline-primary:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-outline-primary.disabled,.btn-outline-primary:disabled{color:#007bff;background-color:transparent}.btn-outline-primary:not(:disabled):not(.disabled).active,.btn-outline-primary:not(:disabled):not(.disabled):active,.show>.btn-outline-primary.dropdown-toggle{color:#fff;background-color:#007bff;border-color:#007bff}.btn-outline-primary:not(:disabled):not(.disabled).active:focus,.btn-outline-primary:not(:disabled):not(.disabled):active:focus,.show>.btn-outline-primary.dropdown-toggle:focus{box-shadow:0 0 0 .2rem rgba(0,123,255,.5)}.btn-sm{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}.collapse:not(.show){display:none}.dropdown{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{top:100%;left:0;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:.125rem 0 0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-item{display:block;width:100%;padding:.25rem 1.5rem;clear:both;font-weight:400;color:#212529;text-align:inherit;white-space:nowrap;background-color:transparent;border:0}.dropdown-item:focus,.dropdown-item:hover{color:#16181b;text-decoration:none;background-color:#e9ecef}.dropdown-item.active,.dropdown-item:active{color:#fff;text-decoration:none;background-color:#007bff}.dropdown-item.disabled,.dropdown-item:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.nav{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding-left:0;list-style:none}.nav-link{display:block;padding:.5rem 1rem}.nav-link:focus,.nav-link:hover{text-decoration:none}.navbar{position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;padding:.5rem 1rem}.navbar .container{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.navbar-brand{display:inline-block;padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;line-height:inherit;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-nav{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link{padding-right:0;padding-left:0}.navbar-nav .dropdown-menu{position:static;float:none}.navbar-collapse{-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}.navbar-toggler{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem}.navbar-toggler:focus,.navbar-toggler:hover{text-decoration:none}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;content:"";background:50%/100% 100%no-repeat}@media (max-width:767.98px){.navbar-expand-md>.container{padding-right:0;padding-left:0}}@media (min-width:768px){.navbar-expand-md{-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-pack:start;justify-content:flex-start}.navbar-expand-md .navbar-nav{-ms-flex-direction:row;flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md>.container{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.navbar-expand-md .navbar-collapse{display:-ms-flexbox!important;display:flex!important;-ms-flex-preferred-size:auto;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}}.navbar-light .navbar-brand{color:rgba(0,0,0,.9)}.navbar-light .navbar-brand:focus,.navbar-light .navbar-brand:hover{color:rgba(0,0,0,.9)}.navbar-light .navbar-nav .nav-link{color:rgba(0,0,0,.5)}.navbar-light .navbar-nav .nav-link:focus,.navbar-light .navbar-nav .nav-link:hover{color:rgba(0,0,0,.7)}.navbar-light .navbar-toggler{color:rgba(0,0,0,.5);border-color:rgba(0,0,0,.1)}.navbar-light .navbar-toggler-icon{background-image:url(data:image/svg+xml,%3csvg\ xmlns=\'http://www.w3.org/2000/svg\'\ width=\'30\'\ height=\'30\'\ viewBox=\'0\ 0\ 30\ 30\'%3e%3cpath\ stroke=\'rgba%280,\ 0,\ 0,\ 0.5%29\'\ stroke-linecap=\'round\'\ stroke-miterlimit=\'10\'\ stroke-width=\'2\'\ d=\'M4\ 7h22M4\ 15h22M4\ 23h22\'/%3e%3c/svg%3e)}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-header:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px)0 0}.jumbotron{padding:2rem 1rem;margin-bottom:2rem}@media (min-width:576px){.jumbotron{padding:4rem 2rem}}@-webkit-keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:1rem 0}to{background-position:0 0}}@-webkit-keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-border{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}@keyframes spinner-grow{0%{-webkit-transform:scale(0);transform:scale(0)}50%{opacity:1;-webkit-transform:none;transform:none}}.bg-primary{background-color:#007bff!important}.bg-light{background-color:#f8f9fa!important}.rounded-0{border-radius:0!important}.d-flex{display:-ms-flexbox!important;display:flex!important}.flex-wrap{-ms-flex-wrap:wrap!important;flex-wrap:wrap!important}.justify-content-end{-ms-flex-pack:end!important;justify-content:flex-end!important}.justify-content-center{-ms-flex-pack:center!important;justify-content:center!important}.justify-content-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.align-items-center{-ms-flex-align:center!important;align-items:center!important}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.w-100{width:100%!important}.h-100{height:100%!important}.mw-100{max-width:100%!important}.mb-0{margin-bottom:0!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.p-5{padding:3rem!important}.text-center{text-align:center!important}.text-white{color:#fff!important}.text-primary{color:#007bff!important}.text-secondary{color:#6c757d!important}[v-cloak]{display:none}.carbonads{border:1px solid #ccc;border-radius:0.25rem;font-size:0.875rem;overflow:hidden;padding:1rem}@media (min-width:768px){.carbonads{float:right;margin-bottom:-1rem;margin-top:-1rem;max-width:360px}}.footer{font-size:0.875rem}.heart{color:#ddd;display:block;height:2rem;line-height:2rem;margin-bottom:0;margin-top:1rem;position:relative;text-align:center;width:100%}.heart:hover{color:#ff4136}.heart::before{border-top:1px solid #eee;content:" ";display:block;height:0;left:0;position:absolute;right:0;top:50%}.heart::after{background-color:#fff;content:"♥";padding-left:0.5rem;padding-right:0.5rem;position:relative;z-index:1}</style>
<link type="image/x-icon" rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAGYktHRAAAAAAAAPlDu38AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAJdnBBZwAAACAAAAAgAIf6nJ0AAAD0SURBVFjD7dRRDoMgDAbg38UrzO3+Z9rM5l029gKmASltEdmDJiaaFP8PpAwAHDpel57hADCS5+HgbPcXK3ACTsAoqKk9J9ju6r4CYYbcLG8AZl/zAHBlaidf4/yYuyS3BJAiNOFqQAmhDTcBcghLuBkQI17+1oZXAQJiIWPfyvA119qGDsA3ev8Yv6VeAfrPF7ISpRbN5moAWxtOc05UAbjdbkGoAJJW0yLEAE2faxAigOWQkSKKAOsJJ0WwgJpwKSILmAA8K8MliE3AnuEUEb5JEQmgRTiHSACtwnOIBNAyfAuRAGZf0PqKEevDEeEU4QC4HyjOxHVJ28LzAAAAAElFTkSuQmCC"><link rel="canonical" href="https://fengyuanchen.github.io/compressorjs/"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body>
 
 
 <div class="container">
 
 
 <div id="app" v-cloak="">
 <div class="card bg-light mb-4" @change="change" @dragover="dragover" @drop="drop">
 <div class="card-body">
 <div class="p-5 text-center">Drop image here or <label class="text-primary">browse... <input type="file" class="sr-only" id="file" accept="image/*" ref="input" value=""></label></div>
 </div>
 </div>
 <div class="row">
 <div class="col-lg-4 mb-4">
 <div class="card h-100">
 <h4 class="card-header">Options</h4>
 <div class="card-body">
 <fieldset class="form-group">
 <div class="form-check form-check-inline">
 <input type="checkbox" name="strict" class="form-check-input" id="inputStrict" v-model="options.strict">
 <label class="form-check-label" for="inputStrict">strict</label>
 </div>
 </fieldset>
 <fieldset class="form-group">
 <div class="form-check form-check-inline">
 <input type="checkbox" name="checkOrientation" class="form-check-input" id="inputCheckOrientation" v-model="options.checkOrientation">
 <label class="form-check-label" for="inputCheckOrientation">checkOrientation</label>
 </div>
 </fieldset>
 <div class="form-group row">
 <label for="inputMaxWidth" class="col-5 col-form-label">maxWidth</label>
 <div class="col-7">
 <input type="number" name="maxWidth" class="form-control" id="inputMaxWidth" placeholder="Infinity" v-model.number="options.maxWidth" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputMaxHeight" class="col-5 col-form-label">maxHeight</label>
 <div class="col-7">
 <input type="number" name="maxHeight" class="form-control" id="inputMaxHeight" placeholder="Infinity" v-model.number="options.maxHeight" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputMinWidth" class="col-5 col-form-label">minWidth</label>
 <div class="col-7">
 <input type="number" name="minWidth" class="form-control" id="inputMinWidth" placeholder="0" v-model.number="options.minWidth" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputMinHeight" class="col-5 col-form-label">minHeight</label>
 <div class="col-7">
 <input type="number" name="minHeight" class="form-control" id="inputMinHeight" placeholder="0" v-model.number="options.minHeight" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputWidth" class="col-5 col-form-label">width</label>
 <div class="col-7">
 <input type="number" name="width" class="form-control" id="inputWidth" placeholder="undefined" v-model.number="options.width" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputHeight" class="col-5 col-form-label">height</label>
 <div class="col-7">
 <input type="number" name="height" class="form-control" id="inputHeight" placeholder="undefined" v-model.number="options.height" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputResize" class="col-5 col-form-label">resize</label>
 <div class="col-7">
 <select class="form-control" name="resize" id="inputResize" v-model.number="options.resize">
                    <option value="none">none</option>
                    <option value="contain">contain</option>
                    <option value="cover" selected="">cover</option>
                  </select>
 </div>
 </div>
 <div class="form-group row">
 <label for="inputQuality" class="col-5 col-form-label">quality</label>
 <div class="col-7">
 <select class="form-control" name="quality" id="inputQuality" v-model.number="options.quality">
                    <option value="0">0</option>
                    <option value="0.1">0.1</option>
                    <option value="0.2">0.2</option>
                    <option value="0.3">0.3</option>
                    <option value="0.4">0.4</option>
                    <option value="0.5">0.5</option>
                    <option value="0.6">0.6</option>
                    <option value="0.7">0.7</option>
                    <option value="0.8">0.8</option>
                    <option value="0.9">0.9</option>
                    <option value="1">1</option>
                    <option value="" selected="">NaN</option>
                  </select>
 </div>
 </div>
 <div class="form-group row">
 <label for="inputMimeType" class="col-5 col-form-label">mimeType</label>
 <div class="col-7">
 <input type="text" name="mimeType" class="form-control" id="inputMimeType" placeholder="auto" v-model.number="options.mimeType" value="">
 </div>
 </div>
 <div class="form-group row">
 <label for="inputConvertTypes" class="col-5 col-form-label">convertTypes</label>
 <div class="col-7">
 <input type="text" name="convertTypes" class="form-control" id="inputConvertTypes" placeholder="image/png" v-model="options.convertTypes" value="">
 </div>
 </div>
 <div class="form-group row mb-0">
 <label for="inputConvertSize" class="col-5 col-form-label">convertSize</label>
 <div class="col-7">
 <input type="number" name="convertSize" class="form-control" id="inputConvertSize" placeholder="5000000" v-model.number="options.convertSize" value="">
 </div>
 </div>
 </div>
 </div>
 </div>
 <div class="col-lg-8 mb-4">
 <div class="card mb-4">
 <h5 class="card-header d-flex align-items-center justify-content-between">
 <span>Input image <small class="text-secondary">(original image)</small></span>
 <a class="btn btn-sm btn-blocks btn-outline-primary" :download="input.name" :href="inputURL" title="Download the compressed image">Download</a>
 </h5>
 <div class="card-body">
 <div class="row">
 <div class="col-md-4 d-flex mb-3">
 <div class="w-100 text-center" v-if="inputURL">
 <img class="mw-100" :src="inputURL" :alt="input.name">
 </div>
 <div v-else="" class="w-100 bg-light"></div>
 </div>
 <div class="col-md-8">
 <dl class="row">
 <dt class="col-5">lastModified:</dt>
 <dd class="col-7">{{ input.lastModified || 'N/A' }}</dd>
 <dt class="col-5">lastModifiedDate:</dt>
 <dd class="col-7">{{ input.lastModifiedDate || 'N/A' }}</dd>
 <dt class="col-5">name:</dt>
 <dd class="col-7">{{ input.name || 'N/A' }}</dd>
 <dt class="col-5">type:</dt>
 <dd class="col-7">{{ input.type || 'N/A' }}</dd>
 <dt class="col-5">size:</dt>
 <dd class="col-7">{{ input.size | prettySize }}</dd>
 </dl>
 </div>
 </div>
 </div>
 </div>
 <div class="card">
 <h5 class="card-header d-flex align-items-center justify-content-between">
 <span>Output image <small class="text-secondary">(compressed image)</small></span>
 <a class="btn btn-sm btn-blocks btn-outline-primary" :download="output.name" :href="outputURL" title="Download the compressed image">Download</a>
 </h5>
 <div class="card-body">
 <div class="row">
 <div class="col-md-4 d-flex mb-3">
 <div class="w-100 text-center" v-if="outputURL">
 <img class="mw-100" :src="outputURL" :alt="output.name">
 </div>
 <div v-else="" class="w-100 bg-light"></div>
 </div>
 <div class="col-md-8">
 <dl class="row">
 <dt class="col-5">lastModified:</dt>
 <dd class="col-7">{{ output.lastModified || 'N/A' }}</dd>
 <dt class="col-5">lastModifiedDate:</dt>
 <dd class="col-7">{{ output.lastModifiedDate || 'N/A' }}</dd>
 <dt class="col-5">name:</dt>
 <dd class="col-7">{{ output.name || 'N/A' }}</dd>
 <dt class="col-5">type:</dt>
 <dd class="col-7">{{ output.type || 'N/A' }}</dd>
 <dt class="col-5">size:</dt>
 <dd class="col-7">{{ output.size | prettySize }}
 <span v-if="output.size">({{ ((1 - (output.size / input.size)) * 100).toFixed(2) }}% off)</span>
 </dd>
 </dl>
 </div>
 </div>
 </div>
 </div>
 </div>
 </div>
 <div class="card" v-if="inputURL &amp;&amp; outputURL">
 <h4 class="card-header">Comparing images</h4>
 <div class="card-body">
 <vue-compare-image v-if="inputURL &amp;&amp; outputURL" :left-image="inputURL" :left-image-alt="input.name" left-label="Input image" :right-image="outputURL" :right-image-alt="output.name" right-label="Output image"></vue-compare-image>
 </div>
 </div>
 </div>
 </div>
 
 <script crossorigin="anonymous" src="data:application/javascript;base64,LyohIGpRdWVyeSB2My42LjMgLWFqYXgsLWFqYXgvanNvbnAsLWFqYXgvbG9hZCwtYWpheC9zY3JpcHQsLWFqYXgvdmFyL2xvY2F0aW9uLC1hamF4L3Zhci9ub25jZSwtYWpheC92YXIvcnF1ZXJ5LC1hamF4L3hociwtbWFuaXB1bGF0aW9uL19ldmFsVXJsLC1kZXByZWNhdGVkL2FqYXgtZXZlbnQtYWxpYXMsLWVmZmVjdHMsLWVmZmVjdHMvVHdlZW4sLWVmZmVjdHMvYW5pbWF0ZWRTZWxlY3RvciB8IChjKSBPcGVuSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGcsZSl7InVzZSBzdHJpY3QiO3ZhciB0PVtdLHI9T2JqZWN0LmdldFByb3RvdHlwZU9mLHM9dC5zbGljZSx2PXQuZmxhdD9mdW5jdGlvbihlKXtyZXR1cm4gdC5mbGF0LmNhbGwoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiB0LmNvbmNhdC5hcHBseShbXSxlKX0sdT10LnB1c2gsaT10LmluZGV4T2Ysbj17fSxvPW4udG9TdHJpbmcseT1uLmhhc093blByb3BlcnR5LGE9eS50b1N0cmluZyxsPWEuY2FsbChPYmplY3QpLG09e30sYj1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZSYmIm51bWJlciIhPXR5cGVvZiBlLm5vZGVUeXBlJiYiZnVuY3Rpb24iIT10eXBlb2YgZS5pdGVtfSx4PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlPT09ZS53aW5kb3d9LHc9Zy5kb2N1bWVudCxjPXt0eXBlOiEwLHNyYzohMCxub25jZTohMCxub01vZHVsZTohMH07ZnVuY3Rpb24gQyhlLHQsbil7dmFyIHIsaSxvPShuPW58fHcpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKG8udGV4dD1lLHQpZm9yKHIgaW4gYykoaT10W3JdfHx0LmdldEF0dHJpYnV0ZSYmdC5nZXRBdHRyaWJ1dGUocikpJiZvLnNldEF0dHJpYnV0ZShyLGkpO24uaGVhZC5hcHBlbmRDaGlsZChvKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfWZ1bmN0aW9uIFQoZSl7cmV0dXJuIG51bGw9PWU/ZSsiIjoib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlP25bby5jYWxsKGUpXXx8Im9iamVjdCI6dHlwZW9mIGV9dmFyIGY9IjMuNi4zIC1hamF4LC1hamF4L2pzb25wLC1hamF4L2xvYWQsLWFqYXgvc2NyaXB0LC1hamF4L3Zhci9sb2NhdGlvbiwtYWpheC92YXIvbm9uY2UsLWFqYXgvdmFyL3JxdWVyeSwtYWpheC94aHIsLW1hbmlwdWxhdGlvbi9fZXZhbFVybCwtZGVwcmVjYXRlZC9hamF4LWV2ZW50LWFsaWFzLC1lZmZlY3RzLC1lZmZlY3RzL1R3ZWVuLC1lZmZlY3RzL2FuaW1hdGVkU2VsZWN0b3IiLEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEUuZm4uaW5pdChlLHQpfTtmdW5jdGlvbiBkKGUpe3ZhciB0PSEhZSYmImxlbmd0aCJpbiBlJiZlLmxlbmd0aCxuPVQoZSk7cmV0dXJuIWIoZSkmJiF4KGUpJiYoImFycmF5Ij09PW58fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJjA8dCYmdC0xIGluIGUpfUUuZm49RS5wcm90b3R5cGU9e2pxdWVyeTpmLGNvbnN0cnVjdG9yOkUsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBzLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9zLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PUUubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBFLmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhFLm1hcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQsZSl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHMuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXZlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhFLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybih0KzEpJTJ9KSl9LG9kZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhFLmdyZXAodGhpcyxmdW5jdGlvbihlLHQpe3JldHVybiB0JTJ9KSl9LGVxOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubGVuZ3RoLG49K2UrKGU8MD90OjApO3JldHVybiB0aGlzLnB1c2hTdGFjaygwPD1uJiZuPHQ/W3RoaXNbbl1dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcigpfSxwdXNoOnUsc29ydDp0LnNvcnQsc3BsaWNlOnQuc3BsaWNlfSxFLmV4dGVuZD1FLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhPWFyZ3VtZW50c1swXXx8e30scz0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBhJiYobD1hLGE9YXJndW1lbnRzW3NdfHx7fSxzKyspLCJvYmplY3QiPT10eXBlb2YgYXx8YihhKXx8KGE9e30pLHM9PT11JiYoYT10aGlzLHMtLSk7czx1O3MrKylpZihudWxsIT0oZT1hcmd1bWVudHNbc10pKWZvcih0IGluIGUpcj1lW3RdLCJfX3Byb3RvX18iIT09dCYmYSE9PXImJihsJiZyJiYoRS5pc1BsYWluT2JqZWN0KHIpfHwoaT1BcnJheS5pc0FycmF5KHIpKSk/KG49YVt0XSxvPWkmJiFBcnJheS5pc0FycmF5KG4pP1tdOml8fEUuaXNQbGFpbk9iamVjdChuKT9uOnt9LGk9ITEsYVt0XT1FLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihhW3RdPXIpKTtyZXR1cm4gYX0sRS5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKGYrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoZSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4hKCFlfHwiW29iamVjdCBPYmplY3RdIiE9PW8uY2FsbChlKSkmJighKHQ9cihlKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihuPXkuY2FsbCh0LCJjb25zdHJ1Y3RvciIpJiZ0LmNvbnN0cnVjdG9yKSYmYS5jYWxsKG4pPT09bCl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZSlyZXR1cm4hMTtyZXR1cm4hMH0sZ2xvYmFsRXZhbDpmdW5jdGlvbihlLHQsbil7QyhlLHtub25jZTp0JiZ0Lm5vbmNlfSxuKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihkKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKGQoT2JqZWN0KGUpKT9FLm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTp1LmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6aS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdLGk9MCxvPWUubGVuZ3RoLGE9IW47aTxvO2krKykhdChlW2ldLGkpIT09YSYmci5wdXNoKGVbaV0pO3JldHVybiByfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLGE9W107aWYoZChlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJmEucHVzaChpKTtyZXR1cm4gdihhKX0sZ3VpZDoxLHN1cHBvcnQ6bX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihFLmZuW1N5bWJvbC5pdGVyYXRvcl09dFtTeW1ib2wuaXRlcmF0b3JdKSxFLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgcD1mdW5jdGlvbihuKXt2YXIgZSxwLHgsbyxpLGgsZixnLHcsdSxsLEMsVCxhLEUsdixzLGMseSxTPSJzaXp6bGUiKzEqbmV3IERhdGUsZD1uLmRvY3VtZW50LEE9MCxyPTAsbT11ZSgpLGI9dWUoKSxOPXVlKCksaz11ZSgpLEQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihsPSEwKSwwfSxMPXt9Lmhhc093blByb3BlcnR5LHQ9W10saj10LnBvcCxxPXQucHVzaCxPPXQucHVzaCxQPXQuc2xpY2UsSD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sST0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLFI9IltcXHgyMFxcdFxcclxcblxcZl0iLEI9Iig/OlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitSKyI/fFxcXFxbXlxcclxcblxcZl18W1xcdy1dfFteXDAtXFx4N2ZdKSsiLE09IlxcWyIrUisiKigiK0IrIikoPzoiK1IrIiooWypeJHwhfl0/PSkiK1IrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitCKyIpKXwpIitSKyIqXFxdIixXPSI6KCIrQisiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTSsiKSopfC4qKVxcKXwpIixGPW5ldyBSZWdFeHAoUisiKyIsImciKSwkPW5ldyBSZWdFeHAoIl4iK1IrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrUisiKyQiLCJnIiksej1uZXcgUmVnRXhwKCJeIitSKyIqLCIrUisiKiIpLF89bmV3IFJlZ0V4cCgiXiIrUisiKihbPit+XXwiK1IrIikiK1IrIioiKSxVPW5ldyBSZWdFeHAoUisifD4iKSxWPW5ldyBSZWdFeHAoVyksWD1uZXcgUmVnRXhwKCJeIitCKyIkIiksUT17SUQ6bmV3IFJlZ0V4cCgiXiMoIitCKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK0IrIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK0IrInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitNKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrVyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitSKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitSKyIqKD86KFsrLV18KSIrUisiKihcXGQrKXwpKSIrUisiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSSsiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK1IrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrUisiKigoPzotXFxkKT9cXGQqKSIrUisiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWT0vSFRNTCQvaSxHPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksSz0vXmhcZCQvaSxKPS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxaPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sZWU9L1srfl0vLHRlPW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitSKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxuZT1mdW5jdGlvbihlLHQpe3ZhciBuPSIweCIrZS5zbGljZSgxKS02NTUzNjtyZXR1cm4gdHx8KG48MD9TdHJpbmcuZnJvbUNoYXJDb2RlKG4rNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUobj4+MTB8NTUyOTYsMTAyMyZufDU2MzIwKSl9LHJlPS8oW1wwLVx4MWZceDdmXXxeLT9cZCl8Xi0kfFteXDAtXHgxZlx4N2YtXHVGRkZGXHctXS9nLGllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/IlwwIj09PWU/Ilx1ZmZmZCI6ZS5zbGljZSgwLC0xKSsiXFwiK2UuY2hhckNvZGVBdChlLmxlbmd0aC0xKS50b1N0cmluZygxNikrIiAiOiJcXCIrZX0sb2U9ZnVuY3Rpb24oKXtDKCl9LGFlPXhlKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmImZpZWxkc2V0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKX0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtPLmFwcGx5KHQ9UC5jYWxsKGQuY2hpbGROb2RlcyksZC5jaGlsZE5vZGVzKSx0W2QuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe089e2FwcGx5OnQubGVuZ3RoP2Z1bmN0aW9uKGUsdCl7cS5hcHBseShlLFAuY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5sZW5ndGgscj0wO3doaWxlKGVbbisrXT10W3IrK10pO2UubGVuZ3RoPW4tMX19fWZ1bmN0aW9uIHNlKHQsZSxuLHIpe3ZhciBpLG8sYSxzLHUsbCxjLGY9ZSYmZS5vd25lckRvY3VtZW50LGQ9ZT9lLm5vZGVUeXBlOjk7aWYobj1ufHxbXSwic3RyaW5nIiE9dHlwZW9mIHR8fCF0fHwxIT09ZCYmOSE9PWQmJjExIT09ZClyZXR1cm4gbjtpZighciYmKEMoZSksZT1lfHxULEUpKXtpZigxMSE9PWQmJih1PVouZXhlYyh0KSkpaWYoaT11WzFdKXtpZig5PT09ZCl7aWYoIShhPWUuZ2V0RWxlbWVudEJ5SWQoaSkpKXJldHVybiBuO2lmKGEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNlIGlmKGYmJihhPWYuZ2V0RWxlbWVudEJ5SWQoaSkpJiZ5KGUsYSkmJmEuaWQ9PT1pKXJldHVybiBuLnB1c2goYSksbn1lbHNle2lmKHVbMl0pcmV0dXJuIE8uYXBwbHkobixlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpKSxuO2lmKChpPXVbM10pJiZwLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gTy5hcHBseShuLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShpKSksbn1pZihwLnFzYSYmIWtbdCsiICJdJiYoIXZ8fCF2LnRlc3QodCkpJiYoMSE9PWR8fCJvYmplY3QiIT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl7aWYoYz10LGY9ZSwxPT09ZCYmKFUudGVzdCh0KXx8Xy50ZXN0KHQpKSl7KGY9ZWUudGVzdCh0KSYmeWUoZS5wYXJlbnROb2RlKXx8ZSk9PT1lJiZwLnNjb3BlfHwoKHM9ZS5nZXRBdHRyaWJ1dGUoImlkIikpP3M9cy5yZXBsYWNlKHJlLGllKTplLnNldEF0dHJpYnV0ZSgiaWQiLHM9UykpLG89KGw9aCh0KSkubGVuZ3RoO3doaWxlKG8tLSlsW29dPShzPyIjIitzOiI6c2NvcGUiKSsiICIrYmUobFtvXSk7Yz1sLmpvaW4oIiwiKX10cnl7aWYocC5jc3NTdXBwb3J0c1NlbGVjdG9yJiYhQ1NTLnN1cHBvcnRzKCJzZWxlY3Rvcig6aXMoIitjKyIpKSIpKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gTy5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtrKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT54LmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9VC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKXguYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIGRlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBwZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBwPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LEM9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOmQ7cmV0dXJuIHIhPVQmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KFQ9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoVCksZCE9VCYmKG49VC5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLHAuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoVC5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxwLmNzc1N1cHBvcnRzU2VsZWN0b3I9Y2UoZnVuY3Rpb24oKXtyZXR1cm4gQ1NTLnN1cHBvcnRzKCJzZWxlY3RvcigqKSIpJiZULnF1ZXJ5U2VsZWN0b3JBbGwoIjppcyg6anFmYWtlKSIpJiYhQ1NTLnN1cHBvcnRzKCJzZWxlY3Rvcig6aXMoKiw6anFmYWtlKSkiKX0pLHAuYXR0cmlidXRlcz1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxwLmdldEVsZW1lbnRzQnlUYWdOYW1lPWNlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKFQuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSkscC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPUoudGVzdChULmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLHAuZ2V0QnlJZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChlKS5pZD1TLCFULmdldEVsZW1lbnRzQnlOYW1lfHwhVC5nZXRFbGVtZW50c0J5TmFtZShTKS5sZW5ndGh9KSxwLmdldEJ5SWQ/KHguZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZSh0ZSxuZSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgiaWQiKT09PXR9fSx4LmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIG4/W25dOltdfX0pOih4LmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgbj1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiB0JiZ0LnZhbHVlPT09bn19LHguZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmRSl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb107aT10LmdldEVsZW1lbnRzQnlOYW1lKGUpLHI9MDt3aGlsZShvPWlbcisrXSlpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSkseC5maW5kLlRBRz1wLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk6cC5xc2E/dC5xdWVyeVNlbGVjdG9yQWxsKGUpOnZvaWQgMH06ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9MCxvPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7aWYoIioiPT09ZSl7d2hpbGUobj1vW2krK10pMT09PW4ubm9kZVR5cGUmJnIucHVzaChuKTtyZXR1cm4gcn1yZXR1cm4gb30seC5maW5kLkNMQVNTPXAuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmRSlyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfSxzPVtdLHY9W10sKHAucXNhPUoudGVzdChULnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGNlKGZ1bmN0aW9uKGUpe3ZhciB0O2EuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPSI8YSBpZD0nIitTKyInPjwvYT48c2VsZWN0IGlkPSciK1MrIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbbXNhbGxvd2NhcHR1cmVePScnXSIpLmxlbmd0aCYmdi5wdXNoKCJbKl4kXT0iK1IrIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiW3NlbGVjdGVkXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK1IrIiooPzp2YWx1ZXwiK0krIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitTKyItXSIpLmxlbmd0aHx8di5wdXNoKCJ+PSIpLCh0PVQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJuYW1lIiwiIiksZS5hcHBlbmRDaGlsZCh0KSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPScnXSIpLmxlbmd0aHx8di5wdXNoKCJcXFsiK1IrIipuYW1lIitSKyIqPSIrUisiKig/OicnfFwiXCIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8di5wdXNoKCI6Y2hlY2tlZCIpLGUucXVlcnlTZWxlY3RvckFsbCgiYSMiK1MrIisqIikubGVuZ3RofHx2LnB1c2goIi4jLitbK35dIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJcXFxmIiksdi5wdXNoKCJbXFxyXFxuXFxmXSIpfSksY2UoZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9IjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwvc2VsZWN0PiI7dmFyIHQ9VC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmdi5wdXNoKCJuYW1lIitSKyIqWypeJHwhfl0/PSIpLDIhPT1lLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJnYucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKSx2LnB1c2goIiwuKjoiKX0pKSwocC5tYXRjaGVzU2VsZWN0b3I9Si50ZXN0KGM9YS5tYXRjaGVzfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEub01hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcikpJiZjZShmdW5jdGlvbihlKXtwLmRpc2Nvbm5lY3RlZE1hdGNoPWMuY2FsbChlLCIqIiksYy5jYWxsKGUsIltzIT0nJ106eCIpLHMucHVzaCgiIT0iLFcpfSkscC5jc3NTdXBwb3J0c1NlbGVjdG9yfHx2LnB1c2goIjpoYXMiKSx2PXYubGVuZ3RoJiZuZXcgUmVnRXhwKHYuam9pbigifCIpKSxzPXMubGVuZ3RoJiZuZXcgUmVnRXhwKHMuam9pbigifCIpKSx0PUoudGVzdChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSx5PXR8fEoudGVzdChhLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlJiZlLmRvY3VtZW50RWxlbWVudHx8ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sRD10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFwLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09VHx8ZS5vd25lckRvY3VtZW50PT1kJiZ5KGQsZSk/LTE6dD09VHx8dC5vd25lckRvY3VtZW50PT1kJiZ5KGQsdCk/MTp1P0godSxlKS1IKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1UPy0xOnQ9PVQ/MTppPy0xOm8/MTp1P0godSxlKS1IKHUsdCk6MDtpZihpPT09bylyZXR1cm4gZGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP2RlKGFbcl0sc1tyXSk6YVtyXT09ZD8tMTpzW3JdPT1kPzE6MH0pLFR9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKEMoZSkscC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFrW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8cC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe2sodCwhMCl9cmV0dXJuIDA8c2UodCxULG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPVQmJkMoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPVQmJkMoZSk7dmFyIG49eC5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZMLmNhbGwoeC5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOnAuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IXAuZGV0ZWN0RHVwbGljYXRlcyx1PSFwLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KEQpLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LCh4PXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOlEsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gUS5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZWLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitSKyIpIitlKyIoIitSKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoRiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLGI9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPWImJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxkPSFuJiYhYixwPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoYj9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmZCl7cD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09QSYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChwPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrcCYmYT09PWUpe2lbaF09W0EscyxwXTticmVha319ZWxzZSBpZihkJiYocD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1BJiZyWzFdKSwhMT09PXApd2hpbGUoYT0rK3MmJmEmJmFbbF18fChwPXM9MCl8fHUucG9wKCkpaWYoKGI/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrcCYmKGQmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtBLHBdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKHAtPXYpPT09Z3x8cCVnPT0wJiYwPD1wL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT14LnBzZXVkb3NbZV18fHguc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLHguc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPUgoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBYLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PVQuYWN0aXZlRWxlbWVudCYmKCFULmhhc0ZvY3VzfHxULmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIXgucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBLLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBHLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPXgucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0peC5wc2V1ZG9zW2VdPXBlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0peC5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIGJlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24geGUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMsZD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bQSxkXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PUEmJnJbMV09PT1kKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIENlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gVGUocCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9VGUodikpLHkmJiF5W1NdJiYoeT1UZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IXB8fCFlJiZoP2M6Q2UoYyxzLHAsbixyKSxkPWc/eXx8KGU/cDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLGQsbixyKSx2KXtpPUNlKGQsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihkW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8cCl7aWYoeSl7aT1bXSxvPWQubGVuZ3RoO3doaWxlKG8tLSkoYT1kW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLGQ9W10saSxyKX1vPWQubGVuZ3RoO3doaWxlKG8tLSkoYT1kW29dKSYmLTE8KGk9eT9IKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgZD1DZShkPT09dD9kLnNwbGljZShsLGQubGVuZ3RoKTpkKSx5P3kobnVsbCx0LGQscik6Ty5hcHBseSh0LGQpfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89eC5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8eC5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT14ZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9eGUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8SChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PXgucmVsYXRpdmVbZVtzXS50eXBlXSljPVt4ZSh3ZShjKSx0KV07ZWxzZXtpZigodD14LmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKHgucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gVGUoMTxzJiZ3ZShjKSwxPHMmJmJlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZiZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPXguZmlsdGVycz14LnBzZXVkb3MseC5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD1iW2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PXgucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj16LmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj1fLmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLHguZmlsdGVyKSEocj1RW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6YihlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSxiLHIsaT1bXSxvPVtdLGE9TltlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPU4oZSwodj1vLG09MDwoeT1pKS5sZW5ndGgsYj0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxkPXcscD1lfHxiJiZ4LmZpbmQuVEFHKCIqIixpKSxoPUErPW51bGw9PWQ/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPXAubGVuZ3RoO2ZvcihpJiYodz10PT1UfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89cFtsXSk7bCsrKXtpZihiJiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1UfHwoQyhvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8VCxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihBPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09ai5jYWxsKHIpKTtmPUNlKGYpfU8uYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoQT1oLHc9ZCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmeC5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KHguZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1RLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0seC5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9eC5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZiZShvKSkpcmV0dXJuIE8uYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LHAuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KEQpLmpvaW4oIiIpPT09UyxwLmRldGVjdER1cGxpY2F0ZXM9ISFsLEMoKSxwLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKFQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSkscC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoSSxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oZyk7RS5maW5kPXAsRS5leHByPXAuc2VsZWN0b3JzLEUuZXhwclsiOiJdPUUuZXhwci5wc2V1ZG9zLEUudW5pcXVlU29ydD1FLnVuaXF1ZT1wLnVuaXF1ZVNvcnQsRS50ZXh0PXAuZ2V0VGV4dCxFLmlzWE1MRG9jPXAuaXNYTUwsRS5jb250YWlucz1wLmNvbnRhaW5zLEUuZXNjYXBlU2VsZWN0b3I9cC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJkUoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxTPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxBPUUuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gTihlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIGs9L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gRChlLG4scil7cmV0dXJuIGIobik/RS5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9FLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP0UuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOkUuZmlsdGVyKG4sZSxyKX1FLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9FLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOkUuZmluZC5tYXRjaGVzKGUsRS5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxFLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soRShlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoRS5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylFLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/RS51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRCh0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhRCh0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmQS50ZXN0KGUpP0UoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgTCxqPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KEUuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEwsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpqLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIEU/dFswXTp0LEUubWVyZ2UodGhpcyxFLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OncsITApKSxrLnRlc3QoclsxXSkmJkUuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KWIodGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT13LmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTpiKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKEUpOkUubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9RS5mbixMPUUodyk7dmFyIHE9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sTz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBQKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1FLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PUUoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoRS5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZFKGUpO2lmKCFBLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmRS5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP0UudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChFKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRS51bmlxdWVTb3J0KEUubWVyZ2UodGhpcy5nZXQoKSxFKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLEUuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFAoZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gUChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gUygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooTihlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLEUubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe0UuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1FLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPUUuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihPW3JdfHxFLnVuaXF1ZVNvcnQobikscS50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIEg9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBJKGUpe3JldHVybiBlfWZ1bmN0aW9uIFIoZSl7dGhyb3cgZX1mdW5jdGlvbiBCKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZiKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJmIoaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1FLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxFLmVhY2goZS5tYXRjaChIKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6RS5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe0UuZWFjaChlLGZ1bmN0aW9uKGUsdCl7Yih0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT1UKHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIEUuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1FLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxFLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LEUuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsRS5DYWxsYmFja3MoIm1lbW9yeSIpLEUuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixFLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxFLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsRS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksRS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gRS5EZWZlcnJlZChmdW5jdGlvbihyKXtFLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPWIoaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJmIoZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLGIodCk/cz90LmNhbGwoZSxsKHUsbyxJLHMpLGwodSxvLFIscykpOih1KyssdC5jYWxsKGUsbCh1LG8sSSxzKSxsKHUsbyxSLHMpLGwodSxvLEksby5ub3RpZnlXaXRoKSkpOihhIT09SSYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7RS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZFLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1SJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihFLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1FLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxnLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gRS5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxiKHIpP3I6SSxlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxiKHQpP3Q6SSkpLG9bMl1bM10uYWRkKGwoMCxlLGIobik/bjpSKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/RS5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gRS5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89RS5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEIoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxiKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pQihpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgTT0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztFLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtnLmNvbnNvbGUmJmcuY29uc29sZS53YXJuJiZlJiZNLnRlc3QoZS5uYW1lKSYmZy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LEUucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Zy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgVz1FLkRlZmVycmVkKCk7ZnVuY3Rpb24gRigpe3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsRiksZy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixGKSxFLnJlYWR5KCl9RS5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gVy50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe0UucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxFLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tRS5yZWFkeVdhaXQ6RS5pc1JlYWR5KXx8KEUuaXNSZWFkeT0hMCkhPT1lJiYwPC0tRS5yZWFkeVdhaXR8fFcucmVzb2x2ZVdpdGgodyxbRV0pfX0pLEUucmVhZHkudGhlbj1XLnRoZW4sImNvbXBsZXRlIj09PXcucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09dy5yZWFkeVN0YXRlJiYhdy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Zy5zZXRUaW1lb3V0KEUucmVhZHkpOih3LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEYpLGcuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsRikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT1UKG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLGIocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoRShlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSx6PS9eLW1zLS8sXz0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBWKGUpe3JldHVybiBlLnJlcGxhY2UoeiwibXMtIikucmVwbGFjZShfLFUpfXZhciBYPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gUSgpe3RoaXMuZXhwYW5kbz1FLmV4cGFuZG8rUS51aWQrK31RLnVpZD0xLFEucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFgoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1YodCldPW47ZWxzZSBmb3IociBpbiB0KWlbVihyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtWKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChWKToodD1WKHQpKWluIHI/W3RdOnQubWF0Y2goSCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxFLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFFLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgUSxHPW5ldyBRLEs9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxKPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShKLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Sy50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fUcuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufUUuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBHLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEcuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0cucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksRS5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1HLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9VihyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe0cuc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9Ry5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe0cuc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtHLnJlbW92ZSh0aGlzLGUpfSl9fSksRS5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsRS5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49RS5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1FLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7RS5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6RS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksRS5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP0UucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9RS5xdWV1ZSh0aGlzLHQsbik7RS5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZFLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtFLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9RS5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPXcuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBFLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBFLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PUUuY3NzKGUsImRpc3BsYXkiKX07dmFyIHNlPXt9O2Z1bmN0aW9uIHVlKGUsdCl7Zm9yKHZhciBuLHIsaSxvLGEscyx1LGw9W10sYz0wLGY9ZS5sZW5ndGg7YzxmO2MrKykocj1lW2NdKS5zdHlsZSYmKG49ci5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PW4mJihsW2NdPVkuZ2V0KHIsImRpc3BsYXkiKXx8bnVsbCxsW2NdfHwoci5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT1yLnN0eWxlLmRpc3BsYXkmJmFlKHIpJiYobFtjXT0odT1hPW89dm9pZCAwLGE9KGk9cikub3duZXJEb2N1bWVudCxzPWkubm9kZU5hbWUsKHU9c2Vbc10pfHwobz1hLmJvZHkuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KHMpKSx1PUUuY3NzKG8sImRpc3BsYXkiKSxvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobyksIm5vbmUiPT09dSYmKHU9ImJsb2NrIiksc2Vbc109dSkpKSk6Im5vbmUiIT09biYmKGxbY109Im5vbmUiLFkuc2V0KHIsImRpc3BsYXkiLG4pKSk7Zm9yKGM9MDtjPGY7YysrKW51bGwhPWxbY10mJihlW2NdLnN0eWxlLmRpc3BsYXk9bFtjXSk7cmV0dXJuIGV9RS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdWUodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdWUodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlP2U/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YWUodGhpcyk/RSh0aGlzKS5zaG93KCk6RSh0aGlzKS5oaWRlKCl9KX19KTt2YXIgbGUsY2UsZmU9L14oPzpjaGVja2JveHxyYWRpbykkL2ksZGU9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2kscGU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO2xlPXcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKHcuY3JlYXRlRWxlbWVudCgiZGl2IikpLChjZT13LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksY2Uuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGNlLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxsZS5hcHBlbmRDaGlsZChjZSksbS5jaGVja0Nsb25lPWxlLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxsZS5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PC90ZXh0YXJlYT4iLG0ubm9DbG9uZUNoZWNrZWQ9ISFsZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsbGUuaW5uZXJIVE1MPSI8b3B0aW9uPjwvb3B0aW9uPiIsbS5vcHRpb249ISFsZS5sYXN0Q2hpbGQ7dmFyIGhlPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07ZnVuY3Rpb24gZ2UoZSx0KXt2YXIgbjtyZXR1cm4gbj0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsP2UucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJk4oZSx0KT9FLm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIHZlKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKVkuc2V0KGVbbl0sImdsb2JhbEV2YWwiLCF0fHxZLmdldCh0W25dLCJnbG9iYWxFdmFsIikpfWhlLnRib2R5PWhlLnRmb290PWhlLmNvbGdyb3VwPWhlLmNhcHRpb249aGUudGhlYWQsaGUudGg9aGUudGQsbS5vcHRpb258fChoZS5vcHRncm91cD1oZS5vcHRpb249WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSk7dmFyIHllPS88fCYjP1x3KzsvO2Z1bmN0aW9uIG1lKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGQ9W10scD0wLGg9ZS5sZW5ndGg7cDxoO3ArKylpZigobz1lW3BdKXx8MD09PW8paWYoIm9iamVjdCI9PT1UKG8pKUUubWVyZ2UoZCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKHllLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9aGVbc118fGhlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rRS5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO0UubWVyZ2UoZCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBkLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixwPTA7d2hpbGUobz1kW3ArK10paWYociYmLTE8RS5pbkFycmF5KG8scikpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD1pZShvKSxhPWdlKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnZlKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSlwZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9dmFyIGJlPS9eKFteLl0qKSg/OlwuKC4rKXwpLztmdW5jdGlvbiB4ZSgpe3JldHVybiEwfWZ1bmN0aW9uIHdlKCl7cmV0dXJuITF9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gZT09PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB3LmFjdGl2ZUVsZW1lbnR9Y2F0Y2goZSl7fX0oKT09KCJmb2N1cyI9PT10KX1mdW5jdGlvbiBUZShlLHQsbixyLGksbyl7dmFyIGEscztpZigib2JqZWN0Ij09dHlwZW9mIHQpe2ZvcihzIGluInN0cmluZyIhPXR5cGVvZiBuJiYocj1yfHxuLG49dm9pZCAwKSx0KVRlKGUscyxuLHIsdFtzXSxvKTtyZXR1cm4gZX1pZihudWxsPT1yJiZudWxsPT1pPyhpPW4scj1uPXZvaWQgMCk6bnVsbD09aSYmKCJzdHJpbmciPT10eXBlb2Ygbj8oaT1yLHI9dm9pZCAwKTooaT1yLHI9bixuPXZvaWQgMCkpLCExPT09aSlpPXdlO2Vsc2UgaWYoIWkpcmV0dXJuIGU7cmV0dXJuIDE9PT1vJiYoYT1pLChpPWZ1bmN0aW9uKGUpe3JldHVybiBFKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9RS5ndWlkKyspKSxlLmVhY2goZnVuY3Rpb24oKXtFLmV2ZW50LmFkZCh0aGlzLHQsaSxyLG4pfSl9ZnVuY3Rpb24gRWUoZSxpLG8pe28/KFkuc2V0KGUsaSwhMSksRS5ldmVudC5hZGQoZSxpLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuLHI9WS5nZXQodGhpcyxpKTtpZigxJmUuaXNUcmlnZ2VyJiZ0aGlzW2ldKXtpZihyLmxlbmd0aCkoRS5ldmVudC5zcGVjaWFsW2ldfHx7fSkuZGVsZWdhdGVUeXBlJiZlLnN0b3BQcm9wYWdhdGlvbigpO2Vsc2UgaWYocj1zLmNhbGwoYXJndW1lbnRzKSxZLnNldCh0aGlzLGksciksdD1vKHRoaXMsaSksdGhpc1tpXSgpLHIhPT0obj1ZLmdldCh0aGlzLGkpKXx8dD9ZLnNldCh0aGlzLGksITEpOm49e30sciE9PW4pcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLG4mJm4udmFsdWV9ZWxzZSByLmxlbmd0aCYmKFkuc2V0KHRoaXMsaSx7dmFsdWU6RS5ldmVudC50cmlnZ2VyKEUuZXh0ZW5kKHJbMF0sRS5FdmVudC5wcm90b3R5cGUpLHIuc2xpY2UoMSksdGhpcyl9KSxlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKX19KSk6dm9pZCAwPT09WS5nZXQoZSxpKSYmRS5ldmVudC5hZGQoZSxpLHhlKX1FLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKHQsZSxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYsZCxwLGgsZyx2PVkuZ2V0KHQpO2lmKFgodCkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJkUuZmluZC5tYXRjaGVzU2VsZWN0b3IocmUsaSksbi5ndWlkfHwobi5ndWlkPUUuZ3VpZCsrKSwodT12LmV2ZW50cyl8fCh1PXYuZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCkpLChhPXYuaGFuZGxlKXx8KGE9di5oYW5kbGU9ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBFJiZFLmV2ZW50LnRyaWdnZXJlZCE9PWUudHlwZT9FLmV2ZW50LmRpc3BhdGNoLmFwcGx5KHQsYXJndW1lbnRzKTp2b2lkIDB9KSxsPShlPShlfHwiIikubWF0Y2goSCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0pcD1nPShzPWJlLmV4ZWMoZVtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCkscCYmKGY9RS5ldmVudC5zcGVjaWFsW3BdfHx7fSxwPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxwLGY9RS5ldmVudC5zcGVjaWFsW3BdfHx7fSxjPUUuZXh0ZW5kKHt0eXBlOnAsb3JpZ1R5cGU6ZyxkYXRhOnIsaGFuZGxlcjpuLGd1aWQ6bi5ndWlkLHNlbGVjdG9yOmksbmVlZHNDb250ZXh0OmkmJkUuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKCIuIil9LG8pLChkPXVbcF0pfHwoKGQ9dVtwXT1bXSkuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJiExIT09Zi5zZXR1cC5jYWxsKHQscixoLGEpfHx0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihwLGEpKSxmLmFkZCYmKGYuYWRkLmNhbGwodCxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/ZC5zcGxpY2UoZC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpkLnB1c2goYyksRS5ldmVudC5nbG9iYWxbcF09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYsZCxwLGgsZyx2PVkuaGFzRGF0YShlKSYmWS5nZXQoZSk7aWYodiYmKHU9di5ldmVudHMpKXtsPSh0PSh0fHwiIikubWF0Y2goSCl8fFsiIl0pLmxlbmd0aDt3aGlsZShsLS0paWYocD1nPShzPWJlLmV4ZWModFtsXSl8fFtdKVsxXSxoPShzWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCkscCl7Zj1FLmV2ZW50LnNwZWNpYWxbcF18fHt9LGQ9dVtwPShyP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxwXXx8W10scz1zWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGE9bz1kLmxlbmd0aDt3aGlsZShvLS0pYz1kW29dLCFpJiZnIT09Yy5vcmlnVHlwZXx8biYmbi5ndWlkIT09Yy5ndWlkfHxzJiYhcy50ZXN0KGMubmFtZXNwYWNlKXx8ciYmciE9PWMuc2VsZWN0b3ImJigiKioiIT09cnx8IWMuc2VsZWN0b3IpfHwoZC5zcGxpY2UobywxKSxjLnNlbGVjdG9yJiZkLmRlbGVnYXRlQ291bnQtLSxmLnJlbW92ZSYmZi5yZW1vdmUuY2FsbChlLGMpKTthJiYhZC5sZW5ndGgmJihmLnRlYXJkb3duJiYhMSE9PWYudGVhcmRvd24uY2FsbChlLGgsdi5oYW5kbGUpfHxFLnJlbW92ZUV2ZW50KGUscCx2LmhhbmRsZSksZGVsZXRlIHVbcF0pfWVsc2UgZm9yKHAgaW4gdSlFLmV2ZW50LnJlbW92ZShlLHArdFtsXSxuLHIsITApO0UuaXNFbXB0eU9iamVjdCh1KSYmWS5yZW1vdmUoZSwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHM9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHU9RS5ldmVudC5maXgoZSksbD0oWS5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3UudHlwZV18fFtdLGM9RS5ldmVudC5zcGVjaWFsW3UudHlwZV18fHt9O2ZvcihzWzBdPXUsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspc1t0XT1hcmd1bWVudHNbdF07aWYodS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFjLnByZURpc3BhdGNofHwhMSE9PWMucHJlRGlzcGF0Y2guY2FsbCh0aGlzLHUpKXthPUUuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHUsbCksdD0wO3doaWxlKChpPWFbdCsrXSkmJiF1LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe3UuY3VycmVudFRhcmdldD1pLmVsZW0sbj0wO3doaWxlKChvPWkuaGFuZGxlcnNbbisrXSkmJiF1LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpdS5ybmFtZXNwYWNlJiYhMSE9PW8ubmFtZXNwYWNlJiYhdS5ybmFtZXNwYWNlLnRlc3Qoby5uYW1lc3BhY2UpfHwodS5oYW5kbGVPYmo9byx1LmRhdGE9by5kYXRhLHZvaWQgMCE9PShyPSgoRS5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxzKSkmJiExPT09KHUucmVzdWx0PXIpJiYodS5wcmV2ZW50RGVmYXVsdCgpLHUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyx1KSx1LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPEUoaSx0aGlzKS5pbmRleChsKTpFLmZpbmQoaSx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGFbaV0mJm8ucHVzaChyKTtvLmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6b30pfXJldHVybiBsPXRoaXMsdTx0Lmxlbmd0aCYmcy5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6dC5zbGljZSh1KX0pLHN9LGFkZFByb3A6ZnVuY3Rpb24odCxlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoRS5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmIoZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW0UuZXhwYW5kb10/ZTpuZXcgRS5FdmVudChlKX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGNsaWNrOntzZXR1cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBmZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJk4odCwiaW5wdXQiKSYmRWUodCwiY2xpY2siLHhlKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiBmZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJk4odCwiaW5wdXQiKSYmRWUodCwiY2xpY2siKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7cmV0dXJuIGZlLnRlc3QodC50eXBlKSYmdC5jbGljayYmTih0LCJpbnB1dCIpJiZZLmdldCh0LCJjbGljayIpfHxOKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxFLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXImJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSxFLkV2ZW50PWZ1bmN0aW9uKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgRS5FdmVudCkpcmV0dXJuIG5ldyBFLkV2ZW50KGUsdCk7ZSYmZS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWUuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09ZS5kZWZhdWx0UHJldmVudGVkJiYhMT09PWUucmV0dXJuVmFsdWU/eGU6d2UsdGhpcy50YXJnZXQ9ZS50YXJnZXQmJjM9PT1lLnRhcmdldC5ub2RlVHlwZT9lLnRhcmdldC5wYXJlbnROb2RlOmUudGFyZ2V0LHRoaXMuY3VycmVudFRhcmdldD1lLmN1cnJlbnRUYXJnZXQsdGhpcy5yZWxhdGVkVGFyZ2V0PWUucmVsYXRlZFRhcmdldCk6dGhpcy50eXBlPWUsdCYmRS5leHRlbmQodGhpcyx0KSx0aGlzLnRpbWVTdGFtcD1lJiZlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKSx0aGlzW0UuZXhwYW5kb109ITB9LEUuRXZlbnQucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpFLkV2ZW50LGlzRGVmYXVsdFByZXZlbnRlZDp3ZSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDp3ZSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDp3ZSxpc1NpbXVsYXRlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD14ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5wcmV2ZW50RGVmYXVsdCgpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD14ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9eGUsZSYmIXRoaXMuaXNTaW11bGF0ZWQmJmUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LEUuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sRS5ldmVudC5hZGRQcm9wKSxFLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKHQsZSl7RS5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3JldHVybiBFZSh0aGlzLHQsQ2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIEVlKHRoaXMsdCksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiBZLmdldChlLnRhcmdldCx0KX0sZGVsZWdhdGVUeXBlOmV9fSksRS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe0UuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxFLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxFLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIFRlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gVGUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosRShlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49d2UpLHRoaXMuZWFjaChmdW5jdGlvbigpe0UuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIFNlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCFcW0NEQVRBXFt8XF1cXT5ccyokL2c7ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gTihlLCJ0YWJsZSIpJiZOKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmRShlKS5jaGlsZHJlbigidGJvZHkiKVswXXx8ZX1mdW5jdGlvbiBEZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIExlKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBqZShlLHQpe3ZhciBuLHIsaSxvLGEscztpZigxPT09dC5ub2RlVHlwZSl7aWYoWS5oYXNEYXRhKGUpJiYocz1ZLmdldChlKS5ldmVudHMpKWZvcihpIGluIFkucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxzKWZvcihuPTAscj1zW2ldLmxlbmd0aDtuPHI7bisrKUUuZXZlbnQuYWRkKHQsaSxzW2ldW25dKTtHLmhhc0RhdGEoZSkmJihvPUcuYWNjZXNzKGUpLGE9RS5leHRlbmQoe30sbyksRy5zZXQodCxhKSl9fWZ1bmN0aW9uIHFlKG4scixpLG8pe3I9dihyKTt2YXIgZSx0LGEscyx1LGwsYz0wLGY9bi5sZW5ndGgsZD1mLTEscD1yWzBdLGg9YihwKTtpZihofHwxPGYmJiJzdHJpbmciPT10eXBlb2YgcCYmIW0uY2hlY2tDbG9uZSYmQWUudGVzdChwKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZXEoZSk7aCYmKHJbMF09cC5jYWxsKHRoaXMsZSx0Lmh0bWwoKSkpLHFlKHQscixpLG8pfSk7aWYoZiYmKHQ9KGU9bWUocixuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSkuZmlyc3RDaGlsZCwxPT09ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9dCksdHx8bykpe2ZvcihzPShhPUUubWFwKGdlKGUsInNjcmlwdCIpLERlKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1kJiYodT1FLmNsb25lKHUsITAsITApLHMmJkUubWVyZ2UoYSxnZSh1LCJzY3JpcHQiKSkpLGkuY2FsbChuW2NdLHUsYyk7aWYocylmb3IobD1hW2EubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsRS5tYXAoYSxMZSksYz0wO2M8cztjKyspdT1hW2NdLHBlLnRlc3QodS50eXBlfHwiIikmJiFZLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJkUuY29udGFpbnMobCx1KSYmKHUuc3JjJiYibW9kdWxlIiE9PSh1LnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP0UuX2V2YWxVcmwmJiF1Lm5vTW9kdWxlJiZFLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0sbCk6Qyh1LnRleHRDb250ZW50LnJlcGxhY2UoTmUsIiIpLHUsbCkpfXJldHVybiBufWZ1bmN0aW9uIE9lKGUsdCxuKXtmb3IodmFyIHIsaT10P0UuZmlsdGVyKHQsZSk6ZSxvPTA7bnVsbCE9KHI9aVtvXSk7bysrKW58fDEhPT1yLm5vZGVUeXBlfHxFLmNsZWFuRGF0YShnZShyKSksci5wYXJlbnROb2RlJiYobiYmaWUocikmJnZlKGdlKHIsInNjcmlwdCIpKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpO3JldHVybiBlfUUuZXh0ZW5kKHtodG1sUHJlZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYz1lLmNsb25lTm9kZSghMCksZj1pZShlKTtpZighKG0ubm9DbG9uZUNoZWNrZWR8fDEhPT1lLm5vZGVUeXBlJiYxMSE9PWUubm9kZVR5cGV8fEUuaXNYTUxEb2MoZSkpKWZvcihhPWdlKGMpLHI9MCxpPShvPWdlKGUpKS5sZW5ndGg7cjxpO3IrKylzPW9bcl0sdT1hW3JdLHZvaWQgMCwiaW5wdXQiPT09KGw9dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmZmUudGVzdChzLnR5cGUpP3UuY2hlY2tlZD1zLmNoZWNrZWQ6ImlucHV0IiE9PWwmJiJ0ZXh0YXJlYSIhPT1sfHwodS5kZWZhdWx0VmFsdWU9cy5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iobz1vfHxnZShlKSxhPWF8fGdlKGMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspamUob1tyXSxhW3JdKTtlbHNlIGplKGUsYyk7cmV0dXJuIDA8KGE9Z2UoYywic2NyaXB0IikpLmxlbmd0aCYmdmUoYSwhZiYmZ2UoZSwic2NyaXB0IikpLGN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9RS5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoWChuKSl7aWYodD1uW1kuZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/RS5ldmVudC5yZW1vdmUobixyKTpFLnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltZLmV4cGFuZG9dPXZvaWQgMH1uW0cuZXhwYW5kb10mJihuW0cuZXhwYW5kb109dm9pZCAwKX19fSksRS5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gT2UodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/RS50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHFlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxrZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gcWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PWtlKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gcWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcWUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKEUuY2xlYW5EYXRhKGdlKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gRS5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGUmJiFTZS50ZXN0KGUpJiYhaGVbKGRlLmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPUUuaHRtbFByZWZpbHRlcihlKTt0cnl7Zm9yKDtuPHI7bisrKTE9PT0odD10aGlzW25dfHx7fSkubm9kZVR5cGUmJihFLmNsZWFuRGF0YShnZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBxZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7RS5pbkFycmF5KHRoaXMsbik8MCYmKEUuY2xlYW5EYXRhKGdlKHRoaXMpKSx0JiZ0LnJlcGxhY2VDaGlsZChlLHRoaXMpKX0sbil9fSksRS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSxhKXtFLmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPVtdLHI9RShlKSxpPXIubGVuZ3RoLTEsbz0wO288PWk7bysrKXQ9bz09PWk/dGhpczp0aGlzLmNsb25lKCEwKSxFKHJbb10pW2FdKHQpLHUuYXBwbHkobix0LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFBlPW5ldyBSZWdFeHAoIl4oIitlZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLEhlPS9eLS0vLEllPWZ1bmN0aW9uKGUpe3ZhciB0PWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gdCYmdC5vcGVuZXJ8fCh0PWcpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sUmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fTtmb3IoaSBpbiB0KW9baV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07Zm9yKGkgaW4gcj1uLmNhbGwoZSksdCllLnN0eWxlW2ldPW9baV07cmV0dXJuIHJ9LEJlPW5ldyBSZWdFeHAobmUuam9pbigifCIpLCJpIiksTWU9IltcXHgyMFxcdFxcclxcblxcZl0iLFdlPW5ldyBSZWdFeHAoIl4iK01lKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK01lKyIrJCIsImciKTtmdW5jdGlvbiBGZShlLHQsbil7dmFyIHIsaSxvLGEscz1IZS50ZXN0KHQpLHU9ZS5zdHlsZTtyZXR1cm4obj1ufHxJZShlKSkmJihhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSxzJiZhJiYoYT1hLnJlcGxhY2UoV2UsIiQxIil8fHZvaWQgMCksIiIhPT1hfHxpZShlKXx8KGE9RS5zdHlsZShlLHQpKSwhbS5waXhlbEJveFN0eWxlcygpJiZQZS50ZXN0KGEpJiZCZS50ZXN0KHQpJiYocj11LndpZHRoLGk9dS5taW5XaWR0aCxvPXUubWF4V2lkdGgsdS5taW5XaWR0aD11Lm1heFdpZHRoPXUud2lkdGg9YSxhPW4ud2lkdGgsdS53aWR0aD1yLHUubWluV2lkdGg9aSx1Lm1heFdpZHRoPW8pKSx2b2lkIDAhPT1hP2ErIiI6YX1mdW5jdGlvbiAkZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2lmKGwpe3Uuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O21hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MCIsbC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElIixyZS5hcHBlbmRDaGlsZCh1KS5hcHBlbmRDaGlsZChsKTt2YXIgZT1nLmdldENvbXB1dGVkU3R5bGUobCk7bj0iMSUiIT09ZS50b3Ascz0xMj09PXQoZS5tYXJnaW5MZWZ0KSxsLnN0eWxlLnJpZ2h0PSI2MCUiLG89MzY9PT10KGUucmlnaHQpLHI9MzY9PT10KGUud2lkdGgpLGwuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixpPTEyPT09dChsLm9mZnNldFdpZHRoLzMpLHJlLnJlbW92ZUNoaWxkKHUpLGw9bnVsbH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgbixyLGksbyxhLHMsdT13LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGw9dy5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLnN0eWxlJiYobC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGwuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixtLmNsZWFyQ2xvbmVTdHlsZT0iY29udGVudC1ib3giPT09bC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxFLmV4dGVuZChtLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG99LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksc30sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksaX0scmVsaWFibGVUckRpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtyZXR1cm4gbnVsbD09YSYmKGU9dy5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLHQ9dy5jcmVhdGVFbGVtZW50KCJ0ciIpLG49dy5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIix0LnN0eWxlLmNzc1RleHQ9ImJvcmRlcjoxcHggc29saWQiLHQuc3R5bGUuaGVpZ2h0PSIxcHgiLG4uc3R5bGUuaGVpZ2h0PSI5cHgiLG4uc3R5bGUuZGlzcGxheT0iYmxvY2siLHJlLmFwcGVuZENoaWxkKGUpLmFwcGVuZENoaWxkKHQpLmFwcGVuZENoaWxkKG4pLHI9Zy5nZXRDb21wdXRlZFN0eWxlKHQpLGE9cGFyc2VJbnQoci5oZWlnaHQsMTApK3BhcnNlSW50KHIuYm9yZGVyVG9wV2lkdGgsMTApK3BhcnNlSW50KHIuYm9yZGVyQm90dG9tV2lkdGgsMTApPT09dC5vZmZzZXRIZWlnaHQscmUucmVtb3ZlQ2hpbGQoZSkpLGF9fSkpfSgpO3ZhciB6ZT1bIldlYmtpdCIsIk1veiIsIm1zIl0sX2U9dy5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxVZT17fTtmdW5jdGlvbiBWZShlKXt2YXIgdD1FLmNzc1Byb3BzW2VdfHxVZVtlXTtyZXR1cm4gdHx8KGUgaW4gX2U/ZTpVZVtlXT1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxuPXplLmxlbmd0aDt3aGlsZShuLS0paWYoKGU9emVbbl0rdClpbiBfZSlyZXR1cm4gZX0oZSl8fGUpfXZhciBYZSxRZSxZZT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sR2U9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LEtlPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifTtmdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9dGUuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKG58fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBaZShlLHQsbixyLGksbyl7dmFyIGE9IndpZHRoIj09PXQ/MTowLHM9MCx1PTA7aWYobj09PShyPyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDthPDQ7YSs9MikibWFyZ2luIj09PW4mJih1Kz1FLmNzcyhlLG4rbmVbYV0sITAsaSkpLHI/KCJjb250ZW50Ij09PW4mJih1LT1FLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSksIm1hcmdpbiIhPT1uJiYodS09RS5jc3MoZSwiYm9yZGVyIituZVthXSsiV2lkdGgiLCEwLGkpKSk6KHUrPUUuY3NzKGUsInBhZGRpbmciK25lW2FdLCEwLGkpLCJwYWRkaW5nIiE9PW4/dSs9RS5jc3MoZSwiYm9yZGVyIituZVthXSsiV2lkdGgiLCEwLGkpOnMrPUUuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSk7cmV0dXJuIXImJjA8PW8mJih1Kz1NYXRoLm1heCgwLE1hdGguY2VpbChlWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1vLXUtcy0uNSkpfHwwKSx1fWZ1bmN0aW9uIGV0KGUsdCxuKXt2YXIgcj1JZShlKSxpPSghbS5ib3hTaXppbmdSZWxpYWJsZSgpfHxuKSYmImJvcmRlci1ib3giPT09RS5jc3MoZSwiYm94U2l6aW5nIiwhMSxyKSxvPWksYT1GZShlLHQscikscz0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZihQZS50ZXN0KGEpKXtpZighbilyZXR1cm4gYTthPSJhdXRvIn1yZXR1cm4oIW0uYm94U2l6aW5nUmVsaWFibGUoKSYmaXx8IW0ucmVsaWFibGVUckRpbWVuc2lvbnMoKSYmTihlLCJ0ciIpfHwiYXV0byI9PT1hfHwhcGFyc2VGbG9hdChhKSYmImlubGluZSI9PT1FLmNzcyhlLCJkaXNwbGF5IiwhMSxyKSkmJmUuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihpPSJib3JkZXItYm94Ij09PUUuY3NzKGUsImJveFNpemluZyIsITEsciksKG89cyBpbiBlKSYmKGE9ZVtzXSkpLChhPXBhcnNlRmxvYXQoYSl8fDApK1plKGUsdCxufHwoaT8iYm9yZGVyIjoiY29udGVudCIpLG8scixhKSsicHgifUUuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49RmUoZSwib3BhY2l0eSIpO3JldHVybiIiPT09bj8iMSI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsZ3JpZEFyZWE6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TdGFydDohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1N0YXJ0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1WKHQpLHU9SGUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9VmUocykpLGE9RS5jc3NIb29rc1t0XXx8RS5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09PShvPXR5cGVvZiBuKSYmKGk9dGUuZXhlYyhuKSkmJmlbMV0mJihuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYT0yMCxzPXI/ZnVuY3Rpb24oKXtyZXR1cm4gci5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gRS5jc3MoZSx0LCIiKX0sdT1zKCksbD1uJiZuWzNdfHwoRS5jc3NOdW1iZXJbdF0/IiI6InB4IiksYz1lLm5vZGVUeXBlJiYoRS5jc3NOdW1iZXJbdF18fCJweCIhPT1sJiYrdSkmJnRlLmV4ZWMoRS5jc3MoZSx0KSk7aWYoYyYmY1szXSE9PWwpe3UvPTIsbD1sfHxjWzNdLGM9K3V8fDE7d2hpbGUoYS0tKUUuc3R5bGUoZSx0LGMrbCksKDEtbykqKDEtKG89cygpL3V8fC41KSk8PTAmJihhPTApLGMvPW87Yyo9MixFLnN0eWxlKGUsdCxjK2wpLG49bnx8W119cmV0dXJuIG4mJihjPStjfHwrdXx8MCxpPW5bMV0/YysoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9bCxyLnN0YXJ0PWMsci5lbmQ9aSkpLGl9KGUsdCxpKSxvPSJudW1iZXIiKSxudWxsIT1uJiZuPT1uJiYoIm51bWJlciIhPT1vfHx1fHwobis9aSYmaVszXXx8KEUuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSxtLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChsW3RdPSJpbmhlcml0IiksYSYmInNldCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Vih0KTtyZXR1cm4gSGUudGVzdCh0KXx8KHQ9VmUocykpLChhPUUuY3NzSG9va3NbdF18fEUuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPUZlKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIEtlJiYoaT1LZVt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksRS5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihlLHUpe0UuY3NzSG9va3NbdV09e2dldDpmdW5jdGlvbihlLHQsbil7aWYodClyZXR1cm4hWWUudGVzdChFLmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP2V0KGUsdSxuKTpSZShlLEdlLGZ1bmN0aW9uKCl7cmV0dXJuIGV0KGUsdSxuKX0pfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9SWUoZSksbz0hbS5zY3JvbGxib3hTaXplKCkmJiJhYnNvbHV0ZSI9PT1pLnBvc2l0aW9uLGE9KG98fG4pJiYiYm9yZGVyLWJveCI9PT1FLmNzcyhlLCJib3hTaXppbmciLCExLGkpLHM9bj9aZShlLHUsbixhLGkpOjA7cmV0dXJuIGEmJm8mJihzLT1NYXRoLmNlaWwoZVsib2Zmc2V0Iit1WzBdLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKV0tcGFyc2VGbG9hdChpW3VdKS1aZShlLHUsImJvcmRlciIsITEsaSktLjUpKSxzJiYocj10ZS5leGVjKHQpKSYmInB4IiE9PShyWzNdfHwicHgiKSYmKGUuc3R5bGVbdV09dCx0PUUuY3NzKGUsdSkpLEplKDAsdCxzKX19fSksRS5jc3NIb29rcy5tYXJnaW5MZWZ0PSRlKG0ucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4ocGFyc2VGbG9hdChGZShlLCJtYXJnaW5MZWZ0IikpfHxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUmUoZSx7bWFyZ2luTGVmdDowfSxmdW5jdGlvbigpe3JldHVybiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR9KSkrInB4In0pLEUuZWFjaCh7bWFyZ2luOiIiLHBhZGRpbmc6IiIsYm9yZGVyOiJXaWR0aCJ9LGZ1bmN0aW9uKGksbyl7RS5jc3NIb29rc1tpK29dPXtleHBhbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj17fSxyPSJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIgIik6W2VdO3Q8NDt0KyspbltpK25lW3RdK29dPXJbdF18fHJbdC0yXXx8clswXTtyZXR1cm4gbn19LCJtYXJnaW4iIT09aSYmKEUuY3NzSG9va3NbaStvXS5zZXQ9SmUpfSksRS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxhPTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHI9SWUoZSksaT10Lmxlbmd0aDthPGk7YSsrKW9bdFthXV09RS5jc3MoZSx0W2FdLCExLHIpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1uP0Uuc3R5bGUoZSx0LG4pOkUuY3NzKGUsdCl9LGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pLEUuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1FLmZ4JiZFLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Zy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Zy5jbGVhclRpbWVvdXQobil9fSl9LFhlPXcuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxRZT13LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKHcuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLFhlLnR5cGU9ImNoZWNrYm94IixtLmNoZWNrT249IiIhPT1YZS52YWx1ZSxtLm9wdFNlbGVjdGVkPVFlLnNlbGVjdGVkLChYZT13LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixYZS50eXBlPSJyYWRpbyIsbS5yYWRpb1ZhbHVlPSJ0Ij09PVhlLnZhbHVlO3ZhciB0dCxudD1FLmV4cHIuYXR0ckhhbmRsZTtFLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsRS5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtFLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLEUuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/RS5wcm9wKGUsdCxuKTooMT09PW8mJkUuaXNYTUxEb2MoZSl8fChpPUUuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChFLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP3R0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBFLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPUUuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZighbS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmTihlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goSCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksdHQ9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P0UucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LEUuZWFjaChFLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPW50W3RdfHxFLmZpbmQuYXR0cjtudFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9bnRbb10sbnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxudFtvXT1pKSxyfX0pO3ZhciBydD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGl0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBvdChlKXtyZXR1cm4oZS5tYXRjaChIKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBhdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBzdChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChIKXx8W119RS5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLEUucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbRS5wcm9wRml4W2VdfHxlXX0pfX0pLEUuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmRS5pc1hNTERvYyhlKXx8KHQ9RS5wcm9wRml4W3RdfHx0LGk9RS5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PUUuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cnQudGVzdChlLm5vZGVOYW1lKXx8aXQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSksbS5vcHRTZWxlY3RlZHx8KEUucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxFLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe0UucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxFLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhO3JldHVybiBiKHQpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtFKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsYXQodGhpcykpKX0pOihlPXN0KHQpKS5sZW5ndGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYocj1hdCh0aGlzKSxuPTE9PT10aGlzLm5vZGVUeXBlJiYiICIrb3QocikrIiAiKXtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWk9ZVtvXSxuLmluZGV4T2YoIiAiK2krIiAiKTwwJiYobis9aSsiICIpO2E9b3QobiksciE9PWEmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsYSl9fSk6dGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhO3JldHVybiBiKHQpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtFKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUsYXQodGhpcykpKX0pOmFyZ3VtZW50cy5sZW5ndGg/KGU9c3QodCkpLmxlbmd0aD90aGlzLmVhY2goZnVuY3Rpb24oKXtpZihyPWF0KHRoaXMpLG49MT09PXRoaXMubm9kZVR5cGUmJiIgIitvdChyKSsiICIpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2k9ZVtvXTt3aGlsZSgtMTxuLmluZGV4T2YoIiAiK2krIiAiKSluPW4ucmVwbGFjZSgiICIraSsiICIsIiAiKX1hPW90KG4pLHIhPT1hJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGEpfX0pOnRoaXM6dGhpcy5hdHRyKCJjbGFzcyIsIiIpfSx0b2dnbGVDbGFzczpmdW5jdGlvbih0LG4pe3ZhciBlLHIsaSxvLGE9dHlwZW9mIHQscz0ic3RyaW5nIj09PWF8fEFycmF5LmlzQXJyYXkodCk7cmV0dXJuIGIodCk/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe0UodGhpcykudG9nZ2xlQ2xhc3ModC5jYWxsKHRoaXMsZSxhdCh0aGlzKSxuKSxuKX0pOiJib29sZWFuIj09dHlwZW9mIG4mJnM/bj90aGlzLmFkZENsYXNzKHQpOnRoaXMucmVtb3ZlQ2xhc3ModCk6KGU9c3QodCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYocylmb3Iobz1FKHRoaXMpLGk9MDtpPGUubGVuZ3RoO2krKylyPWVbaV0sby5oYXNDbGFzcyhyKT9vLnJlbW92ZUNsYXNzKHIpOm8uYWRkQ2xhc3Mocik7ZWxzZSB2b2lkIDAhPT10JiYiYm9vbGVhbiIhPT1hfHwoKHI9YXQodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixyKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixyfHwhMT09PXQ/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSkpfSxoYXNDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHI9MDt0PSIgIitlKyIgIjt3aGlsZShuPXRoaXNbcisrXSlpZigxPT09bi5ub2RlVHlwZSYmLTE8KCIgIitvdChhdChuKSkrIiAiKS5pbmRleE9mKHQpKXJldHVybiEwO3JldHVybiExfX0pO3ZhciB1dD0vXHIvZztFLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9YihuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsRSh0aGlzKS52YWwoKSk6bik/dD0iIjoibnVtYmVyIj09dHlwZW9mIHQ/dCs9IiI6QXJyYXkuaXNBcnJheSh0KSYmKHQ9RS5tYXAodCxmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjplKyIifSkpLChyPUUudmFsSG9va3NbdGhpcy50eXBlXXx8RS52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmInNldCJpbiByJiZ2b2lkIDAhPT1yLnNldCh0aGlzLHQsInZhbHVlIil8fCh0aGlzLnZhbHVlPXQpKX0pKTp0PyhyPUUudmFsSG9va3NbdC50eXBlXXx8RS52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2UodXQsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksRS5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihlKXt2YXIgdD1FLmZpbmQuYXR0cihlLCJ2YWx1ZSIpO3JldHVybiBudWxsIT10P3Q6b3QoRS50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IU4obi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYodD1FKG4pLnZhbCgpLGEpcmV0dXJuIHQ7cy5wdXNoKHQpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9ZS5vcHRpb25zLG89RS5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPEUuaW5BcnJheShFLnZhbEhvb2tzLm9wdGlvbi5nZXQociksbykpJiYobj0hMCk7cmV0dXJuIG58fChlLnNlbGVjdGVkSW5kZXg9LTEpLG99fX19KSxFLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtFLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiBlLmNoZWNrZWQ9LTE8RS5pbkFycmF5KEUoZSkudmFsKCksdCl9fSxtLmNoZWNrT258fChFLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWUuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6ZS52YWx1ZX0pfSksbS5mb2N1c2luPSJvbmZvY3VzaW4iaW4gZzt2YXIgbHQ9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLGN0PWZ1bmN0aW9uKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCl9O0UuZXh0ZW5kKEUuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHMsdSxsLGMsZixkPVtufHx3XSxwPXkuY2FsbChlLCJ0eXBlIik/ZS50eXBlOmUsaD15LmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fHcsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhbHQudGVzdChwK0UuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPHAuaW5kZXhPZigiLiIpJiYocD0oaD1wLnNwbGl0KCIuIikpLnNoaWZ0KCksaC5zb3J0KCkpLHU9cC5pbmRleE9mKCI6Iik8MCYmIm9uIitwLChlPWVbRS5leHBhbmRvXT9lOm5ldyBFLkV2ZW50KHAsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpFLm1ha2VBcnJheSh0LFtlXSksYz1FLmV2ZW50LnNwZWNpYWxbcF18fHt9LHJ8fCFjLnRyaWdnZXJ8fCExIT09Yy50cmlnZ2VyLmFwcGx5KG4sdCkpKXtpZighciYmIWMubm9CdWJibGUmJiF4KG4pKXtmb3Iocz1jLmRlbGVnYXRlVHlwZXx8cCxsdC50ZXN0KHMrcCl8fChvPW8ucGFyZW50Tm9kZSk7bztvPW8ucGFyZW50Tm9kZSlkLnB1c2gobyksYT1vO2E9PT0obi5vd25lckRvY3VtZW50fHx3KSYmZC5wdXNoKGEuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93fHxnKX1pPTA7d2hpbGUoKG89ZFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fHAsKGw9KFkuZ2V0KG8sImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVtlLnR5cGVdJiZZLmdldChvLCJoYW5kbGUiKSkmJmwuYXBwbHkobyx0KSwobD11JiZvW3VdKSYmbC5hcHBseSYmWChvKSYmKGUucmVzdWx0PWwuYXBwbHkobyx0KSwhMT09PWUucmVzdWx0JiZlLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBlLnR5cGU9cCxyfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLl9kZWZhdWx0JiYhMSE9PWMuX2RlZmF1bHQuYXBwbHkoZC5wb3AoKSx0KXx8IVgobil8fHUmJmIobltwXSkmJiF4KG4pJiYoKGE9blt1XSkmJihuW3VdPW51bGwpLEUuZXZlbnQudHJpZ2dlcmVkPXAsZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLmFkZEV2ZW50TGlzdGVuZXIocCxjdCksbltwXSgpLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5yZW1vdmVFdmVudExpc3RlbmVyKHAsY3QpLEUuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxhJiYoblt1XT1hKSksZS5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI9RS5leHRlbmQobmV3IEUuRXZlbnQsbix7dHlwZTplLGlzU2ltdWxhdGVkOiEwfSk7RS5ldmVudC50cmlnZ2VyKHIsbnVsbCx0KX19KSxFLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtFLmV2ZW50LnRyaWdnZXIoZSx0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpc1swXTtpZihuKXJldHVybiBFLmV2ZW50LnRyaWdnZXIoZSx0LG4sITApfX0pLG0uZm9jdXNpbnx8RS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHIpe3ZhciBpPWZ1bmN0aW9uKGUpe0UuZXZlbnQuc2ltdWxhdGUocixlLnRhcmdldCxFLmV2ZW50LmZpeChlKSl9O0UuZXZlbnQuc3BlY2lhbFtyXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpO3R8fGUuYWRkRXZlbnRMaXN0ZW5lcihuLGksITApLFkuYWNjZXNzKGUsciwodHx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLHQ9WS5hY2Nlc3MoZSxyKS0xO3Q/WS5hY2Nlc3MoZSxyLHQpOihlLnJlbW92ZUV2ZW50TGlzdGVuZXIobixpLCEwKSxZLnJlbW92ZShlLHIpKX19fSksRS5wYXJzZVhNTD1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dHJ5e3Q9KG5ldyBnLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsInRleHQveG1sIil9Y2F0Y2goZSl7fXJldHVybiBuPXQmJnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIilbMF0sdCYmIW58fEUuZXJyb3IoIkludmFsaWQgWE1MOiAiKyhuP0UubWFwKG4uY2hpbGROb2RlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0Q29udGVudH0pLmpvaW4oIlxuIik6ZSkpLHR9O3ZhciBmdCxkdD0vXFtcXSQvLHB0PS9ccj9cbi9nLGh0PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxndD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24gdnQobixlLHIsaSl7dmFyIHQ7aWYoQXJyYXkuaXNBcnJheShlKSlFLmVhY2goZSxmdW5jdGlvbihlLHQpe3J8fGR0LnRlc3Qobik/aShuLHQpOnZ0KG4rIlsiKygib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQ/ZToiIikrIl0iLHQscixpKX0pO2Vsc2UgaWYocnx8Im9iamVjdCIhPT1UKGUpKWkobixlKTtlbHNlIGZvcih0IGluIGUpdnQobisiWyIrdCsiXSIsZVt0XSxyLGkpfUUucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1iKHQpP3QoKTp0O3Jbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PW4/IiI6bil9O2lmKG51bGw9PWUpcmV0dXJuIiI7aWYoQXJyYXkuaXNBcnJheShlKXx8ZS5qcXVlcnkmJiFFLmlzUGxhaW5PYmplY3QoZSkpRS5lYWNoKGUsZnVuY3Rpb24oKXtpKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKG4gaW4gZSl2dChuLGVbbl0sdCxpKTtyZXR1cm4gci5qb2luKCImIil9LEUuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gRS5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPUUucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlP0UubWFrZUFycmF5KGUpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgZT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIUUodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZndC50ZXN0KHRoaXMubm9kZU5hbWUpJiYhaHQudGVzdChlKSYmKHRoaXMuY2hlY2tlZHx8IWZlLnRlc3QoZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49RSh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOkFycmF5LmlzQXJyYXkobik/RS5tYXAobixmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0Lm5hbWUsdmFsdWU6ZS5yZXBsYWNlKHB0LCJcclxuIil9fSk6e25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShwdCwiXHJcbiIpfX0pLmdldCgpfX0pLEUuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYoYihlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PUUoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBiKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtFKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1FKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPWIodCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtFKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtFKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLEUuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hRS5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sRS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LG0uY3JlYXRlSFRNTERvY3VtZW50PSgoZnQ9dy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1mdC5jaGlsZE5vZGVzLmxlbmd0aCksRS5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwobS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PXcuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPXcubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9dyksbz0hbiYmW10sKGk9ay5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT1tZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmRShvKS5yZW1vdmUoKSxFLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LEUub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsPUUuY3NzKGUsInBvc2l0aW9uIiksYz1FKGUpLGY9e307InN0YXRpYyI9PT1sJiYoZS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxzPWMub2Zmc2V0KCksbz1FLmNzcyhlLCJ0b3AiKSx1PUUuY3NzKGUsImxlZnQiKSwoImFic29sdXRlIj09PWx8fCJmaXhlZCI9PT1sKSYmLTE8KG8rdSkuaW5kZXhPZigiYXV0byIpPyhhPShyPWMucG9zaXRpb24oKSkudG9wLGk9ci5sZWZ0KTooYT1wYXJzZUZsb2F0KG8pfHwwLGk9cGFyc2VGbG9hdCh1KXx8MCksYih0KSYmKHQ9dC5jYWxsKGUsbixFLmV4dGVuZCh7fSxzKSkpLG51bGwhPXQudG9wJiYoZi50b3A9dC50b3Atcy50b3ArYSksbnVsbCE9dC5sZWZ0JiYoZi5sZWZ0PXQubGVmdC1zLmxlZnQraSksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsZik6Yy5jc3MoZil9fSxFLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oZSl7RS5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsdCxlKX0pO3ZhciBlLG4scj10aGlzWzBdO3JldHVybiByP3IuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KGU9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOmUudG9wK24ucGFnZVlPZmZzZXQsbGVmdDplLmxlZnQrbi5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9OnZvaWQgMH0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgZSx0LG4scj10aGlzWzBdLGk9e3RvcDowLGxlZnQ6MH07aWYoImZpeGVkIj09PUUuY3NzKHIsInBvc2l0aW9uIikpdD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7dD10aGlzLm9mZnNldCgpLG49ci5vd25lckRvY3VtZW50LGU9ci5vZmZzZXRQYXJlbnR8fG4uZG9jdW1lbnRFbGVtZW50O3doaWxlKGUmJihlPT09bi5ib2R5fHxlPT09bi5kb2N1bWVudEVsZW1lbnQpJiYic3RhdGljIj09PUUuY3NzKGUsInBvc2l0aW9uIikpZT1lLnBhcmVudE5vZGU7ZSYmZSE9PXImJjE9PT1lLm5vZGVUeXBlJiYoKGk9RShlKS5vZmZzZXQoKSkudG9wKz1FLmNzcyhlLCJib3JkZXJUb3BXaWR0aCIsITApLGkubGVmdCs9RS5jc3MoZSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6dC50b3AtaS50b3AtRS5jc3MociwibWFyZ2luVG9wIiwhMCksbGVmdDp0LmxlZnQtaS5sZWZ0LUUuY3NzKHIsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShlJiYic3RhdGljIj09PUUuY3NzKGUsInBvc2l0aW9uIikpZT1lLm9mZnNldFBhcmVudDtyZXR1cm4gZXx8cmV9KX19KSxFLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24odCxpKXt2YXIgbz0icGFnZVlPZmZzZXQiPT09aTtFLmZuW3RdPWZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKHgoZSk/cj1lOjk9PT1lLm5vZGVUeXBlJiYocj1lLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT1uKXJldHVybiByP3JbaV06ZVt0XTtyP3Iuc2Nyb2xsVG8obz9yLnBhZ2VYT2Zmc2V0Om4sbz9uOnIucGFnZVlPZmZzZXQpOmVbdF09bn0sdCxlLGFyZ3VtZW50cy5sZW5ndGgpfX0pLEUuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihlLG4pe0UuY3NzSG9va3Nbbl09JGUobS5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4gdD1GZShlLG4pLFBlLnRlc3QodCk/RShlKS5wb3NpdGlvbigpW25dKyJweCI6dH0pfSksRS5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxzKXtFLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6cywiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKHIsbyl7RS5mbltvXT1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBlKSxpPXJ8fCghMD09PWV8fCEwPT09dD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHgoZSk/MD09PW8uaW5kZXhPZigib3V0ZXIiKT9lWyJpbm5lciIrYV06ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWUubm9kZVR5cGU/KHI9ZS5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoZS5ib2R5WyJzY3JvbGwiK2FdLHJbInNjcm9sbCIrYV0sZS5ib2R5WyJvZmZzZXQiK2FdLHJbIm9mZnNldCIrYV0sclsiY2xpZW50IithXSkpOnZvaWQgMD09PW4/RS5jc3MoZSx0LGkpOkUuc3R5bGUoZSx0LG4saSl9LHMsbj9lOnZvaWQgMCxuKX19KX0pLEUuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX0saG92ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGUpLm1vdXNlbGVhdmUodHx8ZSl9fSksRS5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsbil7RS5mbltuXT1mdW5jdGlvbihlLHQpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihuLG51bGwsZSx0KTp0aGlzLnRyaWdnZXIobil9fSk7dmFyIHl0PS9eW1xzXHVGRUZGXHhBMF0rfChbXlxzXHVGRUZGXHhBMF0pW1xzXHVGRUZGXHhBMF0rJC9nO0UucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLGIoZSkpcmV0dXJuIHI9cy5jYWxsKGFyZ3VtZW50cywyKSwoaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQocy5jYWxsKGFyZ3VtZW50cykpKX0pLmd1aWQ9ZS5ndWlkPWUuZ3VpZHx8RS5ndWlkKyssaX0sRS5ob2xkUmVhZHk9ZnVuY3Rpb24oZSl7ZT9FLnJlYWR5V2FpdCsrOkUucmVhZHkoITApfSxFLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxFLnBhcnNlSlNPTj1KU09OLnBhcnNlLEUubm9kZU5hbWU9TixFLmlzRnVuY3Rpb249YixFLmlzV2luZG93PXgsRS5jYW1lbENhc2U9VixFLnR5cGU9VCxFLm5vdz1EYXRlLm5vdyxFLmlzTnVtZXJpYz1mdW5jdGlvbihlKXt2YXIgdD1FLnR5cGUoZSk7cmV0dXJuKCJudW1iZXIiPT09dHx8InN0cmluZyI9PT10KSYmIWlzTmFOKGUtcGFyc2VGbG9hdChlKSl9LEUudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZSh5dCwiJDEiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIEV9KTt2YXIgbXQ9Zy5qUXVlcnksYnQ9Zy4kO3JldHVybiBFLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGcuJD09PUUmJihnLiQ9YnQpLGUmJmcualF1ZXJ5PT09RSYmKGcualF1ZXJ5PW10KSxFfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihnLmpRdWVyeT1nLiQ9RSksRX0pOwo="></script>
 <script crossorigin="anonymous" src="data:application/javascript;base64,LyohCiAgKiBCb290c3RyYXAgdjQuNi4yIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAyMiBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpCiAgKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMscmVxdWlyZSgianF1ZXJ5IikpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyIsImpxdWVyeSJdLGUpOmUoKHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuYm9vdHN0cmFwPXt9LHQualF1ZXJ5KX0odGhpcywoZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdCYmIm9iamVjdCI9PXR5cGVvZiB0JiYiZGVmYXVsdCJpbiB0P3Q6e2RlZmF1bHQ6dH19dmFyIGk9bihlKTtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLmtleSxpKX19ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIGUmJm8odC5wcm90b3R5cGUsZSksbiYmbyh0LG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJwcm90b3R5cGUiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gYSgpe3JldHVybiBhPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYodFtpXT1uW2ldKX1yZXR1cm4gdH0sYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiBzPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0scyh0LGUpfXZhciBsPSJ0cmFuc2l0aW9uZW5kIjt2YXIgdT17VFJBTlNJVElPTl9FTkQ6ImJzVHJhbnNpdGlvbkVuZCIsZ2V0VUlEOmZ1bmN0aW9uKHQpe2Rve3QrPX5+KDFlNipNYXRoLnJhbmRvbSgpKX13aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSk7cmV0dXJuIHR9LGdldFNlbGVjdG9yRnJvbUVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRBdHRyaWJ1dGUoImRhdGEtdGFyZ2V0Iik7aWYoIWV8fCIjIj09PWUpe3ZhciBuPXQuZ2V0QXR0cmlidXRlKCJocmVmIik7ZT1uJiYiIyIhPT1uP24udHJpbSgpOiIifXRyeXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKT9lOm51bGx9Y2F0Y2godCl7cmV0dXJuIG51bGx9fSxnZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudDpmdW5jdGlvbih0KXtpZighdClyZXR1cm4gMDt2YXIgZT1pLmRlZmF1bHQodCkuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiksbj1pLmRlZmF1bHQodCkuY3NzKCJ0cmFuc2l0aW9uLWRlbGF5Iiksbz1wYXJzZUZsb2F0KGUpLHI9cGFyc2VGbG9hdChuKTtyZXR1cm4gb3x8cj8oZT1lLnNwbGl0KCIsIilbMF0sbj1uLnNwbGl0KCIsIilbMF0sMWUzKihwYXJzZUZsb2F0KGUpK3BhcnNlRmxvYXQobikpKTowfSxyZWZsb3c6ZnVuY3Rpb24odCl7cmV0dXJuIHQub2Zmc2V0SGVpZ2h0fSx0cmlnZ2VyVHJhbnNpdGlvbkVuZDpmdW5jdGlvbih0KXtpLmRlZmF1bHQodCkudHJpZ2dlcihsKX0sc3VwcG9ydHNUcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4obCl9LGlzRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4odFswXXx8dCkubm9kZVR5cGV9LHR5cGVDaGVja0NvbmZpZzpmdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpIGluIG4paWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkpe3ZhciBvPW5baV0scj1lW2ldLGE9ciYmdS5pc0VsZW1lbnQocik/ImVsZW1lbnQiOm51bGw9PT0ocz1yKXx8InVuZGVmaW5lZCI9PXR5cGVvZiBzPyIiK3M6e30udG9TdHJpbmcuY2FsbChzKS5tYXRjaCgvXHMoW2Etel0rKS9pKVsxXS50b0xvd2VyQ2FzZSgpO2lmKCFuZXcgUmVnRXhwKG8pLnRlc3QoYSkpdGhyb3cgbmV3IEVycm9yKHQudG9VcHBlckNhc2UoKSsnOiBPcHRpb24gIicraSsnIiBwcm92aWRlZCB0eXBlICInK2ErJyIgYnV0IGV4cGVjdGVkIHR5cGUgIicrbysnIi4nKX12YXIgc30sZmluZFNoYWRvd1Jvb3Q6ZnVuY3Rpb24odCl7aWYoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hTaGFkb3cpcmV0dXJuIG51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQuZ2V0Um9vdE5vZGUpe3ZhciBlPXQuZ2V0Um9vdE5vZGUoKTtyZXR1cm4gZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q/ZTpudWxsfXJldHVybiB0IGluc3RhbmNlb2YgU2hhZG93Um9vdD90OnQucGFyZW50Tm9kZT91LmZpbmRTaGFkb3dSb290KHQucGFyZW50Tm9kZSk6bnVsbH0salF1ZXJ5RGV0ZWN0aW9uOmZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpLmRlZmF1bHQpdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXAncyBKYXZhU2NyaXB0LiIpO3ZhciB0PWkuZGVmYXVsdC5mbi5qcXVlcnkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLiIpO2lmKHRbMF08MiYmdFsxXTw5fHwxPT09dFswXSYmOT09PXRbMV0mJnRbMl08MXx8dFswXT49NCl0aHJvdyBuZXcgRXJyb3IoIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IHYxLjkuMSBidXQgbGVzcyB0aGFuIHY0LjAuMCIpfX07dS5qUXVlcnlEZXRlY3Rpb24oKSxpLmRlZmF1bHQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPSExO3JldHVybiBpLmRlZmF1bHQodGhpcykub25lKHUuVFJBTlNJVElPTl9FTkQsKGZ1bmN0aW9uKCl7bj0hMH0pKSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe258fHUudHJpZ2dlclRyYW5zaXRpb25FbmQoZSl9KSx0KSx0aGlzfSxpLmRlZmF1bHQuZXZlbnQuc3BlY2lhbFt1LlRSQU5TSVRJT05fRU5EXT17YmluZFR5cGU6bCxkZWxlZ2F0ZVR5cGU6bCxoYW5kbGU6ZnVuY3Rpb24odCl7aWYoaS5kZWZhdWx0KHQudGFyZ2V0KS5pcyh0aGlzKSlyZXR1cm4gdC5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTt2YXIgZj0iYnMuYWxlcnQiLGQ9aS5kZWZhdWx0LmZuLmFsZXJ0LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2VsZW1lbnQ9dH12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5jbG9zZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9lbGVtZW50O3QmJihlPXRoaXMuX2dldFJvb3RFbGVtZW50KHQpKSx0aGlzLl90cmlnZ2VyQ2xvc2VFdmVudChlKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fcmVtb3ZlRWxlbWVudChlKX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5kZWZhdWx0LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxmKSx0aGlzLl9lbGVtZW50PW51bGx9LGUuX2dldFJvb3RFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KSxuPSExO3JldHVybiBlJiYobj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpKSxufHwobj1pLmRlZmF1bHQodCkuY2xvc2VzdCgiLmFsZXJ0IilbMF0pLG59LGUuX3RyaWdnZXJDbG9zZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPWkuZGVmYXVsdC5FdmVudCgiY2xvc2UuYnMuYWxlcnQiKTtyZXR1cm4gaS5kZWZhdWx0KHQpLnRyaWdnZXIoZSksZX0sZS5fcmVtb3ZlRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKGkuZGVmYXVsdCh0KS5yZW1vdmVDbGFzcygic2hvdyIpLGkuZGVmYXVsdCh0KS5oYXNDbGFzcygiZmFkZSIpKXt2YXIgbj11LmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHQpO2kuZGVmYXVsdCh0KS5vbmUodS5UUkFOU0lUSU9OX0VORCwoZnVuY3Rpb24obil7cmV0dXJuIGUuX2Rlc3Ryb3lFbGVtZW50KHQsbil9KSkuZW11bGF0ZVRyYW5zaXRpb25FbmQobil9ZWxzZSB0aGlzLl9kZXN0cm95RWxlbWVudCh0KX0sZS5fZGVzdHJveUVsZW1lbnQ9ZnVuY3Rpb24odCl7aS5kZWZhdWx0KHQpLmRldGFjaCgpLnRyaWdnZXIoImNsb3NlZC5icy5hbGVydCIpLnJlbW92ZSgpfSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgbj1pLmRlZmF1bHQodGhpcyksbz1uLmRhdGEoZik7b3x8KG89bmV3IHQodGhpcyksbi5kYXRhKGYsbykpLCJjbG9zZSI9PT1lJiZvW2VdKHRoaXMpfSkpfSx0Ll9oYW5kbGVEaXNtaXNzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtlJiZlLnByZXZlbnREZWZhdWx0KCksdC5jbG9zZSh0aGlzKX19LHIodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC42LjIifX1dKSx0fSgpO2kuZGVmYXVsdChkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIiwnW2RhdGEtZGlzbWlzcz0iYWxlcnQiXScsYy5faGFuZGxlRGlzbWlzcyhuZXcgYykpLGkuZGVmYXVsdC5mbi5hbGVydD1jLl9qUXVlcnlJbnRlcmZhY2UsaS5kZWZhdWx0LmZuLmFsZXJ0LkNvbnN0cnVjdG9yPWMsaS5kZWZhdWx0LmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0LmZuLmFsZXJ0PWQsYy5falF1ZXJ5SW50ZXJmYWNlfTt2YXIgaD0iYnMuYnV0dG9uIixwPWkuZGVmYXVsdC5mbi5idXR0b24sbT0iYWN0aXZlIixnPSdbZGF0YS10b2dnbGVePSJidXR0b24iXScsXz0naW5wdXQ6bm90KFt0eXBlPSJoaWRkZW4iXSknLHY9Ii5idG4iLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLnNob3VsZEF2b2lkVHJpZ2dlckNoYW5nZT0hMX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgdD0hMCxlPSEwLG49aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QoJ1tkYXRhLXRvZ2dsZT0iYnV0dG9ucyJdJylbMF07aWYobil7dmFyIG89dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKF8pO2lmKG8pe2lmKCJyYWRpbyI9PT1vLnR5cGUpaWYoby5jaGVja2VkJiZ0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhtKSl0PSExO2Vsc2V7dmFyIHI9bi5xdWVyeVNlbGVjdG9yKCIuYWN0aXZlIik7ciYmaS5kZWZhdWx0KHIpLnJlbW92ZUNsYXNzKG0pfXQmJigiY2hlY2tib3giIT09by50eXBlJiYicmFkaW8iIT09by50eXBlfHwoby5jaGVja2VkPSF0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhtKSksdGhpcy5zaG91bGRBdm9pZFRyaWdnZXJDaGFuZ2V8fGkuZGVmYXVsdChvKS50cmlnZ2VyKCJjaGFuZ2UiKSksby5mb2N1cygpLGU9ITF9fXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKXx8KGUmJnRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiLCF0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhtKSksdCYmaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKG0pKX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5kZWZhdWx0LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxoKSx0aGlzLl9lbGVtZW50PW51bGx9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihlLG4pe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7dmFyIG89aS5kZWZhdWx0KHRoaXMpLHI9by5kYXRhKGgpO3J8fChyPW5ldyB0KHRoaXMpLG8uZGF0YShoLHIpKSxyLnNob3VsZEF2b2lkVHJpZ2dlckNoYW5nZT1uLCJ0b2dnbGUiPT09ZSYmcltlXSgpfSkpfSxyKHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuNi4yIn19XSksdH0oKTtpLmRlZmF1bHQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5idXR0b24uZGF0YS1hcGkiLGcsKGZ1bmN0aW9uKHQpe3ZhciBlPXQudGFyZ2V0LG49ZTtpZihpLmRlZmF1bHQoZSkuaGFzQ2xhc3MoImJ0biIpfHwoZT1pLmRlZmF1bHQoZSkuY2xvc2VzdCh2KVswXSksIWV8fGUuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHxlLmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKSl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZXt2YXIgbz1lLnF1ZXJ5U2VsZWN0b3IoXyk7aWYobyYmKG8uaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHxvLmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKSkpcmV0dXJuIHZvaWQgdC5wcmV2ZW50RGVmYXVsdCgpOyJJTlBVVCIhPT1uLnRhZ05hbWUmJiJMQUJFTCI9PT1lLnRhZ05hbWV8fGIuX2pRdWVyeUludGVyZmFjZS5jYWxsKGkuZGVmYXVsdChlKSwidG9nZ2xlIiwiSU5QVVQiPT09bi50YWdOYW1lKX19KSkub24oImZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaSIsZywoZnVuY3Rpb24odCl7dmFyIGU9aS5kZWZhdWx0KHQudGFyZ2V0KS5jbG9zZXN0KHYpWzBdO2kuZGVmYXVsdChlKS50b2dnbGVDbGFzcygiZm9jdXMiLC9eZm9jdXMoaW4pPyQvLnRlc3QodC50eXBlKSl9KSksaS5kZWZhdWx0KHdpbmRvdykub24oImxvYWQuYnMuYnV0dG9uLmRhdGEtYXBpIiwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXSAuYnRuJykpLGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe3ZhciBpPXRbZV0sbz1pLnF1ZXJ5U2VsZWN0b3IoXyk7by5jaGVja2VkfHxvLmhhc0F0dHJpYnV0ZSgiY2hlY2tlZCIpP2kuY2xhc3NMaXN0LmFkZChtKTppLmNsYXNzTGlzdC5yZW1vdmUobSl9Zm9yKHZhciByPTAsYT0odD1bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRvZ2dsZT0iYnV0dG9uIl0nKSkpLmxlbmd0aDtyPGE7cisrKXt2YXIgcz10W3JdOyJ0cnVlIj09PXMuZ2V0QXR0cmlidXRlKCJhcmlhLXByZXNzZWQiKT9zLmNsYXNzTGlzdC5hZGQobSk6cy5jbGFzc0xpc3QucmVtb3ZlKG0pfX0pKSxpLmRlZmF1bHQuZm4uYnV0dG9uPWIuX2pRdWVyeUludGVyZmFjZSxpLmRlZmF1bHQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yPWIsaS5kZWZhdWx0LmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5mbi5idXR0b249cCxiLl9qUXVlcnlJbnRlcmZhY2V9O3ZhciB5PSJjYXJvdXNlbCIsRT0iYnMuY2Fyb3VzZWwiLHc9aS5kZWZhdWx0LmZuW3ldLFQ9ImFjdGl2ZSIsQz0ibmV4dCIsUz0icHJldiIsTj0ic2xpZC5icy5jYXJvdXNlbCIsRD0iLmFjdGl2ZS5jYXJvdXNlbC1pdGVtIixBPXtpbnRlcnZhbDo1ZTMsa2V5Ym9hcmQ6ITAsc2xpZGU6ITEscGF1c2U6ImhvdmVyIix3cmFwOiEwLHRvdWNoOiEwfSxrPXtpbnRlcnZhbDoiKG51bWJlcnxib29sZWFuKSIsa2V5Ym9hcmQ6ImJvb2xlYW4iLHNsaWRlOiIoYm9vbGVhbnxzdHJpbmcpIixwYXVzZToiKHN0cmluZ3xib29sZWFuKSIsd3JhcDoiYm9vbGVhbiIsdG91Y2g6ImJvb2xlYW4ifSxJPXtUT1VDSDoidG91Y2giLFBFTjoicGVuIn0sTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9pdGVtcz1udWxsLHRoaXMuX2ludGVydmFsPW51bGwsdGhpcy5fYWN0aXZlRWxlbWVudD1udWxsLHRoaXMuX2lzUGF1c2VkPSExLHRoaXMuX2lzU2xpZGluZz0hMSx0aGlzLnRvdWNoVGltZW91dD1udWxsLHRoaXMudG91Y2hTdGFydFg9MCx0aGlzLnRvdWNoRGVsdGFYPTAsdGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyhlKSx0aGlzLl9lbGVtZW50PXQsdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIpLHRoaXMuX3RvdWNoU3VwcG9ydGVkPSJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MCx0aGlzLl9wb2ludGVyRXZlbnQ9Qm9vbGVhbih3aW5kb3cuUG9pbnRlckV2ZW50fHx3aW5kb3cuTVNQb2ludGVyRXZlbnQpLHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUubmV4dD1mdW5jdGlvbigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoQyl9LGUubmV4dFdoZW5WaXNpYmxlPWZ1bmN0aW9uKCl7dmFyIHQ9aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpOyFkb2N1bWVudC5oaWRkZW4mJnQuaXMoIjp2aXNpYmxlIikmJiJoaWRkZW4iIT09dC5jc3MoInZpc2liaWxpdHkiKSYmdGhpcy5uZXh0KCl9LGUucHJldj1mdW5jdGlvbigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoUyl9LGUucGF1c2U9ZnVuY3Rpb24odCl7dHx8KHRoaXMuX2lzUGF1c2VkPSEwKSx0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYiKSYmKHUudHJpZ2dlclRyYW5zaXRpb25FbmQodGhpcy5fZWxlbWVudCksdGhpcy5jeWNsZSghMCkpLGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpLHRoaXMuX2ludGVydmFsPW51bGx9LGUuY3ljbGU9ZnVuY3Rpb24odCl7dHx8KHRoaXMuX2lzUGF1c2VkPSExKSx0aGlzLl9pbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpLHRoaXMuX2ludGVydmFsPW51bGwpLHRoaXMuX2NvbmZpZy5pbnRlcnZhbCYmIXRoaXMuX2lzUGF1c2VkJiYodGhpcy5fdXBkYXRlSW50ZXJ2YWwoKSx0aGlzLl9pbnRlcnZhbD1zZXRJbnRlcnZhbCgoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP3RoaXMubmV4dFdoZW5WaXNpYmxlOnRoaXMubmV4dCkuYmluZCh0aGlzKSx0aGlzLl9jb25maWcuaW50ZXJ2YWwpKX0sZS50bz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuX2FjdGl2ZUVsZW1lbnQ9dGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKEQpO3ZhciBuPXRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KTtpZighKHQ+dGhpcy5faXRlbXMubGVuZ3RoLTF8fHQ8MCkpaWYodGhpcy5faXNTbGlkaW5nKWkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbmUoTiwoZnVuY3Rpb24oKXtyZXR1cm4gZS50byh0KX0pKTtlbHNle2lmKG49PT10KXJldHVybiB0aGlzLnBhdXNlKCksdm9pZCB0aGlzLmN5Y2xlKCk7dmFyIG89dD5uP0M6Uzt0aGlzLl9zbGlkZShvLHRoaXMuX2l0ZW1zW3RdKX19LGUuZGlzcG9zZT1mdW5jdGlvbigpe2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vZmYoIi5icy5jYXJvdXNlbCIpLGkuZGVmYXVsdC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsRSksdGhpcy5faXRlbXM9bnVsbCx0aGlzLl9jb25maWc9bnVsbCx0aGlzLl9lbGVtZW50PW51bGwsdGhpcy5faW50ZXJ2YWw9bnVsbCx0aGlzLl9pc1BhdXNlZD1udWxsLHRoaXMuX2lzU2xpZGluZz1udWxsLHRoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbCx0aGlzLl9pbmRpY2F0b3JzRWxlbWVudD1udWxsfSxlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9YSh7fSxBLHQpLHUudHlwZUNoZWNrQ29uZmlnKHksdCxrKSx0fSxlLl9oYW5kbGVTd2lwZT1mdW5jdGlvbigpe3ZhciB0PU1hdGguYWJzKHRoaXMudG91Y2hEZWx0YVgpO2lmKCEodDw9NDApKXt2YXIgZT10L3RoaXMudG91Y2hEZWx0YVg7dGhpcy50b3VjaERlbHRhWD0wLGU+MCYmdGhpcy5wcmV2KCksZTwwJiZ0aGlzLm5leHQoKX19LGUuX2FkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9jb25maWcua2V5Ym9hcmQmJmkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbigia2V5ZG93bi5icy5jYXJvdXNlbCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9rZXlkb3duKGUpfSkpLCJob3ZlciI9PT10aGlzLl9jb25maWcucGF1c2UmJmkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnBhdXNlKGUpfSkpLm9uKCJtb3VzZWxlYXZlLmJzLmNhcm91c2VsIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY3ljbGUoZSl9KSksdGhpcy5fY29uZmlnLnRvdWNoJiZ0aGlzLl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzKCl9LGUuX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX3RvdWNoU3VwcG9ydGVkKXt2YXIgZT1mdW5jdGlvbihlKXt0Ll9wb2ludGVyRXZlbnQmJklbZS5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldP3QudG91Y2hTdGFydFg9ZS5vcmlnaW5hbEV2ZW50LmNsaWVudFg6dC5fcG9pbnRlckV2ZW50fHwodC50b3VjaFN0YXJ0WD1lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYKX0sbj1mdW5jdGlvbihlKXt0Ll9wb2ludGVyRXZlbnQmJklbZS5vcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlLnRvVXBwZXJDYXNlKCldJiYodC50b3VjaERlbHRhWD1lLm9yaWdpbmFsRXZlbnQuY2xpZW50WC10LnRvdWNoU3RhcnRYKSx0Ll9oYW5kbGVTd2lwZSgpLCJob3ZlciI9PT10Ll9jb25maWcucGF1c2UmJih0LnBhdXNlKCksdC50b3VjaFRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRvdWNoVGltZW91dCksdC50b3VjaFRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuY3ljbGUoZSl9KSw1MDArdC5fY29uZmlnLmludGVydmFsKSl9O2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5jYXJvdXNlbC1pdGVtIGltZyIpKS5vbigiZHJhZ3N0YXJ0LmJzLmNhcm91c2VsIiwoZnVuY3Rpb24odCl7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKX0pKSx0aGlzLl9wb2ludGVyRXZlbnQ/KGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbigicG9pbnRlcmRvd24uYnMuY2Fyb3VzZWwiLChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pKSxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub24oInBvaW50ZXJ1cC5icy5jYXJvdXNlbCIsKGZ1bmN0aW9uKHQpe3JldHVybiBuKHQpfSkpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZCgicG9pbnRlci1ldmVudCIpKTooaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uKCJ0b3VjaHN0YXJ0LmJzLmNhcm91c2VsIiwoZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KSksaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uKCJ0b3VjaG1vdmUuYnMuY2Fyb3VzZWwiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dC50b3VjaERlbHRhWD1lLm9yaWdpbmFsRXZlbnQudG91Y2hlcyYmZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoPjE/MDplLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5jbGllbnRYLXQudG91Y2hTdGFydFh9KGUpfSkpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbigidG91Y2hlbmQuYnMuY2Fyb3VzZWwiLChmdW5jdGlvbih0KXtyZXR1cm4gbih0KX0pKSl9fSxlLl9rZXlkb3duPWZ1bmN0aW9uKHQpe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KHQudGFyZ2V0LnRhZ05hbWUpKXN3aXRjaCh0LndoaWNoKXtjYXNlIDM3OnQucHJldmVudERlZmF1bHQoKSx0aGlzLnByZXYoKTticmVhaztjYXNlIDM5OnQucHJldmVudERlZmF1bHQoKSx0aGlzLm5leHQoKX19LGUuX2dldEl0ZW1JbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXRlbXM9dCYmdC5wYXJlbnROb2RlP1tdLnNsaWNlLmNhbGwodC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoIi5jYXJvdXNlbC1pdGVtIikpOltdLHRoaXMuX2l0ZW1zLmluZGV4T2YodCl9LGUuX2dldEl0ZW1CeURpcmVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciBuPXQ9PT1DLGk9dD09PVMsbz10aGlzLl9nZXRJdGVtSW5kZXgoZSkscj10aGlzLl9pdGVtcy5sZW5ndGgtMTtpZigoaSYmMD09PW98fG4mJm89PT1yKSYmIXRoaXMuX2NvbmZpZy53cmFwKXJldHVybiBlO3ZhciBhPShvKyh0PT09Uz8tMToxKSkldGhpcy5faXRlbXMubGVuZ3RoO3JldHVybi0xPT09YT90aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV06dGhpcy5faXRlbXNbYV19LGUuX3RyaWdnZXJTbGlkZUV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fZ2V0SXRlbUluZGV4KHQpLG89dGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihEKSkscj1pLmRlZmF1bHQuRXZlbnQoInNsaWRlLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDp0LGRpcmVjdGlvbjplLGZyb206byx0bzpufSk7cmV0dXJuIGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHIpLHJ9LGUuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpe3ZhciBlPVtdLnNsaWNlLmNhbGwodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmFjdGl2ZSIpKTtpLmRlZmF1bHQoZSkucmVtb3ZlQ2xhc3MoVCk7dmFyIG49dGhpcy5faW5kaWNhdG9yc0VsZW1lbnQuY2hpbGRyZW5bdGhpcy5fZ2V0SXRlbUluZGV4KHQpXTtuJiZpLmRlZmF1bHQobikuYWRkQ2xhc3MoVCl9fSxlLl91cGRhdGVJbnRlcnZhbD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2FjdGl2ZUVsZW1lbnR8fHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihEKTtpZih0KXt2YXIgZT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZSgiZGF0YS1pbnRlcnZhbCIpLDEwKTtlPyh0aGlzLl9jb25maWcuZGVmYXVsdEludGVydmFsPXRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWx8fHRoaXMuX2NvbmZpZy5pbnRlcnZhbCx0aGlzLl9jb25maWcuaW50ZXJ2YWw9ZSk6dGhpcy5fY29uZmlnLmludGVydmFsPXRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWx8fHRoaXMuX2NvbmZpZy5pbnRlcnZhbH19LGUuX3NsaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbyxyLGE9dGhpcyxzPXRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihEKSxsPXRoaXMuX2dldEl0ZW1JbmRleChzKSxmPWV8fHMmJnRoaXMuX2dldEl0ZW1CeURpcmVjdGlvbih0LHMpLGQ9dGhpcy5fZ2V0SXRlbUluZGV4KGYpLGM9Qm9vbGVhbih0aGlzLl9pbnRlcnZhbCk7aWYodD09PUM/KG49ImNhcm91c2VsLWl0ZW0tbGVmdCIsbz0iY2Fyb3VzZWwtaXRlbS1uZXh0IixyPSJsZWZ0Iik6KG49ImNhcm91c2VsLWl0ZW0tcmlnaHQiLG89ImNhcm91c2VsLWl0ZW0tcHJldiIscj0icmlnaHQiKSxmJiZpLmRlZmF1bHQoZikuaGFzQ2xhc3MoVCkpdGhpcy5faXNTbGlkaW5nPSExO2Vsc2UgaWYoIXRoaXMuX3RyaWdnZXJTbGlkZUV2ZW50KGYscikuaXNEZWZhdWx0UHJldmVudGVkKCkmJnMmJmYpe3RoaXMuX2lzU2xpZGluZz0hMCxjJiZ0aGlzLnBhdXNlKCksdGhpcy5fc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChmKSx0aGlzLl9hY3RpdmVFbGVtZW50PWY7dmFyIGg9aS5kZWZhdWx0LkV2ZW50KE4se3JlbGF0ZWRUYXJnZXQ6ZixkaXJlY3Rpb246cixmcm9tOmwsdG86ZH0pO2lmKGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcygic2xpZGUiKSl7aS5kZWZhdWx0KGYpLmFkZENsYXNzKG8pLHUucmVmbG93KGYpLGkuZGVmYXVsdChzKS5hZGRDbGFzcyhuKSxpLmRlZmF1bHQoZikuYWRkQ2xhc3Mobik7dmFyIHA9dS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChzKTtpLmRlZmF1bHQocykub25lKHUuVFJBTlNJVElPTl9FTkQsKGZ1bmN0aW9uKCl7aS5kZWZhdWx0KGYpLnJlbW92ZUNsYXNzKG4rIiAiK28pLmFkZENsYXNzKFQpLGkuZGVmYXVsdChzKS5yZW1vdmVDbGFzcygiYWN0aXZlICIrbysiICIrbiksYS5faXNTbGlkaW5nPSExLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdChhLl9lbGVtZW50KS50cmlnZ2VyKGgpfSksMCl9KSkuZW11bGF0ZVRyYW5zaXRpb25FbmQocCl9ZWxzZSBpLmRlZmF1bHQocykucmVtb3ZlQ2xhc3MoVCksaS5kZWZhdWx0KGYpLmFkZENsYXNzKFQpLHRoaXMuX2lzU2xpZGluZz0hMSxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoKTtjJiZ0aGlzLmN5Y2xlKCl9fSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgbj1pLmRlZmF1bHQodGhpcykuZGF0YShFKSxvPWEoe30sQSxpLmRlZmF1bHQodGhpcykuZGF0YSgpKTsib2JqZWN0Ij09dHlwZW9mIGUmJihvPWEoe30sbyxlKSk7dmFyIHI9InN0cmluZyI9PXR5cGVvZiBlP2U6by5zbGlkZTtpZihufHwobj1uZXcgdCh0aGlzLG8pLGkuZGVmYXVsdCh0aGlzKS5kYXRhKEUsbikpLCJudW1iZXIiPT10eXBlb2YgZSluLnRvKGUpO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiByKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIG5bcl0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK3IrJyInKTtuW3JdKCl9ZWxzZSBvLmludGVydmFsJiZvLnJpZGUmJihuLnBhdXNlKCksbi5jeWNsZSgpKX0pKX0sdC5fZGF0YUFwaUNsaWNrSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgbj11LmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7aWYobil7dmFyIG89aS5kZWZhdWx0KG4pWzBdO2lmKG8mJmkuZGVmYXVsdChvKS5oYXNDbGFzcygiY2Fyb3VzZWwiKSl7dmFyIHI9YSh7fSxpLmRlZmF1bHQobykuZGF0YSgpLGkuZGVmYXVsdCh0aGlzKS5kYXRhKCkpLHM9dGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtc2xpZGUtdG8iKTtzJiYoci5pbnRlcnZhbD0hMSksdC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoaS5kZWZhdWx0KG8pLHIpLHMmJmkuZGVmYXVsdChvKS5kYXRhKEUpLnRvKHMpLGUucHJldmVudERlZmF1bHQoKX19fSxyKHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuNi4yIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBBfX1dKSx0fSgpO2kuZGVmYXVsdChkb2N1bWVudCkub24oImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwiW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10iLE8uX2RhdGFBcGlDbGlja0hhbmRsZXIpLGkuZGVmYXVsdCh3aW5kb3cpLm9uKCJsb2FkLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1yaWRlPSJjYXJvdXNlbCJdJykpLGU9MCxuPXQubGVuZ3RoO2U8bjtlKyspe3ZhciBvPWkuZGVmYXVsdCh0W2VdKTtPLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChvLG8uZGF0YSgpKX19KSksaS5kZWZhdWx0LmZuW3ldPU8uX2pRdWVyeUludGVyZmFjZSxpLmRlZmF1bHQuZm5beV0uQ29uc3RydWN0b3I9TyxpLmRlZmF1bHQuZm5beV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHQuZm5beV09dyxPLl9qUXVlcnlJbnRlcmZhY2V9O3ZhciB4PSJjb2xsYXBzZSIsaj0iYnMuY29sbGFwc2UiLEw9aS5kZWZhdWx0LmZuW3hdLFA9InNob3ciLEY9ImNvbGxhcHNlIixSPSJjb2xsYXBzaW5nIixCPSJjb2xsYXBzZWQiLEg9IndpZHRoIixNPSdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl0nLHE9e3RvZ2dsZTohMCxwYXJlbnQ6IiJ9LFE9e3RvZ2dsZToiYm9vbGVhbiIscGFyZW50OiIoc3RyaW5nfGVsZW1lbnQpIn0sVz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITEsdGhpcy5fZWxlbWVudD10LHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5fdHJpZ2dlckFycmF5PVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2hyZWY9IiMnK3QuaWQrJyJdLFtkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXRhcmdldD0iIycrdC5pZCsnIl0nKSk7Zm9yKHZhciBuPVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChNKSksaT0wLG89bi5sZW5ndGg7aTxvO2krKyl7dmFyIHI9bltpXSxhPXUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChyKSxzPVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KSk7bnVsbCE9PWEmJnMubGVuZ3RoPjAmJih0aGlzLl9zZWxlY3Rvcj1hLHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKHIpKX10aGlzLl9wYXJlbnQ9dGhpcy5fY29uZmlnLnBhcmVudD90aGlzLl9nZXRQYXJlbnQoKTpudWxsLHRoaXMuX2NvbmZpZy5wYXJlbnR8fHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl9lbGVtZW50LHRoaXMuX3RyaWdnZXJBcnJheSksdGhpcy5fY29uZmlnLnRvZ2dsZSYmdGhpcy50b2dnbGUoKX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS50b2dnbGU9ZnVuY3Rpb24oKXtpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoUCk/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9LGUuc2hvdz1mdW5jdGlvbigpe3ZhciBlLG4sbz10aGlzO2lmKCEodGhpcy5faXNUcmFuc2l0aW9uaW5nfHxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoUCl8fCh0aGlzLl9wYXJlbnQmJjA9PT0oZT1bXS5zbGljZS5jYWxsKHRoaXMuX3BhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc2hvdywgLmNvbGxhcHNpbmciKSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG8uX2NvbmZpZy5wYXJlbnQ/dC5nZXRBdHRyaWJ1dGUoImRhdGEtcGFyZW50Iik9PT1vLl9jb25maWcucGFyZW50OnQuY2xhc3NMaXN0LmNvbnRhaW5zKEYpfSkpKS5sZW5ndGgmJihlPW51bGwpLGUmJihuPWkuZGVmYXVsdChlKS5ub3QodGhpcy5fc2VsZWN0b3IpLmRhdGEoaikpJiZuLl9pc1RyYW5zaXRpb25pbmcpKSl7dmFyIHI9aS5kZWZhdWx0LkV2ZW50KCJzaG93LmJzLmNvbGxhcHNlIik7aWYoaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIociksIXIuaXNEZWZhdWx0UHJldmVudGVkKCkpe2UmJih0Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbChpLmRlZmF1bHQoZSkubm90KHRoaXMuX3NlbGVjdG9yKSwiaGlkZSIpLG58fGkuZGVmYXVsdChlKS5kYXRhKGosbnVsbCkpO3ZhciBhPXRoaXMuX2dldERpbWVuc2lvbigpO2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhGKS5hZGRDbGFzcyhSKSx0aGlzLl9lbGVtZW50LnN0eWxlW2FdPTAsdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCYmaS5kZWZhdWx0KHRoaXMuX3RyaWdnZXJBcnJheSkucmVtb3ZlQ2xhc3MoQikuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuc2V0VHJhbnNpdGlvbmluZyghMCk7dmFyIHM9InNjcm9sbCIrKGFbMF0udG9VcHBlckNhc2UoKSthLnNsaWNlKDEpKSxsPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uZSh1LlRSQU5TSVRJT05fRU5ELChmdW5jdGlvbigpe2kuZGVmYXVsdChvLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhSKS5hZGRDbGFzcygiY29sbGFwc2Ugc2hvdyIpLG8uX2VsZW1lbnQuc3R5bGVbYV09IiIsby5zZXRUcmFuc2l0aW9uaW5nKCExKSxpLmRlZmF1bHQoby5fZWxlbWVudCkudHJpZ2dlcigic2hvd24uYnMuY29sbGFwc2UiKX0pKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChsKSx0aGlzLl9lbGVtZW50LnN0eWxlW2FdPXRoaXMuX2VsZW1lbnRbc10rInB4In19fSxlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCF0aGlzLl9pc1RyYW5zaXRpb25pbmcmJmkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhQKSl7dmFyIGU9aS5kZWZhdWx0LkV2ZW50KCJoaWRlLmJzLmNvbGxhcHNlIik7aWYoaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoZSksIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBuPXRoaXMuX2dldERpbWVuc2lvbigpO3RoaXMuX2VsZW1lbnQuc3R5bGVbbl09dGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtuXSsicHgiLHUucmVmbG93KHRoaXMuX2VsZW1lbnQpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhSKS5yZW1vdmVDbGFzcygiY29sbGFwc2Ugc2hvdyIpO3ZhciBvPXRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGg7aWYobz4wKWZvcih2YXIgcj0wO3I8bztyKyspe3ZhciBhPXRoaXMuX3RyaWdnZXJBcnJheVtyXSxzPXUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChhKTtudWxsIT09cyYmKGkuZGVmYXVsdChbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocykpKS5oYXNDbGFzcyhQKXx8aS5kZWZhdWx0KGEpLmFkZENsYXNzKEIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSl9dGhpcy5zZXRUcmFuc2l0aW9uaW5nKCEwKSx0aGlzLl9lbGVtZW50LnN0eWxlW25dPSIiO3ZhciBsPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uZSh1LlRSQU5TSVRJT05fRU5ELChmdW5jdGlvbigpe3Quc2V0VHJhbnNpdGlvbmluZyghMSksaS5kZWZhdWx0KHQuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKFIpLmFkZENsYXNzKEYpLnRyaWdnZXIoImhpZGRlbi5icy5jb2xsYXBzZSIpfSkpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGwpfX19LGUuc2V0VHJhbnNpdGlvbmluZz1mdW5jdGlvbih0KXt0aGlzLl9pc1RyYW5zaXRpb25pbmc9dH0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5kZWZhdWx0LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxqKSx0aGlzLl9jb25maWc9bnVsbCx0aGlzLl9wYXJlbnQ9bnVsbCx0aGlzLl9lbGVtZW50PW51bGwsdGhpcy5fdHJpZ2dlckFycmF5PW51bGwsdGhpcy5faXNUcmFuc2l0aW9uaW5nPW51bGx9LGUuX2dldENvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4odD1hKHt9LHEsdCkpLnRvZ2dsZT1Cb29sZWFuKHQudG9nZ2xlKSx1LnR5cGVDaGVja0NvbmZpZyh4LHQsUSksdH0sZS5fZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhIKT9IOiJoZWlnaHQifSxlLl9nZXRQYXJlbnQ9ZnVuY3Rpb24oKXt2YXIgZSxuPXRoaXM7dS5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnBhcmVudCk/KGU9dGhpcy5fY29uZmlnLnBhcmVudCwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuX2NvbmZpZy5wYXJlbnQuanF1ZXJ5JiYoZT10aGlzLl9jb25maWcucGFyZW50WzBdKSk6ZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5wYXJlbnQpO3ZhciBvPSdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS1wYXJlbnQ9IicrdGhpcy5fY29uZmlnLnBhcmVudCsnIl0nLHI9W10uc2xpY2UuY2FsbChlLnF1ZXJ5U2VsZWN0b3JBbGwobykpO3JldHVybiBpLmRlZmF1bHQocikuZWFjaCgoZnVuY3Rpb24oZSxpKXtuLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModC5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoaSksW2ldKX0pKSxlfSxlLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24odCxlKXt2YXIgbj1pLmRlZmF1bHQodCkuaGFzQ2xhc3MoUCk7ZS5sZW5ndGgmJmkuZGVmYXVsdChlKS50b2dnbGVDbGFzcyhCLCFuKS5hdHRyKCJhcmlhLWV4cGFuZGVkIixuKX0sdC5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dS5nZXRTZWxlY3RvckZyb21FbGVtZW50KHQpO3JldHVybiBlP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk6bnVsbH0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7dmFyIG49aS5kZWZhdWx0KHRoaXMpLG89bi5kYXRhKGopLHI9YSh7fSxxLG4uZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgZSYmZT9lOnt9KTtpZighbyYmci50b2dnbGUmJiJzdHJpbmciPT10eXBlb2YgZSYmL3Nob3d8aGlkZS8udGVzdChlKSYmKHIudG9nZ2xlPSExKSxvfHwobz1uZXcgdCh0aGlzLHIpLG4uZGF0YShqLG8pKSwic3RyaW5nIj09dHlwZW9mIGUpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2Ygb1tlXSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrZSsnIicpO29bZV0oKX19KSl9LHIodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC42LjIifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHF9fV0pLHR9KCk7aS5kZWZhdWx0KGRvY3VtZW50KS5vbigiY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGkiLE0sKGZ1bmN0aW9uKHQpeyJBIj09PXQuY3VycmVudFRhcmdldC50YWdOYW1lJiZ0LnByZXZlbnREZWZhdWx0KCk7dmFyIGU9aS5kZWZhdWx0KHRoaXMpLG49dS5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpLG89W10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pKTtpLmRlZmF1bHQobykuZWFjaCgoZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQodGhpcyksbj10LmRhdGEoaik/InRvZ2dsZSI6ZS5kYXRhKCk7Vy5falF1ZXJ5SW50ZXJmYWNlLmNhbGwodCxuKX0pKX0pKSxpLmRlZmF1bHQuZm5beF09Vy5falF1ZXJ5SW50ZXJmYWNlLGkuZGVmYXVsdC5mblt4XS5Db25zdHJ1Y3Rvcj1XLGkuZGVmYXVsdC5mblt4XS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5mblt4XT1MLFcuX2pRdWVyeUludGVyZmFjZX07dmFyIFU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQmJiJ1bmRlZmluZWQiIT10eXBlb2YgbmF2aWdhdG9yLFY9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9WyJFZGdlIiwiVHJpZGVudCIsIkZpcmVmb3giXSxlPTA7ZTx0Lmxlbmd0aDtlKz0xKWlmKFUmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZih0W2VdKT49MClyZXR1cm4gMTtyZXR1cm4gMH0oKSxZPVUmJndpbmRvdy5Qcm9taXNlP2Z1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHdpbmRvdy5Qcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2U9ITEsdCgpfSkpKX19OmZ1bmN0aW9uKHQpe3ZhciBlPSExO3JldHVybiBmdW5jdGlvbigpe2V8fChlPSEwLHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZT0hMSx0KCl9KSxWKSl9fTtmdW5jdGlvbiB6KHQpe3JldHVybiB0JiYiW29iamVjdCBGdW5jdGlvbl0iPT09e30udG9TdHJpbmcuY2FsbCh0KX1mdW5jdGlvbiBLKHQsZSl7aWYoMSE9PXQubm9kZVR5cGUpcmV0dXJuW107dmFyIG49dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKTtyZXR1cm4gZT9uW2VdOm59ZnVuY3Rpb24gWCh0KXtyZXR1cm4iSFRNTCI9PT10Lm5vZGVOYW1lP3Q6dC5wYXJlbnROb2RlfHx0Lmhvc3R9ZnVuY3Rpb24gRyh0KXtpZighdClyZXR1cm4gZG9jdW1lbnQuYm9keTtzd2l0Y2godC5ub2RlTmFtZSl7Y2FzZSJIVE1MIjpjYXNlIkJPRFkiOnJldHVybiB0Lm93bmVyRG9jdW1lbnQuYm9keTtjYXNlIiNkb2N1bWVudCI6cmV0dXJuIHQuYm9keX12YXIgZT1LKHQpLG49ZS5vdmVyZmxvdyxpPWUub3ZlcmZsb3dYLG89ZS5vdmVyZmxvd1k7cmV0dXJuLyhhdXRvfHNjcm9sbHxvdmVybGF5KS8udGVzdChuK28raSk/dDpHKFgodCkpfWZ1bmN0aW9uICQodCl7cmV0dXJuIHQmJnQucmVmZXJlbmNlTm9kZT90LnJlZmVyZW5jZU5vZGU6dH12YXIgSj1VJiYhKCF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHR8fCFkb2N1bWVudC5kb2N1bWVudE1vZGUpLFo9VSYmL01TSUUgMTAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7ZnVuY3Rpb24gdHQodCl7cmV0dXJuIDExPT09dD9KOjEwPT09dD9aOkp8fFp9ZnVuY3Rpb24gZXQodCl7aWYoIXQpcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmb3IodmFyIGU9dHQoMTApP2RvY3VtZW50LmJvZHk6bnVsbCxuPXQub2Zmc2V0UGFyZW50fHxudWxsO249PT1lJiZ0Lm5leHRFbGVtZW50U2libGluZzspbj0odD10Lm5leHRFbGVtZW50U2libGluZykub2Zmc2V0UGFyZW50O3ZhciBpPW4mJm4ubm9kZU5hbWU7cmV0dXJuIGkmJiJCT0RZIiE9PWkmJiJIVE1MIiE9PWk/LTEhPT1bIlRIIiwiVEQiLCJUQUJMRSJdLmluZGV4T2Yobi5ub2RlTmFtZSkmJiJzdGF0aWMiPT09SyhuLCJwb3NpdGlvbiIpP2V0KG4pOm46dD90Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBudCh0KXtyZXR1cm4gbnVsbCE9PXQucGFyZW50Tm9kZT9udCh0LnBhcmVudE5vZGUpOnR9ZnVuY3Rpb24gaXQodCxlKXtpZighKHQmJnQubm9kZVR5cGUmJmUmJmUubm9kZVR5cGUpKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIG49dC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyxpPW4/dDplLG89bj9lOnQscj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3Iuc2V0U3RhcnQoaSwwKSxyLnNldEVuZChvLDApO3ZhciBhLHMsbD1yLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO2lmKHQhPT1sJiZlIT09bHx8aS5jb250YWlucyhvKSlyZXR1cm4iQk9EWSI9PT0ocz0oYT1sKS5ub2RlTmFtZSl8fCJIVE1MIiE9PXMmJmV0KGEuZmlyc3RFbGVtZW50Q2hpbGQpIT09YT9ldChsKTpsO3ZhciB1PW50KHQpO3JldHVybiB1Lmhvc3Q/aXQodS5ob3N0LGUpOml0KHQsbnQoZSkuaG9zdCl9ZnVuY3Rpb24gb3QodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJ0b3AiLG49InRvcCI9PT1lPyJzY3JvbGxUb3AiOiJzY3JvbGxMZWZ0IixpPXQubm9kZU5hbWU7aWYoIkJPRFkiPT09aXx8IkhUTUwiPT09aSl7dmFyIG89dC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxyPXQub3duZXJEb2N1bWVudC5zY3JvbGxpbmdFbGVtZW50fHxvO3JldHVybiByW25dfXJldHVybiB0W25dfWZ1bmN0aW9uIHJ0KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxpPW90KGUsInRvcCIpLG89b3QoZSwibGVmdCIpLHI9bj8tMToxO3JldHVybiB0LnRvcCs9aSpyLHQuYm90dG9tKz1pKnIsdC5sZWZ0Kz1vKnIsdC5yaWdodCs9bypyLHR9ZnVuY3Rpb24gYXQodCxlKXt2YXIgbj0ieCI9PT1lPyJMZWZ0IjoiVG9wIixpPSJMZWZ0Ij09PW4/IlJpZ2h0IjoiQm90dG9tIjtyZXR1cm4gcGFyc2VGbG9hdCh0WyJib3JkZXIiK24rIldpZHRoIl0pK3BhcnNlRmxvYXQodFsiYm9yZGVyIitpKyJXaWR0aCJdKX1mdW5jdGlvbiBzdCh0LGUsbixpKXtyZXR1cm4gTWF0aC5tYXgoZVsib2Zmc2V0Iit0XSxlWyJzY3JvbGwiK3RdLG5bImNsaWVudCIrdF0sblsib2Zmc2V0Iit0XSxuWyJzY3JvbGwiK3RdLHR0KDEwKT9wYXJzZUludChuWyJvZmZzZXQiK3RdKStwYXJzZUludChpWyJtYXJnaW4iKygiSGVpZ2h0Ij09PXQ/IlRvcCI6IkxlZnQiKV0pK3BhcnNlSW50KGlbIm1hcmdpbiIrKCJIZWlnaHQiPT09dD8iQm90dG9tIjoiUmlnaHQiKV0pOjApfWZ1bmN0aW9uIGx0KHQpe3ZhciBlPXQuYm9keSxuPXQuZG9jdW1lbnRFbGVtZW50LGk9dHQoMTApJiZnZXRDb21wdXRlZFN0eWxlKG4pO3JldHVybntoZWlnaHQ6c3QoIkhlaWdodCIsZSxuLGkpLHdpZHRoOnN0KCJXaWR0aCIsZSxuLGkpfX12YXIgdXQ9ZnVuY3Rpb24odCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKX0sZnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixpKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxpJiZ0KGUsaSksZX19KCksZHQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBlIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbZV09bix0fSxjdD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJih0W2ldPW5baV0pfXJldHVybiB0fTtmdW5jdGlvbiBodCh0KXtyZXR1cm4gY3Qoe30sdCx7cmlnaHQ6dC5sZWZ0K3Qud2lkdGgsYm90dG9tOnQudG9wK3QuaGVpZ2h0fSl9ZnVuY3Rpb24gcHQodCl7dmFyIGU9e307dHJ5e2lmKHR0KDEwKSl7ZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBuPW90KHQsInRvcCIpLGk9b3QodCwibGVmdCIpO2UudG9wKz1uLGUubGVmdCs9aSxlLmJvdHRvbSs9bixlLnJpZ2h0Kz1pfWVsc2UgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHQpe312YXIgbz17bGVmdDplLmxlZnQsdG9wOmUudG9wLHdpZHRoOmUucmlnaHQtZS5sZWZ0LGhlaWdodDplLmJvdHRvbS1lLnRvcH0scj0iSFRNTCI9PT10Lm5vZGVOYW1lP2x0KHQub3duZXJEb2N1bWVudCk6e30sYT1yLndpZHRofHx0LmNsaWVudFdpZHRofHxvLndpZHRoLHM9ci5oZWlnaHR8fHQuY2xpZW50SGVpZ2h0fHxvLmhlaWdodCxsPXQub2Zmc2V0V2lkdGgtYSx1PXQub2Zmc2V0SGVpZ2h0LXM7aWYobHx8dSl7dmFyIGY9Syh0KTtsLT1hdChmLCJ4IiksdS09YXQoZiwieSIpLG8ud2lkdGgtPWwsby5oZWlnaHQtPXV9cmV0dXJuIGh0KG8pfWZ1bmN0aW9uIG10KHQsZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxpPXR0KDEwKSxvPSJIVE1MIj09PWUubm9kZU5hbWUscj1wdCh0KSxhPXB0KGUpLHM9Ryh0KSxsPUsoZSksdT1wYXJzZUZsb2F0KGwuYm9yZGVyVG9wV2lkdGgpLGY9cGFyc2VGbG9hdChsLmJvcmRlckxlZnRXaWR0aCk7biYmbyYmKGEudG9wPU1hdGgubWF4KGEudG9wLDApLGEubGVmdD1NYXRoLm1heChhLmxlZnQsMCkpO3ZhciBkPWh0KHt0b3A6ci50b3AtYS50b3AtdSxsZWZ0OnIubGVmdC1hLmxlZnQtZix3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0pO2lmKGQubWFyZ2luVG9wPTAsZC5tYXJnaW5MZWZ0PTAsIWkmJm8pe3ZhciBjPXBhcnNlRmxvYXQobC5tYXJnaW5Ub3ApLGg9cGFyc2VGbG9hdChsLm1hcmdpbkxlZnQpO2QudG9wLT11LWMsZC5ib3R0b20tPXUtYyxkLmxlZnQtPWYtaCxkLnJpZ2h0LT1mLWgsZC5tYXJnaW5Ub3A9YyxkLm1hcmdpbkxlZnQ9aH1yZXR1cm4oaSYmIW4/ZS5jb250YWlucyhzKTplPT09cyYmIkJPRFkiIT09cy5ub2RlTmFtZSkmJihkPXJ0KGQsZSkpLGR9ZnVuY3Rpb24gZ3QodCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPXQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsaT1tdCh0LG4pLG89TWF0aC5tYXgobi5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCkscj1NYXRoLm1heChuLmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGE9ZT8wOm90KG4pLHM9ZT8wOm90KG4sImxlZnQiKSxsPXt0b3A6YS1pLnRvcCtpLm1hcmdpblRvcCxsZWZ0OnMtaS5sZWZ0K2kubWFyZ2luTGVmdCx3aWR0aDpvLGhlaWdodDpyfTtyZXR1cm4gaHQobCl9ZnVuY3Rpb24gX3QodCl7dmFyIGU9dC5ub2RlTmFtZTtpZigiQk9EWSI9PT1lfHwiSFRNTCI9PT1lKXJldHVybiExO2lmKCJmaXhlZCI9PT1LKHQsInBvc2l0aW9uIikpcmV0dXJuITA7dmFyIG49WCh0KTtyZXR1cm4hIW4mJl90KG4pfWZ1bmN0aW9uIHZ0KHQpe2lmKCF0fHwhdC5wYXJlbnRFbGVtZW50fHx0dCgpKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Zm9yKHZhciBlPXQucGFyZW50RWxlbWVudDtlJiYibm9uZSI9PT1LKGUsInRyYW5zZm9ybSIpOyllPWUucGFyZW50RWxlbWVudDtyZXR1cm4gZXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fWZ1bmN0aW9uIGJ0KHQsZSxuLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF0scj17dG9wOjAsbGVmdDowfSxhPW8/dnQodCk6aXQodCwkKGUpKTtpZigidmlld3BvcnQiPT09aSlyPWd0KGEsbyk7ZWxzZXt2YXIgcz12b2lkIDA7InNjcm9sbFBhcmVudCI9PT1pPyJCT0RZIj09PShzPUcoWChlKSkpLm5vZGVOYW1lJiYocz10Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTpzPSJ3aW5kb3ciPT09aT90Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Omk7dmFyIGw9bXQocyxhLG8pO2lmKCJIVE1MIiE9PXMubm9kZU5hbWV8fF90KGEpKXI9bDtlbHNle3ZhciB1PWx0KHQub3duZXJEb2N1bWVudCksZj11LmhlaWdodCxkPXUud2lkdGg7ci50b3ArPWwudG9wLWwubWFyZ2luVG9wLHIuYm90dG9tPWYrbC50b3Asci5sZWZ0Kz1sLmxlZnQtbC5tYXJnaW5MZWZ0LHIucmlnaHQ9ZCtsLmxlZnR9fXZhciBjPSJudW1iZXIiPT10eXBlb2Yobj1ufHwwKTtyZXR1cm4gci5sZWZ0Kz1jP246bi5sZWZ0fHwwLHIudG9wKz1jP246bi50b3B8fDAsci5yaWdodC09Yz9uOm4ucmlnaHR8fDAsci5ib3R0b20tPWM/bjpuLmJvdHRvbXx8MCxyfWZ1bmN0aW9uIHl0KHQpe3JldHVybiB0LndpZHRoKnQuaGVpZ2h0fWZ1bmN0aW9uIEV0KHQsZSxuLGksbyl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7aWYoLTE9PT10LmluZGV4T2YoImF1dG8iKSlyZXR1cm4gdDt2YXIgYT1idChuLGkscixvKSxzPXt0b3A6e3dpZHRoOmEud2lkdGgsaGVpZ2h0OmUudG9wLWEudG9wfSxyaWdodDp7d2lkdGg6YS5yaWdodC1lLnJpZ2h0LGhlaWdodDphLmhlaWdodH0sYm90dG9tOnt3aWR0aDphLndpZHRoLGhlaWdodDphLmJvdHRvbS1lLmJvdHRvbX0sbGVmdDp7d2lkdGg6ZS5sZWZ0LWEubGVmdCxoZWlnaHQ6YS5oZWlnaHR9fSxsPU9iamVjdC5rZXlzKHMpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGN0KHtrZXk6dH0sc1t0XSx7YXJlYTp5dChzW3RdKX0pfSkpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuYXJlYS10LmFyZWF9KSksdT1sLmZpbHRlcigoZnVuY3Rpb24odCl7dmFyIGU9dC53aWR0aCxpPXQuaGVpZ2h0O3JldHVybiBlPj1uLmNsaWVudFdpZHRoJiZpPj1uLmNsaWVudEhlaWdodH0pKSxmPXUubGVuZ3RoPjA/dVswXS5rZXk6bFswXS5rZXksZD10LnNwbGl0KCItIilbMV07cmV0dXJuIGYrKGQ/Ii0iK2Q6IiIpfWZ1bmN0aW9uIHd0KHQsZSxuKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106bnVsbCxvPWk/dnQoZSk6aXQoZSwkKG4pKTtyZXR1cm4gbXQobixvLGkpfWZ1bmN0aW9uIFR0KHQpe3ZhciBlPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQpLG49cGFyc2VGbG9hdChlLm1hcmdpblRvcHx8MCkrcGFyc2VGbG9hdChlLm1hcmdpbkJvdHRvbXx8MCksaT1wYXJzZUZsb2F0KGUubWFyZ2luTGVmdHx8MCkrcGFyc2VGbG9hdChlLm1hcmdpblJpZ2h0fHwwKTtyZXR1cm57d2lkdGg6dC5vZmZzZXRXaWR0aCtpLGhlaWdodDp0Lm9mZnNldEhlaWdodCtufX1mdW5jdGlvbiBDdCh0KXt2YXIgZT17bGVmdDoicmlnaHQiLHJpZ2h0OiJsZWZ0Iixib3R0b206InRvcCIsdG9wOiJib3R0b20ifTtyZXR1cm4gdC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSl9ZnVuY3Rpb24gU3QodCxlLG4pe249bi5zcGxpdCgiLSIpWzBdO3ZhciBpPVR0KHQpLG89e3dpZHRoOmkud2lkdGgsaGVpZ2h0OmkuaGVpZ2h0fSxyPS0xIT09WyJyaWdodCIsImxlZnQiXS5pbmRleE9mKG4pLGE9cj8idG9wIjoibGVmdCIscz1yPyJsZWZ0IjoidG9wIixsPXI/ImhlaWdodCI6IndpZHRoIix1PXI/IndpZHRoIjoiaGVpZ2h0IjtyZXR1cm4gb1thXT1lW2FdK2VbbF0vMi1pW2xdLzIsb1tzXT1uPT09cz9lW3NdLWlbdV06ZVtDdChzKV0sb31mdW5jdGlvbiBOdCh0LGUpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmluZD90LmZpbmQoZSk6dC5maWx0ZXIoZSlbMF19ZnVuY3Rpb24gRHQodCxlLG4pe3JldHVybih2b2lkIDA9PT1uP3Q6dC5zbGljZSgwLGZ1bmN0aW9uKHQsZSxuKXtpZihBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KXJldHVybiB0LmZpbmRJbmRleCgoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PW59KSk7dmFyIGk9TnQodCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PW59KSk7cmV0dXJuIHQuaW5kZXhPZihpKX0odCwwLG4pKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5mdW5jdGlvbiYmY29uc29sZS53YXJuKCJgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gISIpO3ZhciBuPXQuZnVuY3Rpb258fHQuZm47dC5lbmFibGVkJiZ6KG4pJiYoZS5vZmZzZXRzLnBvcHBlcj1odChlLm9mZnNldHMucG9wcGVyKSxlLm9mZnNldHMucmVmZXJlbmNlPWh0KGUub2Zmc2V0cy5yZWZlcmVuY2UpLGU9bihlLHQpKX0pKSxlfWZ1bmN0aW9uIEF0KCl7aWYoIXRoaXMuc3RhdGUuaXNEZXN0cm95ZWQpe3ZhciB0PXtpbnN0YW5jZTp0aGlzLHN0eWxlczp7fSxhcnJvd1N0eWxlczp7fSxhdHRyaWJ1dGVzOnt9LGZsaXBwZWQ6ITEsb2Zmc2V0czp7fX07dC5vZmZzZXRzLnJlZmVyZW5jZT13dCh0aGlzLnN0YXRlLHRoaXMucG9wcGVyLHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKSx0LnBsYWNlbWVudD1FdCh0aGlzLm9wdGlvbnMucGxhY2VtZW50LHQub2Zmc2V0cy5yZWZlcmVuY2UsdGhpcy5wb3BwZXIsdGhpcy5yZWZlcmVuY2UsdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5wYWRkaW5nKSx0Lm9yaWdpbmFsUGxhY2VtZW50PXQucGxhY2VtZW50LHQucG9zaXRpb25GaXhlZD10aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCx0Lm9mZnNldHMucG9wcGVyPVN0KHRoaXMucG9wcGVyLHQub2Zmc2V0cy5yZWZlcmVuY2UsdC5wbGFjZW1lbnQpLHQub2Zmc2V0cy5wb3BwZXIucG9zaXRpb249dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/ImZpeGVkIjoiYWJzb2x1dGUiLHQ9RHQodGhpcy5tb2RpZmllcnMsdCksdGhpcy5zdGF0ZS5pc0NyZWF0ZWQ/dGhpcy5vcHRpb25zLm9uVXBkYXRlKHQpOih0aGlzLnN0YXRlLmlzQ3JlYXRlZD0hMCx0aGlzLm9wdGlvbnMub25DcmVhdGUodCkpfX1mdW5jdGlvbiBrdCh0LGUpe3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciBuPXQubmFtZTtyZXR1cm4gdC5lbmFibGVkJiZuPT09ZX0pKX1mdW5jdGlvbiBJdCh0KXtmb3IodmFyIGU9WyExLCJtcyIsIldlYmtpdCIsIk1veiIsIk8iXSxuPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBvPWVbaV0scj1vPyIiK28rbjp0O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQuYm9keS5zdHlsZVtyXSlyZXR1cm4gcn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBPdCgpe3JldHVybiB0aGlzLnN0YXRlLmlzRGVzdHJveWVkPSEwLGt0KHRoaXMubW9kaWZpZXJzLCJhcHBseVN0eWxlIikmJih0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoIngtcGxhY2VtZW50IiksdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb249IiIsdGhpcy5wb3BwZXIuc3R5bGUudG9wPSIiLHRoaXMucG9wcGVyLnN0eWxlLmxlZnQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tPSIiLHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2U9IiIsdGhpcy5wb3BwZXIuc3R5bGVbSXQoInRyYW5zZm9ybSIpXT0iIiksdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLm9wdGlvbnMucmVtb3ZlT25EZXN0cm95JiZ0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKSx0aGlzfWZ1bmN0aW9uIHh0KHQpe3ZhciBlPXQub3duZXJEb2N1bWVudDtyZXR1cm4gZT9lLmRlZmF1bHRWaWV3OndpbmRvd31mdW5jdGlvbiBqdCh0LGUsbixpKXt2YXIgbz0iQk9EWSI9PT10Lm5vZGVOYW1lLHI9bz90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6dDtyLmFkZEV2ZW50TGlzdGVuZXIoZSxuLHtwYXNzaXZlOiEwfSksb3x8anQoRyhyLnBhcmVudE5vZGUpLGUsbixpKSxpLnB1c2gocil9ZnVuY3Rpb24gTHQodCxlLG4saSl7bi51cGRhdGVCb3VuZD1pLHh0KHQpLmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsbi51cGRhdGVCb3VuZCx7cGFzc2l2ZTohMH0pO3ZhciBvPUcodCk7cmV0dXJuIGp0KG8sInNjcm9sbCIsbi51cGRhdGVCb3VuZCxuLnNjcm9sbFBhcmVudHMpLG4uc2Nyb2xsRWxlbWVudD1vLG4uZXZlbnRzRW5hYmxlZD0hMCxufWZ1bmN0aW9uIFB0KCl7dGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkfHwodGhpcy5zdGF0ZT1MdCh0aGlzLnJlZmVyZW5jZSx0aGlzLm9wdGlvbnMsdGhpcy5zdGF0ZSx0aGlzLnNjaGVkdWxlVXBkYXRlKSl9ZnVuY3Rpb24gRnQoKXt2YXIgdCxlO3RoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCYmKGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuc2NoZWR1bGVVcGRhdGUpLHRoaXMuc3RhdGU9KHQ9dGhpcy5yZWZlcmVuY2UsZT10aGlzLnN0YXRlLHh0KHQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsZS51cGRhdGVCb3VuZCksZS5zY3JvbGxQYXJlbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIixlLnVwZGF0ZUJvdW5kKX0pKSxlLnVwZGF0ZUJvdW5kPW51bGwsZS5zY3JvbGxQYXJlbnRzPVtdLGUuc2Nyb2xsRWxlbWVudD1udWxsLGUuZXZlbnRzRW5hYmxlZD0hMSxlKSl9ZnVuY3Rpb24gUnQodCl7cmV0dXJuIiIhPT10JiYhaXNOYU4ocGFyc2VGbG9hdCh0KSkmJmlzRmluaXRlKHQpfWZ1bmN0aW9uIEJ0KHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9IiI7LTEhPT1bIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il0uaW5kZXhPZihuKSYmUnQoZVtuXSkmJihpPSJweCIpLHQuc3R5bGVbbl09ZVtuXStpfSkpfXZhciBIdD1VJiYvRmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7ZnVuY3Rpb24gTXQodCxlLG4pe3ZhciBpPU50KHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lfSkpLG89ISFpJiZ0LnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1uJiZ0LmVuYWJsZWQmJnQub3JkZXI8aS5vcmRlcn0pKTtpZighbyl7dmFyIHI9ImAiK2UrImAiLGE9ImAiK24rImAiO2NvbnNvbGUud2FybihhKyIgbW9kaWZpZXIgaXMgcmVxdWlyZWQgYnkgIityKyIgbW9kaWZpZXIgaW4gb3JkZXIgdG8gd29yaywgYmUgc3VyZSB0byBpbmNsdWRlIGl0IGJlZm9yZSAiK3IrIiEiKX1yZXR1cm4gb312YXIgcXQ9WyJhdXRvLXN0YXJ0IiwiYXV0byIsImF1dG8tZW5kIiwidG9wLXN0YXJ0IiwidG9wIiwidG9wLWVuZCIsInJpZ2h0LXN0YXJ0IiwicmlnaHQiLCJyaWdodC1lbmQiLCJib3R0b20tZW5kIiwiYm90dG9tIiwiYm90dG9tLXN0YXJ0IiwibGVmdC1lbmQiLCJsZWZ0IiwibGVmdC1zdGFydCJdLFF0PXF0LnNsaWNlKDMpO2Z1bmN0aW9uIFd0KHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0sbj1RdC5pbmRleE9mKHQpLGk9UXQuc2xpY2UobisxKS5jb25jYXQoUXQuc2xpY2UoMCxuKSk7cmV0dXJuIGU/aS5yZXZlcnNlKCk6aX12YXIgVXQ9e3BsYWNlbWVudDoiYm90dG9tIixwb3NpdGlvbkZpeGVkOiExLGV2ZW50c0VuYWJsZWQ6ITAscmVtb3ZlT25EZXN0cm95OiExLG9uQ3JlYXRlOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTpmdW5jdGlvbigpe30sbW9kaWZpZXJzOntzaGlmdDp7b3JkZXI6MTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5wbGFjZW1lbnQsbj1lLnNwbGl0KCItIilbMF0saT1lLnNwbGl0KCItIilbMV07aWYoaSl7dmFyIG89dC5vZmZzZXRzLHI9by5yZWZlcmVuY2UsYT1vLnBvcHBlcixzPS0xIT09WyJib3R0b20iLCJ0b3AiXS5pbmRleE9mKG4pLGw9cz8ibGVmdCI6InRvcCIsdT1zPyJ3aWR0aCI6ImhlaWdodCIsZj17c3RhcnQ6ZHQoe30sbCxyW2xdKSxlbmQ6ZHQoe30sbCxyW2xdK3JbdV0tYVt1XSl9O3Qub2Zmc2V0cy5wb3BwZXI9Y3Qoe30sYSxmW2ldKX1yZXR1cm4gdH19LG9mZnNldDp7b3JkZXI6MjAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCxlKXt2YXIgbixpPWUub2Zmc2V0LG89dC5wbGFjZW1lbnQscj10Lm9mZnNldHMsYT1yLnBvcHBlcixzPXIucmVmZXJlbmNlLGw9by5zcGxpdCgiLSIpWzBdO3JldHVybiBuPVJ0KCtpKT9bK2ksMF06ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89WzAsMF0scj0tMSE9PVsicmlnaHQiLCJsZWZ0Il0uaW5kZXhPZihpKSxhPXQuc3BsaXQoLyhcK3xcLSkvKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX0pKSxzPWEuaW5kZXhPZihOdChhLChmdW5jdGlvbih0KXtyZXR1cm4tMSE9PXQuc2VhcmNoKC8sfFxzLyl9KSkpO2Fbc10mJi0xPT09YVtzXS5pbmRleE9mKCIsIikmJmNvbnNvbGUud2FybigiT2Zmc2V0cyBzZXBhcmF0ZWQgYnkgd2hpdGUgc3BhY2UocykgYXJlIGRlcHJlY2F0ZWQsIHVzZSBhIGNvbW1hICgsKSBpbnN0ZWFkLiIpO3ZhciBsPS9ccyosXHMqfFxzKy8sdT0tMSE9PXM/W2Euc2xpY2UoMCxzKS5jb25jYXQoW2Fbc10uc3BsaXQobClbMF1dKSxbYVtzXS5zcGxpdChsKVsxXV0uY29uY2F0KGEuc2xpY2UocysxKSldOlthXTtyZXR1cm4gdT11Lm1hcCgoZnVuY3Rpb24odCxpKXt2YXIgbz0oMT09PWk/IXI6cik/ImhlaWdodCI6IndpZHRoIixhPSExO3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4iIj09PXRbdC5sZW5ndGgtMV0mJi0xIT09WyIrIiwiLSJdLmluZGV4T2YoZSk/KHRbdC5sZW5ndGgtMV09ZSxhPSEwLHQpOmE/KHRbdC5sZW5ndGgtMV0rPWUsYT0hMSx0KTp0LmNvbmNhdChlKX0pLFtdKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0LGUsbixpKXt2YXIgbz10Lm1hdGNoKC8oKD86XC18XCspP1xkKlwuP1xkKikoLiopLykscj0rb1sxXSxhPW9bMl07cmV0dXJuIHI/MD09PWEuaW5kZXhPZigiJSIpP2h0KCIlcCI9PT1hP246aSlbZV0vMTAwKnI6InZoIj09PWF8fCJ2dyI9PT1hPygidmgiPT09YT9NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCk6TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSkvMTAwKnI6cjp0fSh0LG8sZSxuKX0pKX0pKSx1LmZvckVhY2goKGZ1bmN0aW9uKHQsZSl7dC5mb3JFYWNoKChmdW5jdGlvbihuLGkpe1J0KG4pJiYob1tlXSs9biooIi0iPT09dFtpLTFdPy0xOjEpKX0pKX0pKSxvfShpLGEscyxsKSwibGVmdCI9PT1sPyhhLnRvcCs9blswXSxhLmxlZnQtPW5bMV0pOiJyaWdodCI9PT1sPyhhLnRvcCs9blswXSxhLmxlZnQrPW5bMV0pOiJ0b3AiPT09bD8oYS5sZWZ0Kz1uWzBdLGEudG9wLT1uWzFdKToiYm90dG9tIj09PWwmJihhLmxlZnQrPW5bMF0sYS50b3ArPW5bMV0pLHQucG9wcGVyPWEsdH0sb2Zmc2V0OjB9LHByZXZlbnRPdmVyZmxvdzp7b3JkZXI6MzAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmJvdW5kYXJpZXNFbGVtZW50fHxldCh0Lmluc3RhbmNlLnBvcHBlcik7dC5pbnN0YW5jZS5yZWZlcmVuY2U9PT1uJiYobj1ldChuKSk7dmFyIGk9SXQoInRyYW5zZm9ybSIpLG89dC5pbnN0YW5jZS5wb3BwZXIuc3R5bGUscj1vLnRvcCxhPW8ubGVmdCxzPW9baV07by50b3A9IiIsby5sZWZ0PSIiLG9baV09IiI7dmFyIGw9YnQodC5pbnN0YW5jZS5wb3BwZXIsdC5pbnN0YW5jZS5yZWZlcmVuY2UsZS5wYWRkaW5nLG4sdC5wb3NpdGlvbkZpeGVkKTtvLnRvcD1yLG8ubGVmdD1hLG9baV09cyxlLmJvdW5kYXJpZXM9bDt2YXIgdT1lLnByaW9yaXR5LGY9dC5vZmZzZXRzLnBvcHBlcixkPXtwcmltYXJ5OmZ1bmN0aW9uKHQpe3ZhciBuPWZbdF07cmV0dXJuIGZbdF08bFt0XSYmIWUuZXNjYXBlV2l0aFJlZmVyZW5jZSYmKG49TWF0aC5tYXgoZlt0XSxsW3RdKSksZHQoe30sdCxuKX0sc2Vjb25kYXJ5OmZ1bmN0aW9uKHQpe3ZhciBuPSJyaWdodCI9PT10PyJsZWZ0IjoidG9wIixpPWZbbl07cmV0dXJuIGZbdF0+bFt0XSYmIWUuZXNjYXBlV2l0aFJlZmVyZW5jZSYmKGk9TWF0aC5taW4oZltuXSxsW3RdLSgicmlnaHQiPT09dD9mLndpZHRoOmYuaGVpZ2h0KSkpLGR0KHt9LG4saSl9fTtyZXR1cm4gdS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT0tMSE9PVsibGVmdCIsInRvcCJdLmluZGV4T2YodCk/InByaW1hcnkiOiJzZWNvbmRhcnkiO2Y9Y3Qoe30sZixkW2VdKHQpKX0pKSx0Lm9mZnNldHMucG9wcGVyPWYsdH0scHJpb3JpdHk6WyJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iXSxwYWRkaW5nOjUsYm91bmRhcmllc0VsZW1lbnQ6InNjcm9sbFBhcmVudCJ9LGtlZXBUb2dldGhlcjp7b3JkZXI6NDAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5vZmZzZXRzLG49ZS5wb3BwZXIsaT1lLnJlZmVyZW5jZSxvPXQucGxhY2VtZW50LnNwbGl0KCItIilbMF0scj1NYXRoLmZsb29yLGE9LTEhPT1bInRvcCIsImJvdHRvbSJdLmluZGV4T2Yobykscz1hPyJyaWdodCI6ImJvdHRvbSIsbD1hPyJsZWZ0IjoidG9wIix1PWE/IndpZHRoIjoiaGVpZ2h0IjtyZXR1cm4gbltzXTxyKGlbbF0pJiYodC5vZmZzZXRzLnBvcHBlcltsXT1yKGlbbF0pLW5bdV0pLG5bbF0+cihpW3NdKSYmKHQub2Zmc2V0cy5wb3BwZXJbbF09cihpW3NdKSksdH19LGFycm93OntvcmRlcjo1MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0LGUpe3ZhciBuO2lmKCFNdCh0Lmluc3RhbmNlLm1vZGlmaWVycywiYXJyb3ciLCJrZWVwVG9nZXRoZXIiKSlyZXR1cm4gdDt2YXIgaT1lLmVsZW1lbnQ7aWYoInN0cmluZyI9PXR5cGVvZiBpKXtpZighKGk9dC5pbnN0YW5jZS5wb3BwZXIucXVlcnlTZWxlY3RvcihpKSkpcmV0dXJuIHR9ZWxzZSBpZighdC5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMoaSkpcmV0dXJuIGNvbnNvbGUud2FybigiV0FSTklORzogYGFycm93LmVsZW1lbnRgIG11c3QgYmUgY2hpbGQgb2YgaXRzIHBvcHBlciBlbGVtZW50ISIpLHQ7dmFyIG89dC5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXSxyPXQub2Zmc2V0cyxhPXIucG9wcGVyLHM9ci5yZWZlcmVuY2UsbD0tMSE9PVsibGVmdCIsInJpZ2h0Il0uaW5kZXhPZihvKSx1PWw/ImhlaWdodCI6IndpZHRoIixmPWw/IlRvcCI6IkxlZnQiLGQ9Zi50b0xvd2VyQ2FzZSgpLGM9bD8ibGVmdCI6InRvcCIsaD1sPyJib3R0b20iOiJyaWdodCIscD1UdChpKVt1XTtzW2hdLXA8YVtkXSYmKHQub2Zmc2V0cy5wb3BwZXJbZF0tPWFbZF0tKHNbaF0tcCkpLHNbZF0rcD5hW2hdJiYodC5vZmZzZXRzLnBvcHBlcltkXSs9c1tkXStwLWFbaF0pLHQub2Zmc2V0cy5wb3BwZXI9aHQodC5vZmZzZXRzLnBvcHBlcik7dmFyIG09c1tkXStzW3VdLzItcC8yLGc9Syh0Lmluc3RhbmNlLnBvcHBlciksXz1wYXJzZUZsb2F0KGdbIm1hcmdpbiIrZl0pLHY9cGFyc2VGbG9hdChnWyJib3JkZXIiK2YrIldpZHRoIl0pLGI9bS10Lm9mZnNldHMucG9wcGVyW2RdLV8tdjtyZXR1cm4gYj1NYXRoLm1heChNYXRoLm1pbihhW3VdLXAsYiksMCksdC5hcnJvd0VsZW1lbnQ9aSx0Lm9mZnNldHMuYXJyb3c9KGR0KG49e30sZCxNYXRoLnJvdW5kKGIpKSxkdChuLGMsIiIpLG4pLHR9LGVsZW1lbnQ6Ilt4LWFycm93XSJ9LGZsaXA6e29yZGVyOjYwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQsZSl7aWYoa3QodC5pbnN0YW5jZS5tb2RpZmllcnMsImlubmVyIikpcmV0dXJuIHQ7aWYodC5mbGlwcGVkJiZ0LnBsYWNlbWVudD09PXQub3JpZ2luYWxQbGFjZW1lbnQpcmV0dXJuIHQ7dmFyIG49YnQodC5pbnN0YW5jZS5wb3BwZXIsdC5pbnN0YW5jZS5yZWZlcmVuY2UsZS5wYWRkaW5nLGUuYm91bmRhcmllc0VsZW1lbnQsdC5wb3NpdGlvbkZpeGVkKSxpPXQucGxhY2VtZW50LnNwbGl0KCItIilbMF0sbz1DdChpKSxyPXQucGxhY2VtZW50LnNwbGl0KCItIilbMV18fCIiLGE9W107c3dpdGNoKGUuYmVoYXZpb3Ipe2Nhc2UiZmxpcCI6YT1baSxvXTticmVhaztjYXNlImNsb2Nrd2lzZSI6YT1XdChpKTticmVhaztjYXNlImNvdW50ZXJjbG9ja3dpc2UiOmE9V3QoaSwhMCk7YnJlYWs7ZGVmYXVsdDphPWUuYmVoYXZpb3J9cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24ocyxsKXtpZihpIT09c3x8YS5sZW5ndGg9PT1sKzEpcmV0dXJuIHQ7aT10LnBsYWNlbWVudC5zcGxpdCgiLSIpWzBdLG89Q3QoaSk7dmFyIHU9dC5vZmZzZXRzLnBvcHBlcixmPXQub2Zmc2V0cy5yZWZlcmVuY2UsZD1NYXRoLmZsb29yLGM9ImxlZnQiPT09aSYmZCh1LnJpZ2h0KT5kKGYubGVmdCl8fCJyaWdodCI9PT1pJiZkKHUubGVmdCk8ZChmLnJpZ2h0KXx8InRvcCI9PT1pJiZkKHUuYm90dG9tKT5kKGYudG9wKXx8ImJvdHRvbSI9PT1pJiZkKHUudG9wKTxkKGYuYm90dG9tKSxoPWQodS5sZWZ0KTxkKG4ubGVmdCkscD1kKHUucmlnaHQpPmQobi5yaWdodCksbT1kKHUudG9wKTxkKG4udG9wKSxnPWQodS5ib3R0b20pPmQobi5ib3R0b20pLF89ImxlZnQiPT09aSYmaHx8InJpZ2h0Ij09PWkmJnB8fCJ0b3AiPT09aSYmbXx8ImJvdHRvbSI9PT1pJiZnLHY9LTEhPT1bInRvcCIsImJvdHRvbSJdLmluZGV4T2YoaSksYj0hIWUuZmxpcFZhcmlhdGlvbnMmJih2JiYic3RhcnQiPT09ciYmaHx8diYmImVuZCI9PT1yJiZwfHwhdiYmInN0YXJ0Ij09PXImJm18fCF2JiYiZW5kIj09PXImJmcpLHk9ISFlLmZsaXBWYXJpYXRpb25zQnlDb250ZW50JiYodiYmInN0YXJ0Ij09PXImJnB8fHYmJiJlbmQiPT09ciYmaHx8IXYmJiJzdGFydCI9PT1yJiZnfHwhdiYmImVuZCI9PT1yJiZtKSxFPWJ8fHk7KGN8fF98fEUpJiYodC5mbGlwcGVkPSEwLChjfHxfKSYmKGk9YVtsKzFdKSxFJiYocj1mdW5jdGlvbih0KXtyZXR1cm4iZW5kIj09PXQ/InN0YXJ0Ijoic3RhcnQiPT09dD8iZW5kIjp0fShyKSksdC5wbGFjZW1lbnQ9aSsocj8iLSIrcjoiIiksdC5vZmZzZXRzLnBvcHBlcj1jdCh7fSx0Lm9mZnNldHMucG9wcGVyLFN0KHQuaW5zdGFuY2UucG9wcGVyLHQub2Zmc2V0cy5yZWZlcmVuY2UsdC5wbGFjZW1lbnQpKSx0PUR0KHQuaW5zdGFuY2UubW9kaWZpZXJzLHQsImZsaXAiKSl9KSksdH0sYmVoYXZpb3I6ImZsaXAiLHBhZGRpbmc6NSxib3VuZGFyaWVzRWxlbWVudDoidmlld3BvcnQiLGZsaXBWYXJpYXRpb25zOiExLGZsaXBWYXJpYXRpb25zQnlDb250ZW50OiExfSxpbm5lcjp7b3JkZXI6NzAwLGVuYWJsZWQ6ITEsZm46ZnVuY3Rpb24odCl7dmFyIGU9dC5wbGFjZW1lbnQsbj1lLnNwbGl0KCItIilbMF0saT10Lm9mZnNldHMsbz1pLnBvcHBlcixyPWkucmVmZXJlbmNlLGE9LTEhPT1bImxlZnQiLCJyaWdodCJdLmluZGV4T2Yobikscz0tMT09PVsidG9wIiwibGVmdCJdLmluZGV4T2Yobik7cmV0dXJuIG9bYT8ibGVmdCI6InRvcCJdPXJbbl0tKHM/b1thPyJ3aWR0aCI6ImhlaWdodCJdOjApLHQucGxhY2VtZW50PUN0KGUpLHQub2Zmc2V0cy5wb3BwZXI9aHQobyksdH19LGhpZGU6e29yZGVyOjgwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKHQpe2lmKCFNdCh0Lmluc3RhbmNlLm1vZGlmaWVycywiaGlkZSIsInByZXZlbnRPdmVyZmxvdyIpKXJldHVybiB0O3ZhciBlPXQub2Zmc2V0cy5yZWZlcmVuY2Usbj1OdCh0Lmluc3RhbmNlLm1vZGlmaWVycywoZnVuY3Rpb24odCl7cmV0dXJuInByZXZlbnRPdmVyZmxvdyI9PT10Lm5hbWV9KSkuYm91bmRhcmllcztpZihlLmJvdHRvbTxuLnRvcHx8ZS5sZWZ0Pm4ucmlnaHR8fGUudG9wPm4uYm90dG9tfHxlLnJpZ2h0PG4ubGVmdCl7aWYoITA9PT10LmhpZGUpcmV0dXJuIHQ7dC5oaWRlPSEwLHQuYXR0cmlidXRlc1sieC1vdXQtb2YtYm91bmRhcmllcyJdPSIifWVsc2V7aWYoITE9PT10LmhpZGUpcmV0dXJuIHQ7dC5oaWRlPSExLHQuYXR0cmlidXRlc1sieC1vdXQtb2YtYm91bmRhcmllcyJdPSExfXJldHVybiB0fX0sY29tcHV0ZVN0eWxlOntvcmRlcjo4NTAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0LGUpe3ZhciBuPWUueCxpPWUueSxvPXQub2Zmc2V0cy5wb3BwZXIscj1OdCh0Lmluc3RhbmNlLm1vZGlmaWVycywoZnVuY3Rpb24odCl7cmV0dXJuImFwcGx5U3R5bGUiPT09dC5uYW1lfSkpLmdwdUFjY2VsZXJhdGlvbjt2b2lkIDAhPT1yJiZjb25zb2xlLndhcm4oIldBUk5JTkc6IGBncHVBY2NlbGVyYXRpb25gIG9wdGlvbiBtb3ZlZCB0byBgY29tcHV0ZVN0eWxlYCBtb2RpZmllciBhbmQgd2lsbCBub3QgYmUgc3VwcG9ydGVkIGluIGZ1dHVyZSB2ZXJzaW9ucyBvZiBQb3BwZXIuanMhIik7dmFyIGEscyxsPXZvaWQgMCE9PXI/cjplLmdwdUFjY2VsZXJhdGlvbix1PWV0KHQuaW5zdGFuY2UucG9wcGVyKSxmPXB0KHUpLGQ9e3Bvc2l0aW9uOm8ucG9zaXRpb259LGM9ZnVuY3Rpb24odCxlKXt2YXIgbj10Lm9mZnNldHMsaT1uLnBvcHBlcixvPW4ucmVmZXJlbmNlLHI9TWF0aC5yb3VuZCxhPU1hdGguZmxvb3Iscz1mdW5jdGlvbih0KXtyZXR1cm4gdH0sbD1yKG8ud2lkdGgpLHU9cihpLndpZHRoKSxmPS0xIT09WyJsZWZ0IiwicmlnaHQiXS5pbmRleE9mKHQucGxhY2VtZW50KSxkPS0xIT09dC5wbGFjZW1lbnQuaW5kZXhPZigiLSIpLGM9ZT9mfHxkfHxsJTI9PXUlMj9yOmE6cyxoPWU/cjpzO3JldHVybntsZWZ0OmMobCUyPT0xJiZ1JTI9PTEmJiFkJiZlP2kubGVmdC0xOmkubGVmdCksdG9wOmgoaS50b3ApLGJvdHRvbTpoKGkuYm90dG9tKSxyaWdodDpjKGkucmlnaHQpfX0odCx3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbzwyfHwhSHQpLGg9ImJvdHRvbSI9PT1uPyJ0b3AiOiJib3R0b20iLHA9InJpZ2h0Ij09PWk/ImxlZnQiOiJyaWdodCIsbT1JdCgidHJhbnNmb3JtIik7aWYocz0iYm90dG9tIj09PWg/IkhUTUwiPT09dS5ub2RlTmFtZT8tdS5jbGllbnRIZWlnaHQrYy5ib3R0b206LWYuaGVpZ2h0K2MuYm90dG9tOmMudG9wLGE9InJpZ2h0Ij09PXA/IkhUTUwiPT09dS5ub2RlTmFtZT8tdS5jbGllbnRXaWR0aCtjLnJpZ2h0Oi1mLndpZHRoK2MucmlnaHQ6Yy5sZWZ0LGwmJm0pZFttXT0idHJhbnNsYXRlM2QoIithKyJweCwgIitzKyJweCwgMCkiLGRbaF09MCxkW3BdPTAsZC53aWxsQ2hhbmdlPSJ0cmFuc2Zvcm0iO2Vsc2V7dmFyIGc9ImJvdHRvbSI9PT1oPy0xOjEsXz0icmlnaHQiPT09cD8tMToxO2RbaF09cypnLGRbcF09YSpfLGQud2lsbENoYW5nZT1oKyIsICIrcH12YXIgdj17IngtcGxhY2VtZW50Ijp0LnBsYWNlbWVudH07cmV0dXJuIHQuYXR0cmlidXRlcz1jdCh7fSx2LHQuYXR0cmlidXRlcyksdC5zdHlsZXM9Y3Qoe30sZCx0LnN0eWxlcyksdC5hcnJvd1N0eWxlcz1jdCh7fSx0Lm9mZnNldHMuYXJyb3csdC5hcnJvd1N0eWxlcyksdH0sZ3B1QWNjZWxlcmF0aW9uOiEwLHg6ImJvdHRvbSIseToicmlnaHQifSxhcHBseVN0eWxlOntvcmRlcjo5MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbih0KXt2YXIgZSxuO3JldHVybiBCdCh0Lmluc3RhbmNlLnBvcHBlcix0LnN0eWxlcyksZT10Lmluc3RhbmNlLnBvcHBlcixuPXQuYXR0cmlidXRlcyxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbih0KXshMSE9PW5bdF0/ZS5zZXRBdHRyaWJ1dGUodCxuW3RdKTplLnJlbW92ZUF0dHJpYnV0ZSh0KX0pKSx0LmFycm93RWxlbWVudCYmT2JqZWN0LmtleXModC5hcnJvd1N0eWxlcykubGVuZ3RoJiZCdCh0LmFycm93RWxlbWVudCx0LmFycm93U3R5bGVzKSx0fSxvbkxvYWQ6ZnVuY3Rpb24odCxlLG4saSxvKXt2YXIgcj13dChvLGUsdCxuLnBvc2l0aW9uRml4ZWQpLGE9RXQobi5wbGFjZW1lbnQscixlLHQsbi5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCxuLm1vZGlmaWVycy5mbGlwLnBhZGRpbmcpO3JldHVybiBlLnNldEF0dHJpYnV0ZSgieC1wbGFjZW1lbnQiLGEpLEJ0KGUse3Bvc2l0aW9uOm4ucG9zaXRpb25GaXhlZD8iZml4ZWQiOiJhYnNvbHV0ZSJ9KSxufSxncHVBY2NlbGVyYXRpb246dm9pZCAwfX19LFZ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4pe3ZhciBpPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307dXQodGhpcyx0KSx0aGlzLnNjaGVkdWxlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShpLnVwZGF0ZSl9LHRoaXMudXBkYXRlPVkodGhpcy51cGRhdGUuYmluZCh0aGlzKSksdGhpcy5vcHRpb25zPWN0KHt9LHQuRGVmYXVsdHMsbyksdGhpcy5zdGF0ZT17aXNEZXN0cm95ZWQ6ITEsaXNDcmVhdGVkOiExLHNjcm9sbFBhcmVudHM6W119LHRoaXMucmVmZXJlbmNlPWUmJmUuanF1ZXJ5P2VbMF06ZSx0aGlzLnBvcHBlcj1uJiZuLmpxdWVyeT9uWzBdOm4sdGhpcy5vcHRpb25zLm1vZGlmaWVycz17fSxPYmplY3Qua2V5cyhjdCh7fSx0LkRlZmF1bHRzLm1vZGlmaWVycyxvLm1vZGlmaWVycykpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kub3B0aW9ucy5tb2RpZmllcnNbZV09Y3Qoe30sdC5EZWZhdWx0cy5tb2RpZmllcnNbZV18fHt9LG8ubW9kaWZpZXJzP28ubW9kaWZpZXJzW2VdOnt9KX0pKSx0aGlzLm1vZGlmaWVycz1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBjdCh7bmFtZTp0fSxpLm9wdGlvbnMubW9kaWZpZXJzW3RdKX0pKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0Lm9yZGVyLWUub3JkZXJ9KSksdGhpcy5tb2RpZmllcnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5lbmFibGVkJiZ6KHQub25Mb2FkKSYmdC5vbkxvYWQoaS5yZWZlcmVuY2UsaS5wb3BwZXIsaS5vcHRpb25zLHQsaS5zdGF0ZSl9KSksdGhpcy51cGRhdGUoKTt2YXIgcj10aGlzLm9wdGlvbnMuZXZlbnRzRW5hYmxlZDtyJiZ0aGlzLmVuYWJsZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkPXJ9cmV0dXJuIGZ0KHQsW3trZXk6InVwZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gQXQuY2FsbCh0aGlzKX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIE90LmNhbGwodGhpcyl9fSx7a2V5OiJlbmFibGVFdmVudExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gUHQuY2FsbCh0aGlzKX19LHtrZXk6ImRpc2FibGVFdmVudExpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRnQuY2FsbCh0aGlzKX19XSksdH0oKTtWdC5VdGlscz0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Omdsb2JhbCkuUG9wcGVyVXRpbHMsVnQucGxhY2VtZW50cz1xdCxWdC5EZWZhdWx0cz1VdDt2YXIgWXQ9VnQsenQ9ImRyb3Bkb3duIixLdD0iYnMuZHJvcGRvd24iLFh0PWkuZGVmYXVsdC5mblt6dF0sR3Q9bmV3IFJlZ0V4cCgiMzh8NDB8MjciKSwkdD0iZGlzYWJsZWQiLEp0PSJzaG93IixadD0iZHJvcGRvd24tbWVudS1yaWdodCIsdGU9ImhpZGUuYnMuZHJvcGRvd24iLGVlPSJoaWRkZW4uYnMuZHJvcGRvd24iLG5lPSJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsaWU9ImtleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGkiLG9lPSdbZGF0YS10b2dnbGU9ImRyb3Bkb3duIl0nLHJlPSIuZHJvcGRvd24tbWVudSIsYWU9e29mZnNldDowLGZsaXA6ITAsYm91bmRhcnk6InNjcm9sbFBhcmVudCIscmVmZXJlbmNlOiJ0b2dnbGUiLGRpc3BsYXk6ImR5bmFtaWMiLHBvcHBlckNvbmZpZzpudWxsfSxzZT17b2Zmc2V0OiIobnVtYmVyfHN0cmluZ3xmdW5jdGlvbikiLGZsaXA6ImJvb2xlYW4iLGJvdW5kYXJ5OiIoc3RyaW5nfGVsZW1lbnQpIixyZWZlcmVuY2U6IihzdHJpbmd8ZWxlbWVudCkiLGRpc3BsYXk6InN0cmluZyIscG9wcGVyQ29uZmlnOiIobnVsbHxvYmplY3QpIn0sbGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fZWxlbWVudD10LHRoaXMuX3BvcHBlcj1udWxsLHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5fbWVudT10aGlzLl9nZXRNZW51RWxlbWVudCgpLHRoaXMuX2luTmF2YmFyPXRoaXMuX2RldGVjdE5hdmJhcigpLHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUudG9nZ2xlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VsZW1lbnQuZGlzYWJsZWQmJiFpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoJHQpKXt2YXIgZT1pLmRlZmF1bHQodGhpcy5fbWVudSkuaGFzQ2xhc3MoSnQpO3QuX2NsZWFyTWVudXMoKSxlfHx0aGlzLnNob3coITApfX0sZS5zaG93PWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSwhKHRoaXMuX2VsZW1lbnQuZGlzYWJsZWR8fGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcygkdCl8fGkuZGVmYXVsdCh0aGlzLl9tZW51KS5oYXNDbGFzcyhKdCkpKXt2YXIgbj17cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSxvPWkuZGVmYXVsdC5FdmVudCgic2hvdy5icy5kcm9wZG93biIsbikscj10Ll9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtpZihpLmRlZmF1bHQocikudHJpZ2dlcihvKSwhby5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYoIXRoaXMuX2luTmF2YmFyJiZlKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFl0KXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCdzIGRyb3Bkb3ducyByZXF1aXJlIFBvcHBlciAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKSIpO3ZhciBhPXRoaXMuX2VsZW1lbnQ7InBhcmVudCI9PT10aGlzLl9jb25maWcucmVmZXJlbmNlP2E9cjp1LmlzRWxlbWVudCh0aGlzLl9jb25maWcucmVmZXJlbmNlKSYmKGE9dGhpcy5fY29uZmlnLnJlZmVyZW5jZSwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UuanF1ZXJ5JiYoYT10aGlzLl9jb25maWcucmVmZXJlbmNlWzBdKSksInNjcm9sbFBhcmVudCIhPT10aGlzLl9jb25maWcuYm91bmRhcnkmJmkuZGVmYXVsdChyKS5hZGRDbGFzcygicG9zaXRpb24tc3RhdGljIiksdGhpcy5fcG9wcGVyPW5ldyBZdChhLHRoaXMuX21lbnUsdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKCkpfSJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYwPT09aS5kZWZhdWx0KHIpLmNsb3Nlc3QoIi5uYXZiYXItbmF2IikubGVuZ3RoJiZpLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vbigibW91c2VvdmVyIixudWxsLGkuZGVmYXVsdC5ub29wKSx0aGlzLl9lbGVtZW50LmZvY3VzKCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSxpLmRlZmF1bHQodGhpcy5fbWVudSkudG9nZ2xlQ2xhc3MoSnQpLGkuZGVmYXVsdChyKS50b2dnbGVDbGFzcyhKdCkudHJpZ2dlcihpLmRlZmF1bHQuRXZlbnQoInNob3duLmJzLmRyb3Bkb3duIixuKSl9fX0sZS5oaWRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2VsZW1lbnQuZGlzYWJsZWQmJiFpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoJHQpJiZpLmRlZmF1bHQodGhpcy5fbWVudSkuaGFzQ2xhc3MoSnQpKXt2YXIgZT17cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSxuPWkuZGVmYXVsdC5FdmVudCh0ZSxlKSxvPXQuX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO2kuZGVmYXVsdChvKS50cmlnZ2VyKG4pLG4uaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5kZXN0cm95KCksaS5kZWZhdWx0KHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKEp0KSxpLmRlZmF1bHQobykudG9nZ2xlQ2xhc3MoSnQpLnRyaWdnZXIoaS5kZWZhdWx0LkV2ZW50KGVlLGUpKSl9fSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpLmRlZmF1bHQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LEt0KSxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub2ZmKCIuYnMuZHJvcGRvd24iKSx0aGlzLl9lbGVtZW50PW51bGwsdGhpcy5fbWVudT1udWxsLG51bGwhPT10aGlzLl9wb3BwZXImJih0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX3BvcHBlcj1udWxsKX0sZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9pbk5hdmJhcj10aGlzLl9kZXRlY3ROYXZiYXIoKSxudWxsIT09dGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIuc2NoZWR1bGVVcGRhdGUoKX0sZS5fYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24iLChmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSx0LnRvZ2dsZSgpfSkpfSxlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9YSh7fSx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLmRhdGEoKSx0KSx1LnR5cGVDaGVja0NvbmZpZyh6dCx0LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpLHR9LGUuX2dldE1lbnVFbGVtZW50PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX21lbnUpe3ZhciBlPXQuX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpO2UmJih0aGlzLl9tZW51PWUucXVlcnlTZWxlY3RvcihyZSkpfXJldHVybiB0aGlzLl9tZW51fSxlLl9nZXRQbGFjZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlKSxlPSJib3R0b20tc3RhcnQiO3JldHVybiB0Lmhhc0NsYXNzKCJkcm9wdXAiKT9lPWkuZGVmYXVsdCh0aGlzLl9tZW51KS5oYXNDbGFzcyhadCk/InRvcC1lbmQiOiJ0b3Atc3RhcnQiOnQuaGFzQ2xhc3MoImRyb3ByaWdodCIpP2U9InJpZ2h0LXN0YXJ0Ijp0Lmhhc0NsYXNzKCJkcm9wbGVmdCIpP2U9ImxlZnQtc3RhcnQiOmkuZGVmYXVsdCh0aGlzLl9tZW51KS5oYXNDbGFzcyhadCkmJihlPSJib3R0b20tZW5kIiksZX0sZS5fZGV0ZWN0TmF2YmFyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KCIubmF2YmFyIikubGVuZ3RoPjB9LGUuX2dldE9mZnNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5fY29uZmlnLm9mZnNldD9lLmZuPWZ1bmN0aW9uKGUpe3JldHVybiBlLm9mZnNldHM9YSh7fSxlLm9mZnNldHMsdC5fY29uZmlnLm9mZnNldChlLm9mZnNldHMsdC5fZWxlbWVudCkpLGV9OmUub2Zmc2V0PXRoaXMuX2NvbmZpZy5vZmZzZXQsZX0sZS5fZ2V0UG9wcGVyQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e3BsYWNlbWVudDp0aGlzLl9nZXRQbGFjZW1lbnQoKSxtb2RpZmllcnM6e29mZnNldDp0aGlzLl9nZXRPZmZzZXQoKSxmbGlwOntlbmFibGVkOnRoaXMuX2NvbmZpZy5mbGlwfSxwcmV2ZW50T3ZlcmZsb3c6e2JvdW5kYXJpZXNFbGVtZW50OnRoaXMuX2NvbmZpZy5ib3VuZGFyeX19fTtyZXR1cm4ic3RhdGljIj09PXRoaXMuX2NvbmZpZy5kaXNwbGF5JiYodC5tb2RpZmllcnMuYXBwbHlTdHlsZT17ZW5hYmxlZDohMX0pLGEoe30sdCx0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKX0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7dmFyIG49aS5kZWZhdWx0KHRoaXMpLmRhdGEoS3QpO2lmKG58fChuPW5ldyB0KHRoaXMsIm9iamVjdCI9PXR5cGVvZiBlP2U6bnVsbCksaS5kZWZhdWx0KHRoaXMpLmRhdGEoS3QsbikpLCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBuW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytlKyciJyk7bltlXSgpfX0pKX0sdC5fY2xlYXJNZW51cz1mdW5jdGlvbihlKXtpZighZXx8MyE9PWUud2hpY2gmJigia2V5dXAiIT09ZS50eXBlfHw5PT09ZS53aGljaCkpZm9yKHZhciBuPVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChvZSkpLG89MCxyPW4ubGVuZ3RoO288cjtvKyspe3ZhciBhPXQuX2dldFBhcmVudEZyb21FbGVtZW50KG5bb10pLHM9aS5kZWZhdWx0KG5bb10pLmRhdGEoS3QpLGw9e3JlbGF0ZWRUYXJnZXQ6bltvXX07aWYoZSYmImNsaWNrIj09PWUudHlwZSYmKGwuY2xpY2tFdmVudD1lKSxzKXt2YXIgdT1zLl9tZW51O2lmKGkuZGVmYXVsdChhKS5oYXNDbGFzcyhKdCkmJiEoZSYmKCJjbGljayI9PT1lLnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSl8fCJrZXl1cCI9PT1lLnR5cGUmJjk9PT1lLndoaWNoKSYmaS5kZWZhdWx0LmNvbnRhaW5zKGEsZS50YXJnZXQpKSl7dmFyIGY9aS5kZWZhdWx0LkV2ZW50KHRlLGwpO2kuZGVmYXVsdChhKS50cmlnZ2VyKGYpLGYuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmaS5kZWZhdWx0KGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub2ZmKCJtb3VzZW92ZXIiLG51bGwsaS5kZWZhdWx0Lm5vb3ApLG5bb10uc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKSxzLl9wb3BwZXImJnMuX3BvcHBlci5kZXN0cm95KCksaS5kZWZhdWx0KHUpLnJlbW92ZUNsYXNzKEp0KSxpLmRlZmF1bHQoYSkucmVtb3ZlQ2xhc3MoSnQpLnRyaWdnZXIoaS5kZWZhdWx0LkV2ZW50KGVlLGwpKSl9fX19LHQuX2dldFBhcmVudEZyb21FbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlLG49dS5nZXRTZWxlY3RvckZyb21FbGVtZW50KHQpO3JldHVybiBuJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pKSxlfHx0LnBhcmVudE5vZGV9LHQuX2RhdGFBcGlLZXlkb3duSGFuZGxlcj1mdW5jdGlvbihlKXtpZighKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSk/MzI9PT1lLndoaWNofHwyNyE9PWUud2hpY2gmJig0MCE9PWUud2hpY2gmJjM4IT09ZS53aGljaHx8aS5kZWZhdWx0KGUudGFyZ2V0KS5jbG9zZXN0KHJlKS5sZW5ndGgpOiFHdC50ZXN0KGUud2hpY2gpKSYmIXRoaXMuZGlzYWJsZWQmJiFpLmRlZmF1bHQodGhpcykuaGFzQ2xhc3MoJHQpKXt2YXIgbj10Ll9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzKSxvPWkuZGVmYXVsdChuKS5oYXNDbGFzcyhKdCk7aWYob3x8MjchPT1lLndoaWNoKXtpZihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSwhb3x8Mjc9PT1lLndoaWNofHwzMj09PWUud2hpY2gpcmV0dXJuIDI3PT09ZS53aGljaCYmaS5kZWZhdWx0KG4ucXVlcnlTZWxlY3RvcihvZSkpLnRyaWdnZXIoImZvY3VzIiksdm9pZCBpLmRlZmF1bHQodGhpcykudHJpZ2dlcigiY2xpY2siKTt2YXIgcj1bXS5zbGljZS5jYWxsKG4ucXVlcnlTZWxlY3RvckFsbCgiLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW06bm90KC5kaXNhYmxlZCk6bm90KDpkaXNhYmxlZCkiKSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gaS5kZWZhdWx0KHQpLmlzKCI6dmlzaWJsZSIpfSkpO2lmKDAhPT1yLmxlbmd0aCl7dmFyIGE9ci5pbmRleE9mKGUudGFyZ2V0KTszOD09PWUud2hpY2gmJmE+MCYmYS0tLDQwPT09ZS53aGljaCYmYTxyLmxlbmd0aC0xJiZhKyssYTwwJiYoYT0wKSxyW2FdLmZvY3VzKCl9fX19LHIodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC42LjIifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFlfX0se2tleToiRGVmYXVsdFR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBzZX19XSksdH0oKTtpLmRlZmF1bHQoZG9jdW1lbnQpLm9uKGllLG9lLGxlLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKGllLHJlLGxlLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKG5lKyIga2V5dXAuYnMuZHJvcGRvd24uZGF0YS1hcGkiLGxlLl9jbGVhck1lbnVzKS5vbihuZSxvZSwoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksbGUuX2pRdWVyeUludGVyZmFjZS5jYWxsKGkuZGVmYXVsdCh0aGlzKSwidG9nZ2xlIil9KSkub24obmUsIi5kcm9wZG93biBmb3JtIiwoZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKX0pKSxpLmRlZmF1bHQuZm5benRdPWxlLl9qUXVlcnlJbnRlcmZhY2UsaS5kZWZhdWx0LmZuW3p0XS5Db25zdHJ1Y3Rvcj1sZSxpLmRlZmF1bHQuZm5benRdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0LmZuW3p0XT1YdCxsZS5falF1ZXJ5SW50ZXJmYWNlfTt2YXIgdWU9ImJzLm1vZGFsIixmZT1pLmRlZmF1bHQuZm4ubW9kYWwsZGU9Im1vZGFsLW9wZW4iLGNlPSJmYWRlIixoZT0ic2hvdyIscGU9Im1vZGFsLXN0YXRpYyIsbWU9ImhpZGRlbi5icy5tb2RhbCIsZ2U9InNob3cuYnMubW9kYWwiLF9lPSJmb2N1c2luLmJzLm1vZGFsIix2ZT0icmVzaXplLmJzLm1vZGFsIixiZT0iY2xpY2suZGlzbWlzcy5icy5tb2RhbCIseWU9ImtleWRvd24uZGlzbWlzcy5icy5tb2RhbCIsRWU9Im1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsIix3ZT0iLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCIsVGU9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLGZvY3VzOiEwLHNob3c6ITB9LENlPXtiYWNrZHJvcDoiKGJvb2xlYW58c3RyaW5nKSIsa2V5Ym9hcmQ6ImJvb2xlYW4iLGZvY3VzOiJib29sZWFuIixzaG93OiJib29sZWFuIn0sU2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyhlKSx0aGlzLl9lbGVtZW50PXQsdGhpcy5fZGlhbG9nPXQucXVlcnlTZWxlY3RvcigiLm1vZGFsLWRpYWxvZyIpLHRoaXMuX2JhY2tkcm9wPW51bGwsdGhpcy5faXNTaG93bj0hMSx0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz0hMSx0aGlzLl9pZ25vcmVCYWNrZHJvcENsaWNrPSExLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9zY3JvbGxiYXJXaWR0aD0wfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnRvZ2dsZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNTaG93bj90aGlzLmhpZGUoKTp0aGlzLnNob3codCl9LGUuc2hvdz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLl9pc1Nob3duJiYhdGhpcy5faXNUcmFuc2l0aW9uaW5nKXt2YXIgbj1pLmRlZmF1bHQuRXZlbnQoZ2Use3JlbGF0ZWRUYXJnZXQ6dH0pO2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKG4pLG4uaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLl9pc1Nob3duPSEwLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhjZSkmJih0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITApLHRoaXMuX2NoZWNrU2Nyb2xsYmFyKCksdGhpcy5fc2V0U2Nyb2xsYmFyKCksdGhpcy5fYWRqdXN0RGlhbG9nKCksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbihiZSwnW2RhdGEtZGlzbWlzcz0ibW9kYWwiXScsKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhpZGUodCl9KSksaS5kZWZhdWx0KHRoaXMuX2RpYWxvZykub24oRWUsKGZ1bmN0aW9uKCl7aS5kZWZhdWx0KGUuX2VsZW1lbnQpLm9uZSgibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsIiwoZnVuY3Rpb24odCl7aS5kZWZhdWx0KHQudGFyZ2V0KS5pcyhlLl9lbGVtZW50KSYmKGUuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITApfSkpfSkpLHRoaXMuX3Nob3dCYWNrZHJvcCgoZnVuY3Rpb24oKXtyZXR1cm4gZS5fc2hvd0VsZW1lbnQodCl9KSkpfX0sZS5oaWRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodCYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2lzU2hvd24mJiF0aGlzLl9pc1RyYW5zaXRpb25pbmcpe3ZhciBuPWkuZGVmYXVsdC5FdmVudCgiaGlkZS5icy5tb2RhbCIpO2lmKGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKG4pLHRoaXMuX2lzU2hvd24mJiFuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt0aGlzLl9pc1Nob3duPSExO3ZhciBvPWkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhjZSk7aWYobyYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLGkuZGVmYXVsdChkb2N1bWVudCkub2ZmKF9lKSxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoaGUpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vZmYoYmUpLGkuZGVmYXVsdCh0aGlzLl9kaWFsb2cpLm9mZihFZSksbyl7dmFyIHI9dS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub25lKHUuVFJBTlNJVElPTl9FTkQsKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9oaWRlTW9kYWwodCl9KSkuZW11bGF0ZVRyYW5zaXRpb25FbmQocil9ZWxzZSB0aGlzLl9oaWRlTW9kYWwoKX19fSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtbd2luZG93LHRoaXMuX2VsZW1lbnQsdGhpcy5fZGlhbG9nXS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gaS5kZWZhdWx0KHQpLm9mZigiLmJzLm1vZGFsIil9KSksaS5kZWZhdWx0KGRvY3VtZW50KS5vZmYoX2UpLGkuZGVmYXVsdC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsdWUpLHRoaXMuX2NvbmZpZz1udWxsLHRoaXMuX2VsZW1lbnQ9bnVsbCx0aGlzLl9kaWFsb2c9bnVsbCx0aGlzLl9iYWNrZHJvcD1udWxsLHRoaXMuX2lzU2hvd249bnVsbCx0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1udWxsLHRoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9bnVsbCx0aGlzLl9pc1RyYW5zaXRpb25pbmc9bnVsbCx0aGlzLl9zY3JvbGxiYXJXaWR0aD1udWxsfSxlLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2FkanVzdERpYWxvZygpfSxlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9YSh7fSxUZSx0KSx1LnR5cGVDaGVja0NvbmZpZygibW9kYWwiLHQsQ2UpLHR9LGUuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9aS5kZWZhdWx0LkV2ZW50KCJoaWRlUHJldmVudGVkLmJzLm1vZGFsIik7aWYoaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoZSksIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBuPXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7bnx8KHRoaXMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQocGUpO3ZhciBvPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZGlhbG9nKTtpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub2ZmKHUuVFJBTlNJVElPTl9FTkQpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbmUodS5UUkFOU0lUSU9OX0VORCwoZnVuY3Rpb24oKXt0Ll9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUocGUpLG58fGkuZGVmYXVsdCh0Ll9lbGVtZW50KS5vbmUodS5UUkFOU0lUSU9OX0VORCwoZnVuY3Rpb24oKXt0Ll9lbGVtZW50LnN0eWxlLm92ZXJmbG93WT0iIn0pKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0Ll9lbGVtZW50LG8pfSkpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG8pLHRoaXMuX2VsZW1lbnQuZm9jdXMoKX19LGUuX3Nob3dFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1pLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoY2UpLG89dGhpcy5fZGlhbG9nP3RoaXMuX2RpYWxvZy5xdWVyeVNlbGVjdG9yKCIubW9kYWwtYm9keSIpOm51bGw7dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERXx8ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSx0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1tb2RhbCIsITApLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJyb2xlIiwiZGlhbG9nIiksaS5kZWZhdWx0KHRoaXMuX2RpYWxvZykuaGFzQ2xhc3MoIm1vZGFsLWRpYWxvZy1zY3JvbGxhYmxlIikmJm8/by5zY3JvbGxUb3A9MDp0aGlzLl9lbGVtZW50LnNjcm9sbFRvcD0wLG4mJnUucmVmbG93KHRoaXMuX2VsZW1lbnQpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhoZSksdGhpcy5fY29uZmlnLmZvY3VzJiZ0aGlzLl9lbmZvcmNlRm9jdXMoKTt2YXIgcj1pLmRlZmF1bHQuRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDp0fSksYT1mdW5jdGlvbigpe2UuX2NvbmZpZy5mb2N1cyYmZS5fZWxlbWVudC5mb2N1cygpLGUuX2lzVHJhbnNpdGlvbmluZz0hMSxpLmRlZmF1bHQoZS5fZWxlbWVudCkudHJpZ2dlcihyKX07aWYobil7dmFyIHM9dS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9kaWFsb2cpO2kuZGVmYXVsdCh0aGlzLl9kaWFsb2cpLm9uZSh1LlRSQU5TSVRJT05fRU5ELGEpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHMpfWVsc2UgYSgpfSxlLl9lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2kuZGVmYXVsdChkb2N1bWVudCkub2ZmKF9lKS5vbihfZSwoZnVuY3Rpb24oZSl7ZG9jdW1lbnQhPT1lLnRhcmdldCYmdC5fZWxlbWVudCE9PWUudGFyZ2V0JiYwPT09aS5kZWZhdWx0KHQuX2VsZW1lbnQpLmhhcyhlLnRhcmdldCkubGVuZ3RoJiZ0Ll9lbGVtZW50LmZvY3VzKCl9KSl9LGUuX3NldEVzY2FwZUV2ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9pc1Nob3duP2kuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vbih5ZSwoZnVuY3Rpb24oZSl7dC5fY29uZmlnLmtleWJvYXJkJiYyNz09PWUud2hpY2g/KGUucHJldmVudERlZmF1bHQoKSx0LmhpZGUoKSk6dC5fY29uZmlnLmtleWJvYXJkfHwyNyE9PWUud2hpY2h8fHQuX3RyaWdnZXJCYWNrZHJvcFRyYW5zaXRpb24oKX0pKTp0aGlzLl9pc1Nob3dufHxpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub2ZmKHllKX0sZS5fc2V0UmVzaXplRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2lzU2hvd24/aS5kZWZhdWx0KHdpbmRvdykub24odmUsKGZ1bmN0aW9uKGUpe3JldHVybiB0LmhhbmRsZVVwZGF0ZShlKX0pKTppLmRlZmF1bHQod2luZG93KS5vZmYodmUpfSxlLl9oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtbW9kYWwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgicm9sZSIpLHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9zaG93QmFja2Ryb3AoKGZ1bmN0aW9uKCl7aS5kZWZhdWx0KGRvY3VtZW50LmJvZHkpLnJlbW92ZUNsYXNzKGRlKSx0Ll9yZXNldEFkanVzdG1lbnRzKCksdC5fcmVzZXRTY3JvbGxiYXIoKSxpLmRlZmF1bHQodC5fZWxlbWVudCkudHJpZ2dlcihtZSl9KSl9LGUuX3JlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy5fYmFja2Ryb3AmJihpLmRlZmF1bHQodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpLHRoaXMuX2JhY2tkcm9wPW51bGwpfSxlLl9zaG93QmFja2Ryb3A9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPWkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhjZSk/Y2U6IiI7aWYodGhpcy5faXNTaG93biYmdGhpcy5fY29uZmlnLmJhY2tkcm9wKXtpZih0aGlzLl9iYWNrZHJvcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLl9iYWNrZHJvcC5jbGFzc05hbWU9Im1vZGFsLWJhY2tkcm9wIixuJiZ0aGlzLl9iYWNrZHJvcC5jbGFzc0xpc3QuYWRkKG4pLGkuZGVmYXVsdCh0aGlzLl9iYWNrZHJvcCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSksaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uKGJlLChmdW5jdGlvbih0KXtlLl9pZ25vcmVCYWNrZHJvcENsaWNrP2UuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITE6dC50YXJnZXQ9PT10LmN1cnJlbnRUYXJnZXQmJigic3RhdGljIj09PWUuX2NvbmZpZy5iYWNrZHJvcD9lLl90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCk6ZS5oaWRlKCkpfSkpLG4mJnUucmVmbG93KHRoaXMuX2JhY2tkcm9wKSxpLmRlZmF1bHQodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKGhlKSwhdClyZXR1cm47aWYoIW4pcmV0dXJuIHZvaWQgdCgpO3ZhciBvPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fYmFja2Ryb3ApO2kuZGVmYXVsdCh0aGlzLl9iYWNrZHJvcCkub25lKHUuVFJBTlNJVElPTl9FTkQsdCkuZW11bGF0ZVRyYW5zaXRpb25FbmQobyl9ZWxzZSBpZighdGhpcy5faXNTaG93biYmdGhpcy5fYmFja2Ryb3Ape2kuZGVmYXVsdCh0aGlzLl9iYWNrZHJvcCkucmVtb3ZlQ2xhc3MoaGUpO3ZhciByPWZ1bmN0aW9uKCl7ZS5fcmVtb3ZlQmFja2Ryb3AoKSx0JiZ0KCl9O2lmKGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhjZSkpe3ZhciBhPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fYmFja2Ryb3ApO2kuZGVmYXVsdCh0aGlzLl9iYWNrZHJvcCkub25lKHUuVFJBTlNJVElPTl9FTkQscikuZW11bGF0ZVRyYW5zaXRpb25FbmQoYSl9ZWxzZSByKCl9ZWxzZSB0JiZ0KCl9LGUuX2FkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IXRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiZ0JiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKSx0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmIXQmJih0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0sZS5fcmVzZXRBZGp1c3RtZW50cz1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQ9IiIsdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9IiJ9LGUuX2NoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1NYXRoLnJvdW5kKHQubGVmdCt0LnJpZ2h0KTx3aW5kb3cuaW5uZXJXaWR0aCx0aGlzLl9zY3JvbGxiYXJXaWR0aD10aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpfSxlLl9zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuX2lzQm9keU92ZXJmbG93aW5nKXt2YXIgZT1bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwod2UpKSxuPVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnN0aWNreS10b3AiKSk7aS5kZWZhdWx0KGUpLmVhY2goKGZ1bmN0aW9uKGUsbil7dmFyIG89bi5zdHlsZS5wYWRkaW5nUmlnaHQscj1pLmRlZmF1bHQobikuY3NzKCJwYWRkaW5nLXJpZ2h0Iik7aS5kZWZhdWx0KG4pLmRhdGEoInBhZGRpbmctcmlnaHQiLG8pLmNzcygicGFkZGluZy1yaWdodCIscGFyc2VGbG9hdChyKSt0Ll9zY3JvbGxiYXJXaWR0aCsicHgiKX0pKSxpLmRlZmF1bHQobikuZWFjaCgoZnVuY3Rpb24oZSxuKXt2YXIgbz1uLnN0eWxlLm1hcmdpblJpZ2h0LHI9aS5kZWZhdWx0KG4pLmNzcygibWFyZ2luLXJpZ2h0Iik7aS5kZWZhdWx0KG4pLmRhdGEoIm1hcmdpbi1yaWdodCIsbykuY3NzKCJtYXJnaW4tcmlnaHQiLHBhcnNlRmxvYXQociktdC5fc2Nyb2xsYmFyV2lkdGgrInB4Iil9KSk7dmFyIG89ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQscj1pLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkuY3NzKCJwYWRkaW5nLXJpZ2h0Iik7aS5kZWZhdWx0KGRvY3VtZW50LmJvZHkpLmRhdGEoInBhZGRpbmctcmlnaHQiLG8pLmNzcygicGFkZGluZy1yaWdodCIscGFyc2VGbG9hdChyKSt0aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX1pLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkuYWRkQ2xhc3MoZGUpfSxlLl9yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciB0PVtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh3ZSkpO2kuZGVmYXVsdCh0KS5lYWNoKChmdW5jdGlvbih0LGUpe3ZhciBuPWkuZGVmYXVsdChlKS5kYXRhKCJwYWRkaW5nLXJpZ2h0Iik7aS5kZWZhdWx0KGUpLnJlbW92ZURhdGEoInBhZGRpbmctcmlnaHQiKSxlLnN0eWxlLnBhZGRpbmdSaWdodD1ufHwiIn0pKTt2YXIgZT1bXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5zdGlja3ktdG9wIikpO2kuZGVmYXVsdChlKS5lYWNoKChmdW5jdGlvbih0LGUpe3ZhciBuPWkuZGVmYXVsdChlKS5kYXRhKCJtYXJnaW4tcmlnaHQiKTsidW5kZWZpbmVkIiE9dHlwZW9mIG4mJmkuZGVmYXVsdChlKS5jc3MoIm1hcmdpbi1yaWdodCIsbikucmVtb3ZlRGF0YSgibWFyZ2luLXJpZ2h0Iil9KSk7dmFyIG49aS5kZWZhdWx0KGRvY3VtZW50LmJvZHkpLmRhdGEoInBhZGRpbmctcmlnaHQiKTtpLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkucmVtb3ZlRGF0YSgicGFkZGluZy1yaWdodCIpLGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0PW58fCIifSxlLl9nZXRTY3JvbGxiYXJXaWR0aD1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLXQuY2xpZW50V2lkdGg7cmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCksZX0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgbz1pLmRlZmF1bHQodGhpcykuZGF0YSh1ZSkscj1hKHt9LFRlLGkuZGVmYXVsdCh0aGlzKS5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBlJiZlP2U6e30pO2lmKG98fChvPW5ldyB0KHRoaXMsciksaS5kZWZhdWx0KHRoaXMpLmRhdGEodWUsbykpLCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytlKyciJyk7b1tlXShuKX1lbHNlIHIuc2hvdyYmby5zaG93KG4pfSkpfSxyKHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuNi4yIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBUZX19XSksdH0oKTtpLmRlZmF1bHQoZG9jdW1lbnQpLm9uKCJjbGljay5icy5tb2RhbC5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsKGZ1bmN0aW9uKHQpe3ZhciBlLG49dGhpcyxvPXUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtvJiYoZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG8pKTt2YXIgcj1pLmRlZmF1bHQoZSkuZGF0YSh1ZSk/InRvZ2dsZSI6YSh7fSxpLmRlZmF1bHQoZSkuZGF0YSgpLGkuZGVmYXVsdCh0aGlzKS5kYXRhKCkpOyJBIiE9PXRoaXMudGFnTmFtZSYmIkFSRUEiIT09dGhpcy50YWdOYW1lfHx0LnByZXZlbnREZWZhdWx0KCk7dmFyIHM9aS5kZWZhdWx0KGUpLm9uZShnZSwoZnVuY3Rpb24odCl7dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8cy5vbmUobWUsKGZ1bmN0aW9uKCl7aS5kZWZhdWx0KG4pLmlzKCI6dmlzaWJsZSIpJiZuLmZvY3VzKCl9KSl9KSk7U2UuX2pRdWVyeUludGVyZmFjZS5jYWxsKGkuZGVmYXVsdChlKSxyLHRoaXMpfSkpLGkuZGVmYXVsdC5mbi5tb2RhbD1TZS5falF1ZXJ5SW50ZXJmYWNlLGkuZGVmYXVsdC5mbi5tb2RhbC5Db25zdHJ1Y3Rvcj1TZSxpLmRlZmF1bHQuZm4ubW9kYWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHQuZm4ubW9kYWw9ZmUsU2UuX2pRdWVyeUludGVyZmFjZX07dmFyIE5lPVsiYmFja2dyb3VuZCIsImNpdGUiLCJocmVmIiwiaXRlbXR5cGUiLCJsb25nZGVzYyIsInBvc3RlciIsInNyYyIsInhsaW5rOmhyZWYiXSxEZT0vXig/Oig/Omh0dHBzP3xtYWlsdG98ZnRwfHRlbHxmaWxlfHNtcyk6fFteIyYvOj9dKig/OlsjLz9dfCQpKS9pLEFlPS9eZGF0YTooPzppbWFnZVwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1wvKD86bXBlZ3xtcDR8b2dnfHdlYm0pfGF1ZGlvXC8oPzptcDN8b2dhfG9nZ3xvcHVzKSk7YmFzZTY0LFtcZCsvYS16XSs9KiQvaTtmdW5jdGlvbiBrZSh0LGUsbil7aWYoMD09PXQubGVuZ3RoKXJldHVybiB0O2lmKG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuKXJldHVybiBuKHQpO2Zvcih2YXIgaT0obmV3IHdpbmRvdy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LCJ0ZXh0L2h0bWwiKSxvPU9iamVjdC5rZXlzKGUpLHI9W10uc2xpY2UuY2FsbChpLmJvZHkucXVlcnlTZWxlY3RvckFsbCgiKiIpKSxhPWZ1bmN0aW9uKHQsbil7dmFyIGk9clt0XSxhPWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZigtMT09PW8uaW5kZXhPZihpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiBpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksImNvbnRpbnVlIjt2YXIgcz1bXS5zbGljZS5jYWxsKGkuYXR0cmlidXRlcyksbD1bXS5jb25jYXQoZVsiKiJdfHxbXSxlW2FdfHxbXSk7cy5mb3JFYWNoKChmdW5jdGlvbih0KXsoZnVuY3Rpb24odCxlKXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoLTEhPT1lLmluZGV4T2YobikpcmV0dXJuLTE9PT1OZS5pbmRleE9mKG4pfHxCb29sZWFuKERlLnRlc3QodC5ub2RlVmFsdWUpfHxBZS50ZXN0KHQubm9kZVZhbHVlKSk7Zm9yKHZhciBpPWUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFJlZ0V4cH0pKSxvPTAscj1pLmxlbmd0aDtvPHI7bysrKWlmKGlbb10udGVzdChuKSlyZXR1cm4hMDtyZXR1cm4hMX0pKHQsbCl8fGkucmVtb3ZlQXR0cmlidXRlKHQubm9kZU5hbWUpfSkpfSxzPTAsbD1yLmxlbmd0aDtzPGw7cysrKWEocyk7cmV0dXJuIGkuYm9keS5pbm5lckhUTUx9dmFyIEllPSJ0b29sdGlwIixPZT0iYnMudG9vbHRpcCIseGU9aS5kZWZhdWx0LmZuLnRvb2x0aXAsamU9bmV3IFJlZ0V4cCgiKF58XFxzKWJzLXRvb2x0aXBcXFMrIiwiZyIpLExlPVsic2FuaXRpemUiLCJ3aGl0ZUxpc3QiLCJzYW5pdGl6ZUZuIl0sUGU9ImZhZGUiLEZlPSJzaG93IixSZT0ic2hvdyIsQmU9Im91dCIsSGU9ImhvdmVyIixNZT0iZm9jdXMiLHFlPXtBVVRPOiJhdXRvIixUT1A6InRvcCIsUklHSFQ6InJpZ2h0IixCT1RUT006ImJvdHRvbSIsTEVGVDoibGVmdCJ9LFFlPXthbmltYXRpb246ITAsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6ImhvdmVyIGZvY3VzIix0aXRsZToiIixkZWxheTowLGh0bWw6ITEsc2VsZWN0b3I6ITEscGxhY2VtZW50OiJ0b3AiLG9mZnNldDowLGNvbnRhaW5lcjohMSxmYWxsYmFja1BsYWNlbWVudDoiZmxpcCIsYm91bmRhcnk6InNjcm9sbFBhcmVudCIsY3VzdG9tQ2xhc3M6IiIsc2FuaXRpemU6ITAsc2FuaXRpemVGbjpudWxsLHdoaXRlTGlzdDp7IioiOlsiY2xhc3MiLCJkaXIiLCJpZCIsImxhbmciLCJyb2xlIiwvXmFyaWEtW1x3LV0qJC9pXSxhOlsidGFyZ2V0IiwiaHJlZiIsInRpdGxlIiwicmVsIl0sYXJlYTpbXSxiOltdLGJyOltdLGNvbDpbXSxjb2RlOltdLGRpdjpbXSxlbTpbXSxocjpbXSxoMTpbXSxoMjpbXSxoMzpbXSxoNDpbXSxoNTpbXSxoNjpbXSxpOltdLGltZzpbInNyYyIsInNyY3NldCIsImFsdCIsInRpdGxlIiwid2lkdGgiLCJoZWlnaHQiXSxsaTpbXSxvbDpbXSxwOltdLHByZTpbXSxzOltdLHNtYWxsOltdLHNwYW46W10sc3ViOltdLHN1cDpbXSxzdHJvbmc6W10sdTpbXSx1bDpbXX0scG9wcGVyQ29uZmlnOm51bGx9LFdlPXthbmltYXRpb246ImJvb2xlYW4iLHRlbXBsYXRlOiJzdHJpbmciLHRpdGxlOiIoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pIix0cmlnZ2VyOiJzdHJpbmciLGRlbGF5OiIobnVtYmVyfG9iamVjdCkiLGh0bWw6ImJvb2xlYW4iLHNlbGVjdG9yOiIoc3RyaW5nfGJvb2xlYW4pIixwbGFjZW1lbnQ6IihzdHJpbmd8ZnVuY3Rpb24pIixvZmZzZXQ6IihudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKSIsY29udGFpbmVyOiIoc3RyaW5nfGVsZW1lbnR8Ym9vbGVhbikiLGZhbGxiYWNrUGxhY2VtZW50OiIoc3RyaW5nfGFycmF5KSIsYm91bmRhcnk6IihzdHJpbmd8ZWxlbWVudCkiLGN1c3RvbUNsYXNzOiIoc3RyaW5nfGZ1bmN0aW9uKSIsc2FuaXRpemU6ImJvb2xlYW4iLHNhbml0aXplRm46IihudWxsfGZ1bmN0aW9uKSIsd2hpdGVMaXN0OiJvYmplY3QiLHBvcHBlckNvbmZpZzoiKG51bGx8b2JqZWN0KSJ9LFVlPXtISURFOiJoaWRlLmJzLnRvb2x0aXAiLEhJRERFTjoiaGlkZGVuLmJzLnRvb2x0aXAiLFNIT1c6InNob3cuYnMudG9vbHRpcCIsU0hPV046InNob3duLmJzLnRvb2x0aXAiLElOU0VSVEVEOiJpbnNlcnRlZC5icy50b29sdGlwIixDTElDSzoiY2xpY2suYnMudG9vbHRpcCIsRk9DVVNJTjoiZm9jdXNpbi5icy50b29sdGlwIixGT0NVU09VVDoiZm9jdXNvdXQuYnMudG9vbHRpcCIsTU9VU0VFTlRFUjoibW91c2VlbnRlci5icy50b29sdGlwIixNT1VTRUxFQVZFOiJtb3VzZWxlYXZlLmJzLnRvb2x0aXAifSxWZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFl0KXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCdzIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyIChodHRwczovL3BvcHBlci5qcy5vcmcpIik7dGhpcy5faXNFbmFibGVkPSEwLHRoaXMuX3RpbWVvdXQ9MCx0aGlzLl9ob3ZlclN0YXRlPSIiLHRoaXMuX2FjdGl2ZVRyaWdnZXI9e30sdGhpcy5fcG9wcGVyPW51bGwsdGhpcy5lbGVtZW50PXQsdGhpcy5jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMudGlwPW51bGwsdGhpcy5fc2V0TGlzdGVuZXJzKCl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5faXNFbmFibGVkPSEwfSxlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0VuYWJsZWQ9ITF9LGUudG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hdGhpcy5faXNFbmFibGVkfSxlLnRvZ2dsZT1mdW5jdGlvbih0KXtpZih0aGlzLl9pc0VuYWJsZWQpaWYodCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSxuPWkuZGVmYXVsdCh0LmN1cnJlbnRUYXJnZXQpLmRhdGEoZSk7bnx8KG49bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLGkuZGVmYXVsdCh0LmN1cnJlbnRUYXJnZXQpLmRhdGEoZSxuKSksbi5fYWN0aXZlVHJpZ2dlci5jbGljaz0hbi5fYWN0aXZlVHJpZ2dlci5jbGljayxuLl9pc1dpdGhBY3RpdmVUcmlnZ2VyKCk/bi5fZW50ZXIobnVsbCxuKTpuLl9sZWF2ZShudWxsLG4pfWVsc2V7aWYoaS5kZWZhdWx0KHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhGZSkpcmV0dXJuIHZvaWQgdGhpcy5fbGVhdmUobnVsbCx0aGlzKTt0aGlzLl9lbnRlcihudWxsLHRoaXMpfX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLGkuZGVmYXVsdC5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKSxpLmRlZmF1bHQodGhpcy5lbGVtZW50KS5vZmYodGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpLGkuZGVmYXVsdCh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoIi5tb2RhbCIpLm9mZigiaGlkZS5icy5tb2RhbCIsdGhpcy5faGlkZU1vZGFsSGFuZGxlciksdGhpcy50aXAmJmkuZGVmYXVsdCh0aGlzLnRpcCkucmVtb3ZlKCksdGhpcy5faXNFbmFibGVkPW51bGwsdGhpcy5fdGltZW91dD1udWxsLHRoaXMuX2hvdmVyU3RhdGU9bnVsbCx0aGlzLl9hY3RpdmVUcmlnZ2VyPW51bGwsdGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIuZGVzdHJveSgpLHRoaXMuX3BvcHBlcj1udWxsLHRoaXMuZWxlbWVudD1udWxsLHRoaXMuY29uZmlnPW51bGwsdGhpcy50aXA9bnVsbH0sZS5zaG93PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZigibm9uZSI9PT1pLmRlZmF1bHQodGhpcy5lbGVtZW50KS5jc3MoImRpc3BsYXkiKSl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSB1c2Ugc2hvdyBvbiB2aXNpYmxlIGVsZW1lbnRzIik7dmFyIGU9aS5kZWZhdWx0LkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyk7aWYodGhpcy5pc1dpdGhDb250ZW50KCkmJnRoaXMuX2lzRW5hYmxlZCl7aS5kZWZhdWx0KHRoaXMuZWxlbWVudCkudHJpZ2dlcihlKTt2YXIgbj11LmZpbmRTaGFkb3dSb290KHRoaXMuZWxlbWVudCksbz1pLmRlZmF1bHQuY29udGFpbnMobnVsbCE9PW4/bjp0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5lbGVtZW50KTtpZihlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhbylyZXR1cm47dmFyIHI9dGhpcy5nZXRUaXBFbGVtZW50KCksYT11LmdldFVJRCh0aGlzLmNvbnN0cnVjdG9yLk5BTUUpO3Iuc2V0QXR0cmlidXRlKCJpZCIsYSksdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIsYSksdGhpcy5zZXRDb250ZW50KCksdGhpcy5jb25maWcuYW5pbWF0aW9uJiZpLmRlZmF1bHQocikuYWRkQ2xhc3MoUGUpO3ZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy5wbGFjZW1lbnQ/dGhpcy5jb25maWcucGxhY2VtZW50LmNhbGwodGhpcyxyLHRoaXMuZWxlbWVudCk6dGhpcy5jb25maWcucGxhY2VtZW50LGw9dGhpcy5fZ2V0QXR0YWNobWVudChzKTt0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyhsKTt2YXIgZj10aGlzLl9nZXRDb250YWluZXIoKTtpLmRlZmF1bHQocikuZGF0YSh0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLHRoaXMpLGkuZGVmYXVsdC5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy50aXApfHxpLmRlZmF1bHQocikuYXBwZW5kVG8oZiksaS5kZWZhdWx0KHRoaXMuZWxlbWVudCkudHJpZ2dlcih0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LklOU0VSVEVEKSx0aGlzLl9wb3BwZXI9bmV3IFl0KHRoaXMuZWxlbWVudCxyLHRoaXMuX2dldFBvcHBlckNvbmZpZyhsKSksaS5kZWZhdWx0KHIpLmFkZENsYXNzKEZlKSxpLmRlZmF1bHQocikuYWRkQ2xhc3ModGhpcy5jb25maWcuY3VzdG9tQ2xhc3MpLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZpLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vbigibW91c2VvdmVyIixudWxsLGkuZGVmYXVsdC5ub29wKTt2YXIgZD1mdW5jdGlvbigpe3QuY29uZmlnLmFuaW1hdGlvbiYmdC5fZml4VHJhbnNpdGlvbigpO3ZhciBlPXQuX2hvdmVyU3RhdGU7dC5faG92ZXJTdGF0ZT1udWxsLGkuZGVmYXVsdCh0LmVsZW1lbnQpLnRyaWdnZXIodC5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTiksZT09PUJlJiZ0Ll9sZWF2ZShudWxsLHQpfTtpZihpLmRlZmF1bHQodGhpcy50aXApLmhhc0NsYXNzKFBlKSl7dmFyIGM9dS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLnRpcCk7aS5kZWZhdWx0KHRoaXMudGlwKS5vbmUodS5UUkFOU0lUSU9OX0VORCxkKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChjKX1lbHNlIGQoKX19LGUuaGlkZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5nZXRUaXBFbGVtZW50KCksbz1pLmRlZmF1bHQuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKSxyPWZ1bmN0aW9uKCl7ZS5faG92ZXJTdGF0ZSE9PVJlJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxlLl9jbGVhblRpcENsYXNzKCksZS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIpLGkuZGVmYXVsdChlLmVsZW1lbnQpLnRyaWdnZXIoZS5jb25zdHJ1Y3Rvci5FdmVudC5ISURERU4pLG51bGwhPT1lLl9wb3BwZXImJmUuX3BvcHBlci5kZXN0cm95KCksdCYmdCgpfTtpZihpLmRlZmF1bHQodGhpcy5lbGVtZW50KS50cmlnZ2VyKG8pLCFvLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtpZihpLmRlZmF1bHQobikucmVtb3ZlQ2xhc3MoRmUpLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZpLmRlZmF1bHQoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoIm1vdXNlb3ZlciIsbnVsbCxpLmRlZmF1bHQubm9vcCksdGhpcy5fYWN0aXZlVHJpZ2dlci5jbGljaz0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyLmZvY3VzPSExLHRoaXMuX2FjdGl2ZVRyaWdnZXIuaG92ZXI9ITEsaS5kZWZhdWx0KHRoaXMudGlwKS5oYXNDbGFzcyhQZSkpe3ZhciBhPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQobik7aS5kZWZhdWx0KG4pLm9uZSh1LlRSQU5TSVRJT05fRU5ELHIpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGEpfWVsc2UgcigpO3RoaXMuX2hvdmVyU3RhdGU9IiJ9fSxlLnVwZGF0ZT1mdW5jdGlvbigpe251bGwhPT10aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpfSxlLmlzV2l0aENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpfSxlLmFkZEF0dGFjaG1lbnRDbGFzcz1mdW5jdGlvbih0KXtpLmRlZmF1bHQodGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKCJicy10b29sdGlwLSIrdCl9LGUuZ2V0VGlwRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpcD10aGlzLnRpcHx8aS5kZWZhdWx0KHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXSx0aGlzLnRpcH0sZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRUaXBFbGVtZW50KCk7dGhpcy5zZXRFbGVtZW50Q29udGVudChpLmRlZmF1bHQodC5xdWVyeVNlbGVjdG9yQWxsKCIudG9vbHRpcC1pbm5lciIpKSx0aGlzLmdldFRpdGxlKCkpLGkuZGVmYXVsdCh0KS5yZW1vdmVDbGFzcygiZmFkZSBzaG93Iil9LGUuc2V0RWxlbWVudENvbnRlbnQ9ZnVuY3Rpb24odCxlKXsib2JqZWN0IiE9dHlwZW9mIGV8fCFlLm5vZGVUeXBlJiYhZS5qcXVlcnk/dGhpcy5jb25maWcuaHRtbD8odGhpcy5jb25maWcuc2FuaXRpemUmJihlPWtlKGUsdGhpcy5jb25maWcud2hpdGVMaXN0LHRoaXMuY29uZmlnLnNhbml0aXplRm4pKSx0Lmh0bWwoZSkpOnQudGV4dChlKTp0aGlzLmNvbmZpZy5odG1sP2kuZGVmYXVsdChlKS5wYXJlbnQoKS5pcyh0KXx8dC5lbXB0eSgpLmFwcGVuZChlKTp0LnRleHQoaS5kZWZhdWx0KGUpLnRleHQoKSl9LGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsLXRpdGxlIik7cmV0dXJuIHR8fCh0PSJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbmZpZy50aXRsZT90aGlzLmNvbmZpZy50aXRsZS5jYWxsKHRoaXMuZWxlbWVudCk6dGhpcy5jb25maWcudGl0bGUpLHR9LGUuX2dldFBvcHBlckNvbmZpZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBhKHt9LHtwbGFjZW1lbnQ6dCxtb2RpZmllcnM6e29mZnNldDp0aGlzLl9nZXRPZmZzZXQoKSxmbGlwOntiZWhhdmlvcjp0aGlzLmNvbmZpZy5mYWxsYmFja1BsYWNlbWVudH0sYXJyb3c6e2VsZW1lbnQ6Ii5hcnJvdyJ9LHByZXZlbnRPdmVyZmxvdzp7Ym91bmRhcmllc0VsZW1lbnQ6dGhpcy5jb25maWcuYm91bmRhcnl9fSxvbkNyZWF0ZTpmdW5jdGlvbih0KXt0Lm9yaWdpbmFsUGxhY2VtZW50IT09dC5wbGFjZW1lbnQmJmUuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSh0KX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIGUuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSh0KX19LHRoaXMuY29uZmlnLnBvcHBlckNvbmZpZyl9LGUuX2dldE9mZnNldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb25maWcub2Zmc2V0P2UuZm49ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0cz1hKHt9LGUub2Zmc2V0cyx0LmNvbmZpZy5vZmZzZXQoZS5vZmZzZXRzLHQuZWxlbWVudCkpLGV9OmUub2Zmc2V0PXRoaXMuY29uZmlnLm9mZnNldCxlfSxlLl9nZXRDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuY29uZmlnLmNvbnRhaW5lcj9kb2N1bWVudC5ib2R5OnUuaXNFbGVtZW50KHRoaXMuY29uZmlnLmNvbnRhaW5lcik/aS5kZWZhdWx0KHRoaXMuY29uZmlnLmNvbnRhaW5lcik6aS5kZWZhdWx0KGRvY3VtZW50KS5maW5kKHRoaXMuY29uZmlnLmNvbnRhaW5lcil9LGUuX2dldEF0dGFjaG1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHFlW3QudG9VcHBlckNhc2UoKV19LGUuX3NldExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5jb25maWcudHJpZ2dlci5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJjbGljayI9PT1lKWkuZGVmYXVsdCh0LmVsZW1lbnQpLm9uKHQuY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssdC5jb25maWcuc2VsZWN0b3IsKGZ1bmN0aW9uKGUpe3JldHVybiB0LnRvZ2dsZShlKX0pKTtlbHNlIGlmKCJtYW51YWwiIT09ZSl7dmFyIG49ZT09PUhlP3QuY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUjp0LmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTSU4sbz1lPT09SGU/dC5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUxFQVZFOnQuY29uc3RydWN0b3IuRXZlbnQuRk9DVVNPVVQ7aS5kZWZhdWx0KHQuZWxlbWVudCkub24obix0LmNvbmZpZy5zZWxlY3RvciwoZnVuY3Rpb24oZSl7cmV0dXJuIHQuX2VudGVyKGUpfSkpLm9uKG8sdC5jb25maWcuc2VsZWN0b3IsKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9sZWF2ZShlKX0pKX19KSksdGhpcy5faGlkZU1vZGFsSGFuZGxlcj1mdW5jdGlvbigpe3QuZWxlbWVudCYmdC5oaWRlKCl9LGkuZGVmYXVsdCh0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoIi5tb2RhbCIpLm9uKCJoaWRlLmJzLm1vZGFsIix0aGlzLl9oaWRlTW9kYWxIYW5kbGVyKSx0aGlzLmNvbmZpZy5zZWxlY3Rvcj90aGlzLmNvbmZpZz1hKHt9LHRoaXMuY29uZmlnLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5fZml4VGl0bGUoKX0sZS5fZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgdD10eXBlb2YgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIpOyh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfHwic3RyaW5nIiE9PXQpJiYodGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIsdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8IiIpLHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiIikpfSxlLl9lbnRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7KGU9ZXx8aS5kZWZhdWx0KHQuY3VycmVudFRhcmdldCkuZGF0YShuKSl8fChlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHQuY3VycmVudFRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKSxpLmRlZmF1bHQodC5jdXJyZW50VGFyZ2V0KS5kYXRhKG4sZSkpLHQmJihlLl9hY3RpdmVUcmlnZ2VyWyJmb2N1c2luIj09PXQudHlwZT9NZTpIZV09ITApLGkuZGVmYXVsdChlLmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MoRmUpfHxlLl9ob3ZlclN0YXRlPT09UmU/ZS5faG92ZXJTdGF0ZT1SZTooY2xlYXJUaW1lb3V0KGUuX3RpbWVvdXQpLGUuX2hvdmVyU3RhdGU9UmUsZS5jb25maWcuZGVsYXkmJmUuY29uZmlnLmRlbGF5LnNob3c/ZS5fdGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX2hvdmVyU3RhdGU9PT1SZSYmZS5zaG93KCl9KSxlLmNvbmZpZy5kZWxheS5zaG93KTplLnNob3coKSl9LGUuX2xlYXZlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTsoZT1lfHxpLmRlZmF1bHQodC5jdXJyZW50VGFyZ2V0KS5kYXRhKG4pKXx8KGU9bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLGkuZGVmYXVsdCh0LmN1cnJlbnRUYXJnZXQpLmRhdGEobixlKSksdCYmKGUuX2FjdGl2ZVRyaWdnZXJbImZvY3Vzb3V0Ij09PXQudHlwZT9NZTpIZV09ITEpLGUuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KGNsZWFyVGltZW91dChlLl90aW1lb3V0KSxlLl9ob3ZlclN0YXRlPUJlLGUuY29uZmlnLmRlbGF5JiZlLmNvbmZpZy5kZWxheS5oaWRlP2UuX3RpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLl9ob3ZlclN0YXRlPT09QmUmJmUuaGlkZSgpfSksZS5jb25maWcuZGVsYXkuaGlkZSk6ZS5oaWRlKCkpfSxlLl9pc1dpdGhBY3RpdmVUcmlnZ2VyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpaWYodGhpcy5fYWN0aXZlVHJpZ2dlclt0XSlyZXR1cm4hMDtyZXR1cm4hMX0sZS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe3ZhciBlPWkuZGVmYXVsdCh0aGlzLmVsZW1lbnQpLmRhdGEoKTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTEhPT1MZS5pbmRleE9mKHQpJiZkZWxldGUgZVt0XX0pKSwibnVtYmVyIj09dHlwZW9mKHQ9YSh7fSx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsZSwib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dDp7fSkpLmRlbGF5JiYodC5kZWxheT17c2hvdzp0LmRlbGF5LGhpZGU6dC5kZWxheX0pLCJudW1iZXIiPT10eXBlb2YgdC50aXRsZSYmKHQudGl0bGU9dC50aXRsZS50b1N0cmluZygpKSwibnVtYmVyIj09dHlwZW9mIHQuY29udGVudCYmKHQuY29udGVudD10LmNvbnRlbnQudG9TdHJpbmcoKSksdS50eXBlQ2hlY2tDb25maWcoSWUsdCx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSx0LnNhbml0aXplJiYodC50ZW1wbGF0ZT1rZSh0LnRlbXBsYXRlLHQud2hpdGVMaXN0LHQuc2FuaXRpemVGbikpLHR9LGUuX2dldERlbGVnYXRlQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e307aWYodGhpcy5jb25maWcpZm9yKHZhciBlIGluIHRoaXMuY29uZmlnKXRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFtlXSE9PXRoaXMuY29uZmlnW2VdJiYodFtlXT10aGlzLmNvbmZpZ1tlXSk7cmV0dXJuIHR9LGUuX2NsZWFuVGlwQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQodGhpcy5nZXRUaXBFbGVtZW50KCkpLGU9dC5hdHRyKCJjbGFzcyIpLm1hdGNoKGplKTtudWxsIT09ZSYmZS5sZW5ndGgmJnQucmVtb3ZlQ2xhc3MoZS5qb2luKCIiKSl9LGUuX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZT1mdW5jdGlvbih0KXt0aGlzLnRpcD10Lmluc3RhbmNlLnBvcHBlcix0aGlzLl9jbGVhblRpcENsYXNzKCksdGhpcy5hZGRBdHRhY2htZW50Q2xhc3ModGhpcy5fZ2V0QXR0YWNobWVudCh0LnBsYWNlbWVudCkpfSxlLl9maXhUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRUaXBFbGVtZW50KCksZT10aGlzLmNvbmZpZy5hbmltYXRpb247bnVsbD09PXQuZ2V0QXR0cmlidXRlKCJ4LXBsYWNlbWVudCIpJiYoaS5kZWZhdWx0KHQpLnJlbW92ZUNsYXNzKFBlKSx0aGlzLmNvbmZpZy5hbmltYXRpb249ITEsdGhpcy5oaWRlKCksdGhpcy5zaG93KCksdGhpcy5jb25maWcuYW5pbWF0aW9uPWUpfSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaCgoZnVuY3Rpb24oKXt2YXIgbj1pLmRlZmF1bHQodGhpcyksbz1uLmRhdGEoT2UpLHI9Im9iamVjdCI9PXR5cGVvZiBlJiZlO2lmKChvfHwhL2Rpc3Bvc2V8aGlkZS8udGVzdChlKSkmJihvfHwobz1uZXcgdCh0aGlzLHIpLG4uZGF0YShPZSxvKSksInN0cmluZyI9PXR5cGVvZiBlKSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytlKyciJyk7b1tlXSgpfX0pKX0scih0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjYuMiJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUWV9fSx7a2V5OiJOQU1FIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSWV9fSx7a2V5OiJEQVRBX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE9lfX0se2tleToiRXZlbnQiLGdldDpmdW5jdGlvbigpe3JldHVybiBVZX19LHtrZXk6IkVWRU5UX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIi5icy50b29sdGlwIn19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gV2V9fV0pLHR9KCk7aS5kZWZhdWx0LmZuLnRvb2x0aXA9VmUuX2pRdWVyeUludGVyZmFjZSxpLmRlZmF1bHQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvcj1WZSxpLmRlZmF1bHQuZm4udG9vbHRpcC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5mbi50b29sdGlwPXhlLFZlLl9qUXVlcnlJbnRlcmZhY2V9O3ZhciBZZT0iYnMucG9wb3ZlciIsemU9aS5kZWZhdWx0LmZuLnBvcG92ZXIsS2U9bmV3IFJlZ0V4cCgiKF58XFxzKWJzLXBvcG92ZXJcXFMrIiwiZyIpLFhlPWEoe30sVmUuRGVmYXVsdCx7cGxhY2VtZW50OiJyaWdodCIsdHJpZ2dlcjoiY2xpY2siLGNvbnRlbnQ6IiIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48aDMgY2xhc3M9InBvcG92ZXItaGVhZGVyIj48L2gzPjxkaXYgY2xhc3M9InBvcG92ZXItYm9keSI+PC9kaXY+PC9kaXY+J30pLEdlPWEoe30sVmUuRGVmYXVsdFR5cGUse2NvbnRlbnQ6IihzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbikifSksJGU9e0hJREU6ImhpZGUuYnMucG9wb3ZlciIsSElEREVOOiJoaWRkZW4uYnMucG9wb3ZlciIsU0hPVzoic2hvdy5icy5wb3BvdmVyIixTSE9XTjoic2hvd24uYnMucG9wb3ZlciIsSU5TRVJURUQ6Imluc2VydGVkLmJzLnBvcG92ZXIiLENMSUNLOiJjbGljay5icy5wb3BvdmVyIixGT0NVU0lOOiJmb2N1c2luLmJzLnBvcG92ZXIiLEZPQ1VTT1VUOiJmb2N1c291dC5icy5wb3BvdmVyIixNT1VTRUVOVEVSOiJtb3VzZWVudGVyLmJzLnBvcG92ZXIiLE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUuYnMucG9wb3ZlciJ9LEplPWZ1bmN0aW9uKHQpe3ZhciBlLG47ZnVuY3Rpb24gbygpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31uPXQsKGU9bykucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUscyhlLG4pO3ZhciBhPW8ucHJvdG90eXBlO3JldHVybiBhLmlzV2l0aENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfHx0aGlzLl9nZXRDb250ZW50KCl9LGEuYWRkQXR0YWNobWVudENsYXNzPWZ1bmN0aW9uKHQpe2kuZGVmYXVsdCh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MoImJzLXBvcG92ZXItIit0KX0sYS5nZXRUaXBFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlwPXRoaXMudGlwfHxpLmRlZmF1bHQodGhpcy5jb25maWcudGVtcGxhdGUpWzBdLHRoaXMudGlwfSxhLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQodGhpcy5nZXRUaXBFbGVtZW50KCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKCIucG9wb3Zlci1oZWFkZXIiKSx0aGlzLmdldFRpdGxlKCkpO3ZhciBlPXRoaXMuX2dldENvbnRlbnQoKTsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9ZS5jYWxsKHRoaXMuZWxlbWVudCkpLHRoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKCIucG9wb3Zlci1ib2R5IiksZSksdC5yZW1vdmVDbGFzcygiZmFkZSBzaG93Iil9LGEuX2dldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1jb250ZW50Iil8fHRoaXMuY29uZmlnLmNvbnRlbnR9LGEuX2NsZWFuVGlwQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD1pLmRlZmF1bHQodGhpcy5nZXRUaXBFbGVtZW50KCkpLGU9dC5hdHRyKCJjbGFzcyIpLm1hdGNoKEtlKTtudWxsIT09ZSYmZS5sZW5ndGg+MCYmdC5yZW1vdmVDbGFzcyhlLmpvaW4oIiIpKX0sby5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7dmFyIGU9aS5kZWZhdWx0KHRoaXMpLmRhdGEoWWUpLG49Im9iamVjdCI9PXR5cGVvZiB0P3Q6bnVsbDtpZigoZXx8IS9kaXNwb3NlfGhpZGUvLnRlc3QodCkpJiYoZXx8KGU9bmV3IG8odGhpcyxuKSxpLmRlZmF1bHQodGhpcykuZGF0YShZZSxlKSksInN0cmluZyI9PXR5cGVvZiB0KSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7ZVt0XSgpfX0pKX0scihvLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjYuMiJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWGV9fSx7a2V5OiJOQU1FIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4icG9wb3ZlciJ9fSx7a2V5OiJEQVRBX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFllfX0se2tleToiRXZlbnQiLGdldDpmdW5jdGlvbigpe3JldHVybiAkZX19LHtrZXk6IkVWRU5UX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIi5icy5wb3BvdmVyIn19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gR2V9fV0pLG99KFZlKTtpLmRlZmF1bHQuZm4ucG9wb3Zlcj1KZS5falF1ZXJ5SW50ZXJmYWNlLGkuZGVmYXVsdC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yPUplLGkuZGVmYXVsdC5mbi5wb3BvdmVyLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0LmZuLnBvcG92ZXI9emUsSmUuX2pRdWVyeUludGVyZmFjZX07dmFyIFplPSJzY3JvbGxzcHkiLHRuPSJicy5zY3JvbGxzcHkiLGVuPWkuZGVmYXVsdC5mbltaZV0sbm49ImFjdGl2ZSIsb249InBvc2l0aW9uIixybj0iLm5hdiwgLmxpc3QtZ3JvdXAiLGFuPXtvZmZzZXQ6MTAsbWV0aG9kOiJhdXRvIix0YXJnZXQ6IiJ9LHNuPXtvZmZzZXQ6Im51bWJlciIsbWV0aG9kOiJzdHJpbmciLHRhcmdldDoiKHN0cmluZ3xlbGVtZW50KSJ9LGxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5fZWxlbWVudD10LHRoaXMuX3Njcm9sbEVsZW1lbnQ9IkJPRFkiPT09dC50YWdOYW1lP3dpbmRvdzp0LHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcoZSksdGhpcy5fc2VsZWN0b3I9dGhpcy5fY29uZmlnLnRhcmdldCsiIC5uYXYtbGluaywiK3RoaXMuX2NvbmZpZy50YXJnZXQrIiAubGlzdC1ncm91cC1pdGVtLCIrdGhpcy5fY29uZmlnLnRhcmdldCsiIC5kcm9wZG93bi1pdGVtIix0aGlzLl9vZmZzZXRzPVtdLHRoaXMuX3RhcmdldHM9W10sdGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5fc2Nyb2xsSGVpZ2h0PTAsaS5kZWZhdWx0KHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9uKCJzY3JvbGwuYnMuc2Nyb2xsc3B5IiwoZnVuY3Rpb24odCl7cmV0dXJuIG4uX3Byb2Nlc3ModCl9KSksdGhpcy5yZWZyZXNoKCksdGhpcy5fcHJvY2VzcygpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fc2Nyb2xsRWxlbWVudD09PXRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93PyJvZmZzZXQiOm9uLG49ImF1dG8iPT09dGhpcy5fY29uZmlnLm1ldGhvZD9lOnRoaXMuX2NvbmZpZy5tZXRob2Qsbz1uPT09b24/dGhpcy5fZ2V0U2Nyb2xsVG9wKCk6MDt0aGlzLl9vZmZzZXRzPVtdLHRoaXMuX3RhcmdldHM9W10sdGhpcy5fc2Nyb2xsSGVpZ2h0PXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZWxlY3RvcikpLm1hcCgoZnVuY3Rpb24odCl7dmFyIGUscj11LmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodCk7aWYociYmKGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKSksZSl7dmFyIGE9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihhLndpZHRofHxhLmhlaWdodClyZXR1cm5baS5kZWZhdWx0KGUpW25dKCkudG9wK28scl19cmV0dXJuIG51bGx9KSkuZmlsdGVyKEJvb2xlYW4pLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF0tZVswXX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0Ll9vZmZzZXRzLnB1c2goZVswXSksdC5fdGFyZ2V0cy5wdXNoKGVbMV0pfSkpfSxlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpLmRlZmF1bHQucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LHRuKSxpLmRlZmF1bHQodGhpcy5fc2Nyb2xsRWxlbWVudCkub2ZmKCIuYnMuc2Nyb2xsc3B5IiksdGhpcy5fZWxlbWVudD1udWxsLHRoaXMuX3Njcm9sbEVsZW1lbnQ9bnVsbCx0aGlzLl9jb25maWc9bnVsbCx0aGlzLl9zZWxlY3Rvcj1udWxsLHRoaXMuX29mZnNldHM9bnVsbCx0aGlzLl90YXJnZXRzPW51bGwsdGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5fc2Nyb2xsSGVpZ2h0PW51bGx9LGUuX2dldENvbmZpZz1mdW5jdGlvbih0KXtpZigic3RyaW5nIiE9dHlwZW9mKHQ9YSh7fSxhbiwib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dDp7fSkpLnRhcmdldCYmdS5pc0VsZW1lbnQodC50YXJnZXQpKXt2YXIgZT1pLmRlZmF1bHQodC50YXJnZXQpLmF0dHIoImlkIik7ZXx8KGU9dS5nZXRVSUQoWmUpLGkuZGVmYXVsdCh0LnRhcmdldCkuYXR0cigiaWQiLGUpKSx0LnRhcmdldD0iIyIrZX1yZXR1cm4gdS50eXBlQ2hlY2tDb25maWcoWmUsdCxzbiksdH0sZS5fZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/dGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldDp0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbFRvcH0sZS5fZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX0sZS5fZ2V0T2Zmc2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/d2luZG93LmlubmVySGVpZ2h0OnRoaXMuX3Njcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fSxlLl9wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0U2Nyb2xsVG9wKCkrdGhpcy5fY29uZmlnLm9mZnNldCxlPXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLG49dGhpcy5fY29uZmlnLm9mZnNldCtlLXRoaXMuX2dldE9mZnNldEhlaWdodCgpO2lmKHRoaXMuX3Njcm9sbEhlaWdodCE9PWUmJnRoaXMucmVmcmVzaCgpLHQ+PW4pe3ZhciBpPXRoaXMuX3RhcmdldHNbdGhpcy5fdGFyZ2V0cy5sZW5ndGgtMV07dGhpcy5fYWN0aXZlVGFyZ2V0IT09aSYmdGhpcy5fYWN0aXZhdGUoaSl9ZWxzZXtpZih0aGlzLl9hY3RpdmVUYXJnZXQmJnQ8dGhpcy5fb2Zmc2V0c1swXSYmdGhpcy5fb2Zmc2V0c1swXT4wKXJldHVybiB0aGlzLl9hY3RpdmVUYXJnZXQ9bnVsbCx2b2lkIHRoaXMuX2NsZWFyKCk7Zm9yKHZhciBvPXRoaXMuX29mZnNldHMubGVuZ3RoO28tLTspdGhpcy5fYWN0aXZlVGFyZ2V0IT09dGhpcy5fdGFyZ2V0c1tvXSYmdD49dGhpcy5fb2Zmc2V0c1tvXSYmKCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5fb2Zmc2V0c1tvKzFdfHx0PHRoaXMuX29mZnNldHNbbysxXSkmJnRoaXMuX2FjdGl2YXRlKHRoaXMuX3RhcmdldHNbb10pfX0sZS5fYWN0aXZhdGU9ZnVuY3Rpb24odCl7dGhpcy5fYWN0aXZlVGFyZ2V0PXQsdGhpcy5fY2xlYXIoKTt2YXIgZT10aGlzLl9zZWxlY3Rvci5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUrJ1tkYXRhLXRhcmdldD0iJyt0KyciXSwnK2UrJ1tocmVmPSInK3QrJyJdJ30pKSxuPWkuZGVmYXVsdChbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZS5qb2luKCIsIikpKSk7bi5oYXNDbGFzcygiZHJvcGRvd24taXRlbSIpPyhuLmNsb3Nlc3QoIi5kcm9wZG93biIpLmZpbmQoIi5kcm9wZG93bi10b2dnbGUiKS5hZGRDbGFzcyhubiksbi5hZGRDbGFzcyhubikpOihuLmFkZENsYXNzKG5uKSxuLnBhcmVudHMocm4pLnByZXYoIi5uYXYtbGluaywgLmxpc3QtZ3JvdXAtaXRlbSIpLmFkZENsYXNzKG5uKSxuLnBhcmVudHMocm4pLnByZXYoIi5uYXYtaXRlbSIpLmNoaWxkcmVuKCIubmF2LWxpbmsiKS5hZGRDbGFzcyhubikpLGkuZGVmYXVsdCh0aGlzLl9zY3JvbGxFbGVtZW50KS50cmlnZ2VyKCJhY3RpdmF0ZS5icy5zY3JvbGxzcHkiLHtyZWxhdGVkVGFyZ2V0OnR9KX0sZS5fY2xlYXI9ZnVuY3Rpb24oKXtbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3IpKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsYXNzTGlzdC5jb250YWlucyhubil9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xhc3NMaXN0LnJlbW92ZShubil9KSl9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe3ZhciBuPWkuZGVmYXVsdCh0aGlzKS5kYXRhKHRuKTtpZihufHwobj1uZXcgdCh0aGlzLCJvYmplY3QiPT10eXBlb2YgZSYmZSksaS5kZWZhdWx0KHRoaXMpLmRhdGEodG4sbikpLCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBuW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytlKyciJyk7bltlXSgpfX0pKX0scih0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjYuMiJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYW59fV0pLHR9KCk7aS5kZWZhdWx0KHdpbmRvdykub24oImxvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpIiwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zcHk9InNjcm9sbCJdJykpLGU9dC5sZW5ndGg7ZS0tOyl7dmFyIG49aS5kZWZhdWx0KHRbZV0pO2xuLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChuLG4uZGF0YSgpKX19KSksaS5kZWZhdWx0LmZuW1plXT1sbi5falF1ZXJ5SW50ZXJmYWNlLGkuZGVmYXVsdC5mbltaZV0uQ29uc3RydWN0b3I9bG4saS5kZWZhdWx0LmZuW1plXS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdC5mbltaZV09ZW4sbG4uX2pRdWVyeUludGVyZmFjZX07dmFyIHVuPSJicy50YWIiLGZuPWkuZGVmYXVsdC5mbi50YWIsZG49ImFjdGl2ZSIsY249ImZhZGUiLGhuPSJzaG93Iixwbj0iLmFjdGl2ZSIsbW49Ij4gbGkgPiAuYWN0aXZlIixnbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fZWxlbWVudD10fXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCEodGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmaS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGRuKXx8aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKCJkaXNhYmxlZCIpfHx0aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKSkpe3ZhciBlLG4sbz1pLmRlZmF1bHQodGhpcy5fZWxlbWVudCkuY2xvc2VzdCgiLm5hdiwgLmxpc3QtZ3JvdXAiKVswXSxyPXUuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtpZihvKXt2YXIgYT0iVUwiPT09by5ub2RlTmFtZXx8Ik9MIj09PW8ubm9kZU5hbWU/bW46cG47bj0obj1pLmRlZmF1bHQubWFrZUFycmF5KGkuZGVmYXVsdChvKS5maW5kKGEpKSlbbi5sZW5ndGgtMV19dmFyIHM9aS5kZWZhdWx0LkV2ZW50KCJoaWRlLmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6dGhpcy5fZWxlbWVudH0pLGw9aS5kZWZhdWx0LkV2ZW50KCJzaG93LmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6bn0pO2lmKG4mJmkuZGVmYXVsdChuKS50cmlnZ2VyKHMpLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGwpLCFsLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhcy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7ciYmKGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKSksdGhpcy5fYWN0aXZhdGUodGhpcy5fZWxlbWVudCxvKTt2YXIgZj1mdW5jdGlvbigpe3ZhciBlPWkuZGVmYXVsdC5FdmVudCgiaGlkZGVuLmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6dC5fZWxlbWVudH0pLG89aS5kZWZhdWx0LkV2ZW50KCJzaG93bi5icy50YWIiLHtyZWxhdGVkVGFyZ2V0Om59KTtpLmRlZmF1bHQobikudHJpZ2dlcihlKSxpLmRlZmF1bHQodC5fZWxlbWVudCkudHJpZ2dlcihvKX07ZT90aGlzLl9hY3RpdmF0ZShlLGUucGFyZW50Tm9kZSxmKTpmKCl9fX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aS5kZWZhdWx0LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx1biksdGhpcy5fZWxlbWVudD1udWxsfSxlLl9hY3RpdmF0ZT1mdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyxyPSghZXx8IlVMIiE9PWUubm9kZU5hbWUmJiJPTCIhPT1lLm5vZGVOYW1lP2kuZGVmYXVsdChlKS5jaGlsZHJlbihwbik6aS5kZWZhdWx0KGUpLmZpbmQobW4pKVswXSxhPW4mJnImJmkuZGVmYXVsdChyKS5oYXNDbGFzcyhjbikscz1mdW5jdGlvbigpe3JldHVybiBvLl90cmFuc2l0aW9uQ29tcGxldGUodCxyLG4pfTtpZihyJiZhKXt2YXIgbD11LmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHIpO2kuZGVmYXVsdChyKS5yZW1vdmVDbGFzcyhobikub25lKHUuVFJBTlNJVElPTl9FTkQscykuZW11bGF0ZVRyYW5zaXRpb25FbmQobCl9ZWxzZSBzKCl9LGUuX3RyYW5zaXRpb25Db21wbGV0ZT1mdW5jdGlvbih0LGUsbil7aWYoZSl7aS5kZWZhdWx0KGUpLnJlbW92ZUNsYXNzKGRuKTt2YXIgbz1pLmRlZmF1bHQoZS5wYXJlbnROb2RlKS5maW5kKCI+IC5kcm9wZG93bi1tZW51IC5hY3RpdmUiKVswXTtvJiZpLmRlZmF1bHQobykucmVtb3ZlQ2xhc3MoZG4pLCJ0YWIiPT09ZS5nZXRBdHRyaWJ1dGUoInJvbGUiKSYmZS5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCExKX1pLmRlZmF1bHQodCkuYWRkQ2xhc3MoZG4pLCJ0YWIiPT09dC5nZXRBdHRyaWJ1dGUoInJvbGUiKSYmdC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEwKSx1LnJlZmxvdyh0KSx0LmNsYXNzTGlzdC5jb250YWlucyhjbikmJnQuY2xhc3NMaXN0LmFkZChobik7dmFyIHI9dC5wYXJlbnROb2RlO2lmKHImJiJMSSI9PT1yLm5vZGVOYW1lJiYocj1yLnBhcmVudE5vZGUpLHImJmkuZGVmYXVsdChyKS5oYXNDbGFzcygiZHJvcGRvd24tbWVudSIpKXt2YXIgYT1pLmRlZmF1bHQodCkuY2xvc2VzdCgiLmRyb3Bkb3duIilbMF07aWYoYSl7dmFyIHM9W10uc2xpY2UuY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoIi5kcm9wZG93bi10b2dnbGUiKSk7aS5kZWZhdWx0KHMpLmFkZENsYXNzKGRuKX10LnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApfW4mJm4oKX0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goKGZ1bmN0aW9uKCl7dmFyIG49aS5kZWZhdWx0KHRoaXMpLG89bi5kYXRhKHVuKTtpZihvfHwobz1uZXcgdCh0aGlzKSxuLmRhdGEodW4sbykpLCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBvW2VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytlKyciJyk7b1tlXSgpfX0pKX0scih0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjYuMiJ9fV0pLHR9KCk7aS5kZWZhdWx0KGRvY3VtZW50KS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJ0YWIiXSwgW2RhdGEtdG9nZ2xlPSJwaWxsIl0sIFtkYXRhLXRvZ2dsZT0ibGlzdCJdJywoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGduLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChpLmRlZmF1bHQodGhpcyksInNob3ciKX0pKSxpLmRlZmF1bHQuZm4udGFiPWduLl9qUXVlcnlJbnRlcmZhY2UsaS5kZWZhdWx0LmZuLnRhYi5Db25zdHJ1Y3Rvcj1nbixpLmRlZmF1bHQuZm4udGFiLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0LmZuLnRhYj1mbixnbi5falF1ZXJ5SW50ZXJmYWNlfTt2YXIgX249ImJzLnRvYXN0Iix2bj1pLmRlZmF1bHQuZm4udG9hc3QsYm49ImhpZGUiLHluPSJzaG93IixFbj0ic2hvd2luZyIsd249ImNsaWNrLmRpc21pc3MuYnMudG9hc3QiLFRuPXthbmltYXRpb246ITAsYXV0b2hpZGU6ITAsZGVsYXk6NTAwfSxDbj17YW5pbWF0aW9uOiJib29sZWFuIixhdXRvaGlkZToiYm9vbGVhbiIsZGVsYXk6Im51bWJlciJ9LFNuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX2VsZW1lbnQ9dCx0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKGUpLHRoaXMuX3RpbWVvdXQ9bnVsbCx0aGlzLl9zZXRMaXN0ZW5lcnMoKX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zaG93PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWkuZGVmYXVsdC5FdmVudCgic2hvdy5icy50b2FzdCIpO2lmKGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGUpLCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt0aGlzLl9jbGVhclRpbWVvdXQoKSx0aGlzLl9jb25maWcuYW5pbWF0aW9uJiZ0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoImZhZGUiKTt2YXIgbj1mdW5jdGlvbigpe3QuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShFbiksdC5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKHluKSxpLmRlZmF1bHQodC5fZWxlbWVudCkudHJpZ2dlcigic2hvd24uYnMudG9hc3QiKSx0Ll9jb25maWcuYXV0b2hpZGUmJih0Ll90aW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5oaWRlKCl9KSx0Ll9jb25maWcuZGVsYXkpKX07aWYodGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGJuKSx1LnJlZmxvdyh0aGlzLl9lbGVtZW50KSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoRW4pLHRoaXMuX2NvbmZpZy5hbmltYXRpb24pe3ZhciBvPXUuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uZSh1LlRSQU5TSVRJT05fRU5ELG4pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG8pfWVsc2UgbigpfX0sZS5oaWRlPWZ1bmN0aW9uKCl7aWYodGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoeW4pKXt2YXIgdD1pLmRlZmF1bHQuRXZlbnQoImhpZGUuYnMudG9hc3QiKTtpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkudHJpZ2dlcih0KSx0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLl9jbG9zZSgpfX0sZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUaW1lb3V0KCksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoeW4pJiZ0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoeW4pLGkuZGVmYXVsdCh0aGlzLl9lbGVtZW50KS5vZmYod24pLGkuZGVmYXVsdC5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsX24pLHRoaXMuX2VsZW1lbnQ9bnVsbCx0aGlzLl9jb25maWc9bnVsbH0sZS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe3JldHVybiB0PWEoe30sVG4saS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIHQmJnQ/dDp7fSksdS50eXBlQ2hlY2tDb25maWcoInRvYXN0Iix0LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpLHR9LGUuX3NldExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aS5kZWZhdWx0KHRoaXMuX2VsZW1lbnQpLm9uKHduLCdbZGF0YS1kaXNtaXNzPSJ0b2FzdCJdJywoZnVuY3Rpb24oKXtyZXR1cm4gdC5oaWRlKCl9KSl9LGUuX2Nsb3NlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKCl7dC5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJuKSxpLmRlZmF1bHQodC5fZWxlbWVudCkudHJpZ2dlcigiaGlkZGVuLmJzLnRvYXN0Iil9O2lmKHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh5biksdGhpcy5fY29uZmlnLmFuaW1hdGlvbil7dmFyIG49dS5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtpLmRlZmF1bHQodGhpcy5fZWxlbWVudCkub25lKHUuVFJBTlNJVElPTl9FTkQsZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQobil9ZWxzZSBlKCl9LGUuX2NsZWFyVGltZW91dD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PW51bGx9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKChmdW5jdGlvbigpe3ZhciBuPWkuZGVmYXVsdCh0aGlzKSxvPW4uZGF0YShfbik7aWYob3x8KG89bmV3IHQodGhpcywib2JqZWN0Ij09dHlwZW9mIGUmJmUpLG4uZGF0YShfbixvKSksInN0cmluZyI9PXR5cGVvZiBlKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIG9bZV0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK2UrJyInKTtvW2VdKHRoaXMpfX0pKX0scih0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjYuMiJ9fSx7a2V5OiJEZWZhdWx0VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIENufX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFRufX1dKSx0fSgpO2kuZGVmYXVsdC5mbi50b2FzdD1Tbi5falF1ZXJ5SW50ZXJmYWNlLGkuZGVmYXVsdC5mbi50b2FzdC5Db25zdHJ1Y3Rvcj1TbixpLmRlZmF1bHQuZm4udG9hc3Qubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHQuZm4udG9hc3Q9dm4sU24uX2pRdWVyeUludGVyZmFjZX0sdC5BbGVydD1jLHQuQnV0dG9uPWIsdC5DYXJvdXNlbD1PLHQuQ29sbGFwc2U9Vyx0LkRyb3Bkb3duPWxlLHQuTW9kYWw9U2UsdC5Qb3BvdmVyPUplLHQuU2Nyb2xsc3B5PWxuLHQuVGFiPWduLHQuVG9hc3Q9U24sdC5Ub29sdGlwPVZlLHQuVXRpbD11LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pKTsKLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLmJ1bmRsZS5taW4uanMubWFw"></script>
 <script crossorigin="anonymous" src="data:application/javascript;base64,LyohCiAqIFZ1ZS5qcyB2Mi43LjE0CiAqIChjKSAyMDE0LTIwMjIgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KLyohCiAqIFZ1ZS5qcyB2Mi43LjE0CiAqIChjKSAyMDE0LTIwMjIgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuVnVlPWUoKX0odGhpcywoZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIHQ9T2JqZWN0LmZyZWV6ZSh7fSksZT1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIG4odCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gcih0KXtyZXR1cm4gbnVsbCE9dH1mdW5jdGlvbiBvKHQpe3JldHVybiEwPT09dH1mdW5jdGlvbiBpKHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdHx8Im51bWJlciI9PXR5cGVvZiB0fHwic3ltYm9sIj09dHlwZW9mIHR8fCJib29sZWFuIj09dHlwZW9mIHR9ZnVuY3Rpb24gYSh0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdH1mdW5jdGlvbiBzKHQpe3JldHVybiBudWxsIT09dCYmIm9iamVjdCI9PXR5cGVvZiB0fXZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gdSh0KXtyZXR1cm4iW29iamVjdCBPYmplY3RdIj09PWMuY2FsbCh0KX1mdW5jdGlvbiBsKHQpe3ZhciBlPXBhcnNlRmxvYXQoU3RyaW5nKHQpKTtyZXR1cm4gZT49MCYmTWF0aC5mbG9vcihlKT09PWUmJmlzRmluaXRlKHQpfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHIodCkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LnRoZW4mJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhdGNofWZ1bmN0aW9uIGQodCl7cmV0dXJuIG51bGw9PXQ/IiI6QXJyYXkuaXNBcnJheSh0KXx8dSh0KSYmdC50b1N0cmluZz09PWM/SlNPTi5zdHJpbmdpZnkodCxudWxsLDIpOlN0cmluZyh0KX1mdW5jdGlvbiBwKHQpe3ZhciBlPXBhcnNlRmxvYXQodCk7cmV0dXJuIGlzTmFOKGUpP3Q6ZX1mdW5jdGlvbiB2KHQsZSl7Zm9yKHZhciBuPU9iamVjdC5jcmVhdGUobnVsbCkscj10LnNwbGl0KCIsIiksbz0wO288ci5sZW5ndGg7bysrKW5bcltvXV09ITA7cmV0dXJuIGU/ZnVuY3Rpb24odCl7cmV0dXJuIG5bdC50b0xvd2VyQ2FzZSgpXX06ZnVuY3Rpb24odCl7cmV0dXJuIG5bdF19fXZhciBoPXYoInNsb3QsY29tcG9uZW50IiwhMCksbT12KCJrZXkscmVmLHNsb3Qsc2xvdC1zY29wZSxpcyIpO2Z1bmN0aW9uIGcodCxlKXt2YXIgbj10Lmxlbmd0aDtpZihuKXtpZihlPT09dFtuLTFdKXJldHVybiB2b2lkKHQubGVuZ3RoPW4tMSk7dmFyIHI9dC5pbmRleE9mKGUpO2lmKHI+LTEpcmV0dXJuIHQuc3BsaWNlKHIsMSl9fXZhciB5PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gXyh0LGUpe3JldHVybiB5LmNhbGwodCxlKX1mdW5jdGlvbiBiKHQpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlW25dfHwoZVtuXT10KG4pKX19dmFyICQ9Ly0oXHcpL2csdz1iKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKCQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/ZS50b1VwcGVyQ2FzZSgpOiIifSkpfSkpLHg9YigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKX0pKSxDPS9cQihbQS1aXSkvZyxrPWIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoQywiLSQxIikudG9Mb3dlckNhc2UoKX0pKTt2YXIgUz1GdW5jdGlvbi5wcm90b3R5cGUuYmluZD9mdW5jdGlvbih0LGUpe3JldHVybiB0LmJpbmQoZSl9OmZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO3JldHVybiByP3I+MT90LmFwcGx5KGUsYXJndW1lbnRzKTp0LmNhbGwoZSxuKTp0LmNhbGwoZSl9cmV0dXJuIG4uX2xlbmd0aD10Lmxlbmd0aCxufTtmdW5jdGlvbiBPKHQsZSl7ZT1lfHwwO2Zvcih2YXIgbj10Lmxlbmd0aC1lLHI9bmV3IEFycmF5KG4pO24tLTspcltuXT10W24rZV07cmV0dXJuIHJ9ZnVuY3Rpb24gVCh0LGUpe2Zvcih2YXIgbiBpbiBlKXRbbl09ZVtuXTtyZXR1cm4gdH1mdW5jdGlvbiBBKHQpe2Zvcih2YXIgZT17fSxuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXSYmVChlLHRbbl0pO3JldHVybiBlfWZ1bmN0aW9uIGoodCxlLG4pe312YXIgRT1mdW5jdGlvbih0LGUsbil7cmV0dXJuITF9LE49ZnVuY3Rpb24odCl7cmV0dXJuIHR9O2Z1bmN0aW9uIFAodCxlKXtpZih0PT09ZSlyZXR1cm4hMDt2YXIgbj1zKHQpLHI9cyhlKTtpZighbnx8IXIpcmV0dXJuIW4mJiFyJiZTdHJpbmcodCk9PT1TdHJpbmcoZSk7dHJ5e3ZhciBvPUFycmF5LmlzQXJyYXkodCksaT1BcnJheS5pc0FycmF5KGUpO2lmKG8mJmkpcmV0dXJuIHQubGVuZ3RoPT09ZS5sZW5ndGgmJnQuZXZlcnkoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIFAodCxlW25dKX0pKTtpZih0IGluc3RhbmNlb2YgRGF0ZSYmZSBpbnN0YW5jZW9mIERhdGUpcmV0dXJuIHQuZ2V0VGltZSgpPT09ZS5nZXRUaW1lKCk7aWYob3x8aSlyZXR1cm4hMTt2YXIgYT1PYmplY3Qua2V5cyh0KSxjPU9iamVjdC5rZXlzKGUpO3JldHVybiBhLmxlbmd0aD09PWMubGVuZ3RoJiZhLmV2ZXJ5KChmdW5jdGlvbihuKXtyZXR1cm4gUCh0W25dLGVbbl0pfSkpfWNhdGNoKHQpe3JldHVybiExfX1mdW5jdGlvbiBEKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoUCh0W25dLGUpKXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIE0odCl7dmFyIGU9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7ZXx8KGU9ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBJKHQsZSl7cmV0dXJuIHQ9PT1lPzA9PT10JiYxL3QhPTEvZTp0PT10fHxlPT1lfXZhciBMPSJkYXRhLXNlcnZlci1yZW5kZXJlZCIsUj1bImNvbXBvbmVudCIsImRpcmVjdGl2ZSIsImZpbHRlciJdLEY9WyJiZWZvcmVDcmVhdGUiLCJjcmVhdGVkIiwiYmVmb3JlTW91bnQiLCJtb3VudGVkIiwiYmVmb3JlVXBkYXRlIiwidXBkYXRlZCIsImJlZm9yZURlc3Ryb3kiLCJkZXN0cm95ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsInJlbmRlclRyYWNrZWQiLCJyZW5kZXJUcmlnZ2VyZWQiXSxIPXtvcHRpb25NZXJnZVN0cmF0ZWdpZXM6T2JqZWN0LmNyZWF0ZShudWxsKSxzaWxlbnQ6ITEscHJvZHVjdGlvblRpcDohMSxkZXZ0b29sczohMSxwZXJmb3JtYW5jZTohMSxlcnJvckhhbmRsZXI6bnVsbCx3YXJuSGFuZGxlcjpudWxsLGlnbm9yZWRFbGVtZW50czpbXSxrZXlDb2RlczpPYmplY3QuY3JlYXRlKG51bGwpLGlzUmVzZXJ2ZWRUYWc6RSxpc1Jlc2VydmVkQXR0cjpFLGlzVW5rbm93bkVsZW1lbnQ6RSxnZXRUYWdOYW1lc3BhY2U6aixwYXJzZVBsYXRmb3JtVGFnTmFtZTpOLG11c3RVc2VQcm9wOkUsYXN5bmM6ITAsX2xpZmVjeWNsZUhvb2tzOkZ9LEI9L2EtekEtWlx1MDBCN1x1MDBDMC1cdTAwRDZcdTAwRDgtXHUwMEY2XHUwMEY4LVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDNGLVx1MjA0MFx1MjA3MC1cdTIxOEZcdTJDMDAtXHUyRkVGXHUzMDAxLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkZELztmdW5jdGlvbiBVKHQpe3ZhciBlPSh0KyIiKS5jaGFyQ29kZUF0KDApO3JldHVybiAzNj09PWV8fDk1PT09ZX1mdW5jdGlvbiB6KHQsZSxuLHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse3ZhbHVlOm4sZW51bWVyYWJsZTohIXIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9dmFyIFY9bmV3IFJlZ0V4cCgiW14iLmNvbmNhdChCLnNvdXJjZSwiLiRfXFxkXSIpKTt2YXIgSz0iX19wcm90b19fImlue30sSj0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyxxPUomJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksVz1xJiYvbXNpZXx0cmlkZW50Ly50ZXN0KHEpLFo9cSYmcS5pbmRleE9mKCJtc2llIDkuMCIpPjAsRz1xJiZxLmluZGV4T2YoImVkZ2UvIik+MDtxJiZxLmluZGV4T2YoImFuZHJvaWQiKTt2YXIgWD1xJiYvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QocSk7cSYmL2Nocm9tZVwvXGQrLy50ZXN0KHEpLHEmJi9waGFudG9tanMvLnRlc3QocSk7dmFyIFksUT1xJiZxLm1hdGNoKC9maXJlZm94XC8oXGQrKS8pLHR0PXt9LndhdGNoLGV0PSExO2lmKEopdHJ5e3ZhciBudD17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobnQsInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtldD0hMH19KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdC1wYXNzaXZlIixudWxsLG50KX1jYXRjaCh0KXt9dmFyIHJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PVkmJihZPSFKJiYidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmKGdsb2JhbC5wcm9jZXNzJiYic2VydmVyIj09PWdsb2JhbC5wcm9jZXNzLmVudi5WVUVfRU5WKSksWX0sb3Q9SiYmd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187ZnVuY3Rpb24gaXQodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJi9uYXRpdmUgY29kZS8udGVzdCh0LnRvU3RyaW5nKCkpfXZhciBhdCxzdD0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmaXQoU3ltYm9sKSYmInVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZpdChSZWZsZWN0Lm93bktleXMpO2F0PSJ1bmRlZmluZWQiIT10eXBlb2YgU2V0JiZpdChTZXQpP1NldDpmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnNldD1PYmplY3QuY3JlYXRlKG51bGwpfXJldHVybiB0LnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuITA9PT10aGlzLnNldFt0XX0sdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3RoaXMuc2V0W3RdPSEwfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PU9iamVjdC5jcmVhdGUobnVsbCl9LHR9KCk7dmFyIGN0PW51bGw7ZnVuY3Rpb24gdXQodCl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdHx8Y3QmJmN0Ll9zY29wZS5vZmYoKSxjdD10LHQmJnQuX3Njb3BlLm9uKCl9dmFyIGx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUsbixyLG8saSxhLHMpe3RoaXMudGFnPXQsdGhpcy5kYXRhPWUsdGhpcy5jaGlsZHJlbj1uLHRoaXMudGV4dD1yLHRoaXMuZWxtPW8sdGhpcy5ucz12b2lkIDAsdGhpcy5jb250ZXh0PWksdGhpcy5mbkNvbnRleHQ9dm9pZCAwLHRoaXMuZm5PcHRpb25zPXZvaWQgMCx0aGlzLmZuU2NvcGVJZD12b2lkIDAsdGhpcy5rZXk9ZSYmZS5rZXksdGhpcy5jb21wb25lbnRPcHRpb25zPWEsdGhpcy5jb21wb25lbnRJbnN0YW5jZT12b2lkIDAsdGhpcy5wYXJlbnQ9dm9pZCAwLHRoaXMucmF3PSExLHRoaXMuaXNTdGF0aWM9ITEsdGhpcy5pc1Jvb3RJbnNlcnQ9ITAsdGhpcy5pc0NvbW1lbnQ9ITEsdGhpcy5pc0Nsb25lZD0hMSx0aGlzLmlzT25jZT0hMSx0aGlzLmFzeW5jRmFjdG9yeT1zLHRoaXMuYXN5bmNNZXRhPXZvaWQgMCx0aGlzLmlzQXN5bmNQbGFjZWhvbGRlcj0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCJjaGlsZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudEluc3RhbmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHR9KCksZnQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9IiIpO3ZhciBlPW5ldyBsdDtyZXR1cm4gZS50ZXh0PXQsZS5pc0NvbW1lbnQ9ITAsZX07ZnVuY3Rpb24gZHQodCl7cmV0dXJuIG5ldyBsdCh2b2lkIDAsdm9pZCAwLHZvaWQgMCxTdHJpbmcodCkpfWZ1bmN0aW9uIHB0KHQpe3ZhciBlPW5ldyBsdCh0LnRhZyx0LmRhdGEsdC5jaGlsZHJlbiYmdC5jaGlsZHJlbi5zbGljZSgpLHQudGV4dCx0LmVsbSx0LmNvbnRleHQsdC5jb21wb25lbnRPcHRpb25zLHQuYXN5bmNGYWN0b3J5KTtyZXR1cm4gZS5ucz10Lm5zLGUuaXNTdGF0aWM9dC5pc1N0YXRpYyxlLmtleT10LmtleSxlLmlzQ29tbWVudD10LmlzQ29tbWVudCxlLmZuQ29udGV4dD10LmZuQ29udGV4dCxlLmZuT3B0aW9ucz10LmZuT3B0aW9ucyxlLmZuU2NvcGVJZD10LmZuU2NvcGVJZCxlLmFzeW5jTWV0YT10LmFzeW5jTWV0YSxlLmlzQ2xvbmVkPSEwLGV9dmFyIHZ0PTAsaHQ9W10sbXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5fcGVuZGluZz0hMSx0aGlzLmlkPXZ0KyssdGhpcy5zdWJzPVtdfXJldHVybiB0LnByb3RvdHlwZS5hZGRTdWI9ZnVuY3Rpb24odCl7dGhpcy5zdWJzLnB1c2godCl9LHQucHJvdG90eXBlLnJlbW92ZVN1Yj1mdW5jdGlvbih0KXt0aGlzLnN1YnNbdGhpcy5zdWJzLmluZGV4T2YodCldPW51bGwsdGhpcy5fcGVuZGluZ3x8KHRoaXMuX3BlbmRpbmc9ITAsaHQucHVzaCh0aGlzKSl9LHQucHJvdG90eXBlLmRlcGVuZD1mdW5jdGlvbihlKXt0LnRhcmdldCYmdC50YXJnZXQuYWRkRGVwKHRoaXMpfSx0LnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuc3Vicy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpLG49MCxyPWUubGVuZ3RoO248cjtuKyspe2Vbbl0udXBkYXRlKCl9fSx0fSgpO210LnRhcmdldD1udWxsO3ZhciBndD1bXTtmdW5jdGlvbiB5dCh0KXtndC5wdXNoKHQpLG10LnRhcmdldD10fWZ1bmN0aW9uIF90KCl7Z3QucG9wKCksbXQudGFyZ2V0PWd0W2d0Lmxlbmd0aC0xXX12YXIgYnQ9QXJyYXkucHJvdG90eXBlLCR0PU9iamVjdC5jcmVhdGUoYnQpO1sicHVzaCIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCIsInNwbGljZSIsInNvcnQiLCJyZXZlcnNlIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9YnRbdF07eigkdCx0LChmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyluW3JdPWFyZ3VtZW50c1tyXTt2YXIgbyxpPWUuYXBwbHkodGhpcyxuKSxhPXRoaXMuX19vYl9fO3N3aXRjaCh0KXtjYXNlInB1c2giOmNhc2UidW5zaGlmdCI6bz1uO2JyZWFrO2Nhc2Uic3BsaWNlIjpvPW4uc2xpY2UoMil9cmV0dXJuIG8mJmEub2JzZXJ2ZUFycmF5KG8pLGEuZGVwLm5vdGlmeSgpLGl9KSl9KSk7dmFyIHd0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCR0KSx4dD17fSxDdD0hMDtmdW5jdGlvbiBrdCh0KXtDdD10fXZhciBTdD17bm90aWZ5OmosZGVwZW5kOmosYWRkU3ViOmoscmVtb3ZlU3ViOmp9LE90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4scil7aWYodm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PXImJihyPSExKSx0aGlzLnZhbHVlPXQsdGhpcy5zaGFsbG93PW4sdGhpcy5tb2NrPXIsdGhpcy5kZXA9cj9TdDpuZXcgbXQsdGhpcy52bUNvdW50PTAseih0LCJfX29iX18iLHRoaXMpLGUodCkpe2lmKCFyKWlmKEspdC5fX3Byb3RvX189JHQ7ZWxzZSBmb3IodmFyIG89MCxpPXd0Lmxlbmd0aDtvPGk7bysrKXt6KHQscz13dFtvXSwkdFtzXSl9bnx8dGhpcy5vYnNlcnZlQXJyYXkodCl9ZWxzZXt2YXIgYT1PYmplY3Qua2V5cyh0KTtmb3Iobz0wO288YS5sZW5ndGg7bysrKXt2YXIgcztBdCh0LHM9YVtvXSx4dCx2b2lkIDAsbixyKX19fXJldHVybiB0LnByb3RvdHlwZS5vYnNlcnZlQXJyYXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10Lmxlbmd0aDtlPG47ZSsrKVR0KHRbZV0sITEsdGhpcy5tb2NrKX0sdH0oKTtmdW5jdGlvbiBUdCh0LG4scil7cmV0dXJuIHQmJl8odCwiX19vYl9fIikmJnQuX19vYl9fIGluc3RhbmNlb2YgT3Q/dC5fX29iX186IUN0fHwhciYmcnQoKXx8IWUodCkmJiF1KHQpfHwhT2JqZWN0LmlzRXh0ZW5zaWJsZSh0KXx8dC5fX3Zfc2tpcHx8RnQodCl8fHQgaW5zdGFuY2VvZiBsdD92b2lkIDA6bmV3IE90KHQsbixyKX1mdW5jdGlvbiBBdCh0LG4scixvLGksYSl7dmFyIHM9bmV3IG10LGM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pO2lmKCFjfHwhMSE9PWMuY29uZmlndXJhYmxlKXt2YXIgdT1jJiZjLmdldCxsPWMmJmMuc2V0O3UmJiFsfHxyIT09eHQmJjIhPT1hcmd1bWVudHMubGVuZ3RofHwocj10W25dKTt2YXIgZj0haSYmVHQociwhMSxhKTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIG49dT91LmNhbGwodCk6cjtyZXR1cm4gbXQudGFyZ2V0JiYocy5kZXBlbmQoKSxmJiYoZi5kZXAuZGVwZW5kKCksZShuKSYmTnQobikpKSxGdChuKSYmIWk/bi52YWx1ZTpufSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIG49dT91LmNhbGwodCk6cjtpZihJKG4sZSkpe2lmKGwpbC5jYWxsKHQsZSk7ZWxzZXtpZih1KXJldHVybjtpZighaSYmRnQobikmJiFGdChlKSlyZXR1cm4gdm9pZChuLnZhbHVlPWUpO3I9ZX1mPSFpJiZUdChlLCExLGEpLHMubm90aWZ5KCl9fX0pLHN9fWZ1bmN0aW9uIGp0KHQsbixyKXtpZighTHQodCkpe3ZhciBvPXQuX19vYl9fO3JldHVybiBlKHQpJiZsKG4pPyh0Lmxlbmd0aD1NYXRoLm1heCh0Lmxlbmd0aCxuKSx0LnNwbGljZShuLDEsciksbyYmIW8uc2hhbGxvdyYmby5tb2NrJiZUdChyLCExLCEwKSxyKTpuIGluIHQmJiEobiBpbiBPYmplY3QucHJvdG90eXBlKT8odFtuXT1yLHIpOnQuX2lzVnVlfHxvJiZvLnZtQ291bnQ/cjpvPyhBdChvLnZhbHVlLG4scix2b2lkIDAsby5zaGFsbG93LG8ubW9jayksby5kZXAubm90aWZ5KCkscik6KHRbbl09cixyKX19ZnVuY3Rpb24gRXQodCxuKXtpZihlKHQpJiZsKG4pKXQuc3BsaWNlKG4sMSk7ZWxzZXt2YXIgcj10Ll9fb2JfXzt0Ll9pc1Z1ZXx8ciYmci52bUNvdW50fHxMdCh0KXx8Xyh0LG4pJiYoZGVsZXRlIHRbbl0sciYmci5kZXAubm90aWZ5KCkpfX1mdW5jdGlvbiBOdCh0KXtmb3IodmFyIG49dm9pZCAwLHI9MCxvPXQubGVuZ3RoO3I8bztyKyspKG49dFtyXSkmJm4uX19vYl9fJiZuLl9fb2JfXy5kZXAuZGVwZW5kKCksZShuKSYmTnQobil9ZnVuY3Rpb24gUHQodCl7cmV0dXJuIER0KHQsITApLHoodCwiX192X2lzU2hhbGxvdyIsITApLHR9ZnVuY3Rpb24gRHQodCxlKXtMdCh0KXx8VHQodCxlLHJ0KCkpfWZ1bmN0aW9uIE10KHQpe3JldHVybiBMdCh0KT9NdCh0Ll9fdl9yYXcpOiEoIXR8fCF0Ll9fb2JfXyl9ZnVuY3Rpb24gSXQodCl7cmV0dXJuISghdHx8IXQuX192X2lzU2hhbGxvdyl9ZnVuY3Rpb24gTHQodCl7cmV0dXJuISghdHx8IXQuX192X2lzUmVhZG9ubHkpfXZhciBSdD0iX192X2lzUmVmIjtmdW5jdGlvbiBGdCh0KXtyZXR1cm4hKCF0fHwhMCE9PXQuX192X2lzUmVmKX1mdW5jdGlvbiBIdCh0LGUpe2lmKEZ0KHQpKXJldHVybiB0O3ZhciBuPXt9O3JldHVybiB6KG4sUnQsITApLHoobiwiX192X2lzU2hhbGxvdyIsZSkseihuLCJkZXAiLEF0KG4sInZhbHVlIix0LG51bGwsZSxydCgpKSksbn1mdW5jdGlvbiBCdCh0LGUsbil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZVtuXTtpZihGdCh0KSlyZXR1cm4gdC52YWx1ZTt2YXIgcj10JiZ0Ll9fb2JfXztyZXR1cm4gciYmci5kZXAuZGVwZW5kKCksdH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPWVbbl07RnQocikmJiFGdCh0KT9yLnZhbHVlPXQ6ZVtuXT10fX0pfWZ1bmN0aW9uIFV0KHQsZSxuKXt2YXIgcj10W2VdO2lmKEZ0KHIpKXJldHVybiByO3ZhciBvPXtnZXQgdmFsdWUoKXt2YXIgcj10W2VdO3JldHVybiB2b2lkIDA9PT1yP246cn0sc2V0IHZhbHVlKG4pe3RbZV09bn19O3JldHVybiB6KG8sUnQsITApLG99ZnVuY3Rpb24genQodCl7cmV0dXJuIFZ0KHQsITEpfWZ1bmN0aW9uIFZ0KHQsZSl7aWYoIXUodCkpcmV0dXJuIHQ7aWYoTHQodCkpcmV0dXJuIHQ7dmFyIG49ZT8iX192X3Jhd1RvU2hhbGxvd1JlYWRvbmx5IjoiX192X3Jhd1RvUmVhZG9ubHkiLHI9dFtuXTtpZihyKXJldHVybiByO3ZhciBvPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKTt6KHQsbixvKSx6KG8sIl9fdl9pc1JlYWRvbmx5IiwhMCkseihvLCJfX3ZfcmF3Iix0KSxGdCh0KSYmeihvLFJ0LCEwKSwoZXx8SXQodCkpJiZ6KG8sIl9fdl9pc1NoYWxsb3ciLCEwKTtmb3IodmFyIGk9T2JqZWN0LmtleXModCksYT0wO2E8aS5sZW5ndGg7YSsrKUt0KG8sdCxpW2FdLGUpO3JldHVybiBvfWZ1bmN0aW9uIEt0KHQsZSxuLHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PWVbbl07cmV0dXJuIHJ8fCF1KHQpP3Q6enQodCl9LHNldDpmdW5jdGlvbigpe319KX12YXIgSnQ9YigoZnVuY3Rpb24odCl7dmFyIGU9IiYiPT09dC5jaGFyQXQoMCksbj0ifiI9PT0odD1lP3Quc2xpY2UoMSk6dCkuY2hhckF0KDApLHI9IiEiPT09KHQ9bj90LnNsaWNlKDEpOnQpLmNoYXJBdCgwKTtyZXR1cm57bmFtZTp0PXI/dC5zbGljZSgxKTp0LG9uY2U6bixjYXB0dXJlOnIscGFzc2l2ZTplfX0pKTtmdW5jdGlvbiBxdCh0LG4pe2Z1bmN0aW9uIHIoKXt2YXIgdD1yLmZucztpZighZSh0KSlyZXR1cm4gZG4odCxudWxsLGFyZ3VtZW50cyxuLCJ2LW9uIGhhbmRsZXIiKTtmb3IodmFyIG89dC5zbGljZSgpLGk9MDtpPG8ubGVuZ3RoO2krKylkbihvW2ldLG51bGwsYXJndW1lbnRzLG4sInYtb24gaGFuZGxlciIpfXJldHVybiByLmZucz10LHJ9ZnVuY3Rpb24gV3QodCxlLHIsaSxhLHMpe3ZhciBjLHUsbCxmO2ZvcihjIGluIHQpdT10W2NdLGw9ZVtjXSxmPUp0KGMpLG4odSl8fChuKGwpPyhuKHUuZm5zKSYmKHU9dFtjXT1xdCh1LHMpKSxvKGYub25jZSkmJih1PXRbY109YShmLm5hbWUsdSxmLmNhcHR1cmUpKSxyKGYubmFtZSx1LGYuY2FwdHVyZSxmLnBhc3NpdmUsZi5wYXJhbXMpKTp1IT09bCYmKGwuZm5zPXUsdFtjXT1sKSk7Zm9yKGMgaW4gZSluKHRbY10pJiZpKChmPUp0KGMpKS5uYW1lLGVbY10sZi5jYXB0dXJlKX1mdW5jdGlvbiBadCh0LGUsaSl7dmFyIGE7dCBpbnN0YW5jZW9mIGx0JiYodD10LmRhdGEuaG9va3x8KHQuZGF0YS5ob29rPXt9KSk7dmFyIHM9dFtlXTtmdW5jdGlvbiBjKCl7aS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZyhhLmZucyxjKX1uKHMpP2E9cXQoW2NdKTpyKHMuZm5zKSYmbyhzLm1lcmdlZCk/KGE9cykuZm5zLnB1c2goYyk6YT1xdChbcyxjXSksYS5tZXJnZWQ9ITAsdFtlXT1hfWZ1bmN0aW9uIEd0KHQsZSxuLG8saSl7aWYocihlKSl7aWYoXyhlLG4pKXJldHVybiB0W25dPWVbbl0saXx8ZGVsZXRlIGVbbl0sITA7aWYoXyhlLG8pKXJldHVybiB0W25dPWVbb10saXx8ZGVsZXRlIGVbb10sITB9cmV0dXJuITF9ZnVuY3Rpb24gWHQodCl7cmV0dXJuIGkodCk/W2R0KHQpXTplKHQpP1F0KHQpOnZvaWQgMH1mdW5jdGlvbiBZdCh0KXtyZXR1cm4gcih0KSYmcih0LnRleHQpJiYhMT09PXQuaXNDb21tZW50fWZ1bmN0aW9uIFF0KHQsYSl7dmFyIHMsYyx1LGwsZj1bXTtmb3Iocz0wO3M8dC5sZW5ndGg7cysrKW4oYz10W3NdKXx8ImJvb2xlYW4iPT10eXBlb2YgY3x8KGw9Zlt1PWYubGVuZ3RoLTFdLGUoYyk/Yy5sZW5ndGg+MCYmKFl0KChjPVF0KGMsIiIuY29uY2F0KGF8fCIiLCJfIikuY29uY2F0KHMpKSlbMF0pJiZZdChsKSYmKGZbdV09ZHQobC50ZXh0K2NbMF0udGV4dCksYy5zaGlmdCgpKSxmLnB1c2guYXBwbHkoZixjKSk6aShjKT9ZdChsKT9mW3VdPWR0KGwudGV4dCtjKToiIiE9PWMmJmYucHVzaChkdChjKSk6WXQoYykmJll0KGwpP2ZbdV09ZHQobC50ZXh0K2MudGV4dCk6KG8odC5faXNWTGlzdCkmJnIoYy50YWcpJiZuKGMua2V5KSYmcihhKSYmKGMua2V5PSJfX3ZsaXN0Ii5jb25jYXQoYSwiXyIpLmNvbmNhdChzLCJfXyIpKSxmLnB1c2goYykpKTtyZXR1cm4gZn1mdW5jdGlvbiB0ZSh0LG4sYyx1LGwsZil7cmV0dXJuKGUoYyl8fGkoYykpJiYobD11LHU9YyxjPXZvaWQgMCksbyhmKSYmKGw9MiksZnVuY3Rpb24odCxuLG8saSxjKXtpZihyKG8pJiZyKG8uX19vYl9fKSlyZXR1cm4gZnQoKTtyKG8pJiZyKG8uaXMpJiYobj1vLmlzKTtpZighbilyZXR1cm4gZnQoKTtlKGkpJiZhKGlbMF0pJiYoKG89b3x8e30pLnNjb3BlZFNsb3RzPXtkZWZhdWx0OmlbMF19LGkubGVuZ3RoPTApOzI9PT1jP2k9WHQoaSk6MT09PWMmJihpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKGUodFtuXSkpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sdCk7cmV0dXJuIHR9KGkpKTt2YXIgdSxsO2lmKCJzdHJpbmciPT10eXBlb2Ygbil7dmFyIGY9dm9pZCAwO2w9dC4kdm5vZGUmJnQuJHZub2RlLm5zfHxILmdldFRhZ05hbWVzcGFjZShuKSx1PUguaXNSZXNlcnZlZFRhZyhuKT9uZXcgbHQoSC5wYXJzZVBsYXRmb3JtVGFnTmFtZShuKSxvLGksdm9pZCAwLHZvaWQgMCx0KTpvJiZvLnByZXx8IXIoZj15cih0LiRvcHRpb25zLCJjb21wb25lbnRzIixuKSk/bmV3IGx0KG4sbyxpLHZvaWQgMCx2b2lkIDAsdCk6Y3IoZixvLHQsaSxuKX1lbHNlIHU9Y3IobixvLHQsaSk7cmV0dXJuIGUodSk/dTpyKHUpPyhyKGwpJiZlZSh1LGwpLHIobykmJmZ1bmN0aW9uKHQpe3ModC5zdHlsZSkmJkJuKHQuc3R5bGUpO3ModC5jbGFzcykmJkJuKHQuY2xhc3MpfShvKSx1KTpmdCgpfSh0LG4sYyx1LGwpfWZ1bmN0aW9uIGVlKHQsZSxpKXtpZih0Lm5zPWUsImZvcmVpZ25PYmplY3QiPT09dC50YWcmJihlPXZvaWQgMCxpPSEwKSxyKHQuY2hpbGRyZW4pKWZvcih2YXIgYT0wLHM9dC5jaGlsZHJlbi5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9dC5jaGlsZHJlblthXTtyKGMudGFnKSYmKG4oYy5ucyl8fG8oaSkmJiJzdmciIT09Yy50YWcpJiZlZShjLGUsaSl9fWZ1bmN0aW9uIG5lKHQsbil7dmFyIG8saSxhLGMsdT1udWxsO2lmKGUodCl8fCJzdHJpbmciPT10eXBlb2YgdClmb3IodT1uZXcgQXJyYXkodC5sZW5ndGgpLG89MCxpPXQubGVuZ3RoO288aTtvKyspdVtvXT1uKHRbb10sbyk7ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIHQpZm9yKHU9bmV3IEFycmF5KHQpLG89MDtvPHQ7bysrKXVbb109bihvKzEsbyk7ZWxzZSBpZihzKHQpKWlmKHN0JiZ0W1N5bWJvbC5pdGVyYXRvcl0pe3U9W107Zm9yKHZhciBsPXRbU3ltYm9sLml0ZXJhdG9yXSgpLGY9bC5uZXh0KCk7IWYuZG9uZTspdS5wdXNoKG4oZi52YWx1ZSx1Lmxlbmd0aCkpLGY9bC5uZXh0KCl9ZWxzZSBmb3IoYT1PYmplY3Qua2V5cyh0KSx1PW5ldyBBcnJheShhLmxlbmd0aCksbz0wLGk9YS5sZW5ndGg7bzxpO28rKyljPWFbb10sdVtvXT1uKHRbY10sYyxvKTtyZXR1cm4gcih1KXx8KHU9W10pLHUuX2lzVkxpc3Q9ITAsdX1mdW5jdGlvbiByZSh0LGUsbixyKXt2YXIgbyxpPXRoaXMuJHNjb3BlZFNsb3RzW3RdO2k/KG49bnx8e30sciYmKG49VChUKHt9LHIpLG4pKSxvPWkobil8fChhKGUpP2UoKTplKSk6bz10aGlzLiRzbG90c1t0XXx8KGEoZSk/ZSgpOmUpO3ZhciBzPW4mJm4uc2xvdDtyZXR1cm4gcz90aGlzLiRjcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIse3Nsb3Q6c30sbyk6b31mdW5jdGlvbiBvZSh0KXtyZXR1cm4geXIodGhpcy4kb3B0aW9ucywiZmlsdGVycyIsdCl8fE59ZnVuY3Rpb24gaWUodCxuKXtyZXR1cm4gZSh0KT8tMT09PXQuaW5kZXhPZihuKTp0IT09bn1mdW5jdGlvbiBhZSh0LGUsbixyLG8pe3ZhciBpPUgua2V5Q29kZXNbZV18fG47cmV0dXJuIG8mJnImJiFILmtleUNvZGVzW2VdP2llKG8scik6aT9pZShpLHQpOnI/ayhyKSE9PWU6dm9pZCAwPT09dH1mdW5jdGlvbiBzZSh0LG4scixvLGkpe2lmKHIpaWYocyhyKSl7ZShyKSYmKHI9QShyKSk7dmFyIGE9dm9pZCAwLGM9ZnVuY3Rpb24oZSl7aWYoImNsYXNzIj09PWV8fCJzdHlsZSI9PT1lfHxtKGUpKWE9dDtlbHNle3ZhciBzPXQuYXR0cnMmJnQuYXR0cnMudHlwZTthPW98fEgubXVzdFVzZVByb3AobixzLGUpP3QuZG9tUHJvcHN8fCh0LmRvbVByb3BzPXt9KTp0LmF0dHJzfHwodC5hdHRycz17fSl9dmFyIGM9dyhlKSx1PWsoZSk7YyBpbiBhfHx1IGluIGF8fChhW2VdPXJbZV0saSYmKCh0Lm9ufHwodC5vbj17fSkpWyJ1cGRhdGU6Ii5jb25jYXQoZSldPWZ1bmN0aW9uKHQpe3JbZV09dH0pKX07Zm9yKHZhciB1IGluIHIpYyh1KX1lbHNlO3JldHVybiB0fWZ1bmN0aW9uIGNlKHQsZSl7dmFyIG49dGhpcy5fc3RhdGljVHJlZXN8fCh0aGlzLl9zdGF0aWNUcmVlcz1bXSkscj1uW3RdO3JldHVybiByJiYhZXx8bGUocj1uW3RdPXRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW3RdLmNhbGwodGhpcy5fcmVuZGVyUHJveHksdGhpcy5fYyx0aGlzKSwiX19zdGF0aWNfXyIuY29uY2F0KHQpLCExKSxyfWZ1bmN0aW9uIHVlKHQsZSxuKXtyZXR1cm4gbGUodCwiX19vbmNlX18iLmNvbmNhdChlKS5jb25jYXQobj8iXyIuY29uY2F0KG4pOiIiKSwhMCksdH1mdW5jdGlvbiBsZSh0LG4scil7aWYoZSh0KSlmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl0W29dJiYic3RyaW5nIiE9dHlwZW9mIHRbb10mJmZlKHRbb10sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQobykscik7ZWxzZSBmZSh0LG4scil9ZnVuY3Rpb24gZmUodCxlLG4pe3QuaXNTdGF0aWM9ITAsdC5rZXk9ZSx0LmlzT25jZT1ufWZ1bmN0aW9uIGRlKHQsZSl7aWYoZSlpZih1KGUpKXt2YXIgbj10Lm9uPXQub24/VCh7fSx0Lm9uKTp7fTtmb3IodmFyIHIgaW4gZSl7dmFyIG89bltyXSxpPWVbcl07bltyXT1vP1tdLmNvbmNhdChvLGkpOml9fWVsc2U7cmV0dXJuIHR9ZnVuY3Rpb24gcGUodCxuLHIsbyl7bj1ufHx7JHN0YWJsZTohcn07Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBhPXRbaV07ZShhKT9wZShhLG4scik6YSYmKGEucHJveHkmJihhLmZuLnByb3h5PSEwKSxuW2Eua2V5XT1hLmZuKX1yZXR1cm4gbyYmKG4uJGtleT1vKSxufWZ1bmN0aW9uIHZlKHQsZSl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0yKXt2YXIgcj1lW25dOyJzdHJpbmciPT10eXBlb2YgciYmciYmKHRbZVtuXV09ZVtuKzFdKX1yZXR1cm4gdH1mdW5jdGlvbiBoZSh0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdD9lK3Q6dH1mdW5jdGlvbiBtZSh0KXt0Ll9vPXVlLHQuX249cCx0Ll9zPWQsdC5fbD1uZSx0Ll90PXJlLHQuX3E9UCx0Ll9pPUQsdC5fbT1jZSx0Ll9mPW9lLHQuX2s9YWUsdC5fYj1zZSx0Ll92PWR0LHQuX2U9ZnQsdC5fdT1wZSx0Ll9nPWRlLHQuX2Q9dmUsdC5fcD1oZX1mdW5jdGlvbiBnZSh0LGUpe2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJue307Zm9yKHZhciBuPXt9LHI9MCxvPXQubGVuZ3RoO3I8bztyKyspe3ZhciBpPXRbcl0sYT1pLmRhdGE7aWYoYSYmYS5hdHRycyYmYS5hdHRycy5zbG90JiZkZWxldGUgYS5hdHRycy5zbG90LGkuY29udGV4dCE9PWUmJmkuZm5Db250ZXh0IT09ZXx8IWF8fG51bGw9PWEuc2xvdCkobi5kZWZhdWx0fHwobi5kZWZhdWx0PVtdKSkucHVzaChpKTtlbHNle3ZhciBzPWEuc2xvdCxjPW5bc118fChuW3NdPVtdKTsidGVtcGxhdGUiPT09aS50YWc/Yy5wdXNoLmFwcGx5KGMsaS5jaGlsZHJlbnx8W10pOmMucHVzaChpKX19Zm9yKHZhciB1IGluIG4pblt1XS5ldmVyeSh5ZSkmJmRlbGV0ZSBuW3VdO3JldHVybiBufWZ1bmN0aW9uIHllKHQpe3JldHVybiB0LmlzQ29tbWVudCYmIXQuYXN5bmNGYWN0b3J5fHwiICI9PT10LnRleHR9ZnVuY3Rpb24gX2UodCl7cmV0dXJuIHQuaXNDb21tZW50JiZ0LmFzeW5jRmFjdG9yeX1mdW5jdGlvbiBiZShlLG4scixvKXt2YXIgaSxhPU9iamVjdC5rZXlzKHIpLmxlbmd0aD4wLHM9bj8hIW4uJHN0YWJsZTohYSxjPW4mJm4uJGtleTtpZihuKXtpZihuLl9ub3JtYWxpemVkKXJldHVybiBuLl9ub3JtYWxpemVkO2lmKHMmJm8mJm8hPT10JiZjPT09by4ka2V5JiYhYSYmIW8uJGhhc05vcm1hbClyZXR1cm4gbztmb3IodmFyIHUgaW4gaT17fSxuKW5bdV0mJiIkIiE9PXVbMF0mJihpW3VdPSRlKGUscix1LG5bdV0pKX1lbHNlIGk9e307Zm9yKHZhciBsIGluIHIpbCBpbiBpfHwoaVtsXT13ZShyLGwpKTtyZXR1cm4gbiYmT2JqZWN0LmlzRXh0ZW5zaWJsZShuKSYmKG4uX25vcm1hbGl6ZWQ9aSkseihpLCIkc3RhYmxlIixzKSx6KGksIiRrZXkiLGMpLHooaSwiJGhhc05vcm1hbCIsYSksaX1mdW5jdGlvbiAkZSh0LG4scixvKXt2YXIgaT1mdW5jdGlvbigpe3ZhciBuPWN0O3V0KHQpO3ZhciByPWFyZ3VtZW50cy5sZW5ndGg/by5hcHBseShudWxsLGFyZ3VtZW50cyk6byh7fSksaT0ocj1yJiYib2JqZWN0Ij09dHlwZW9mIHImJiFlKHIpP1tyXTpYdChyKSkmJnJbMF07cmV0dXJuIHV0KG4pLHImJighaXx8MT09PXIubGVuZ3RoJiZpLmlzQ29tbWVudCYmIV9lKGkpKT92b2lkIDA6cn07cmV0dXJuIG8ucHJveHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHIse2dldDppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksaX1mdW5jdGlvbiB3ZSh0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0W2VdfX1mdW5jdGlvbiB4ZShlKXtyZXR1cm57Z2V0IGF0dHJzKCl7aWYoIWUuX2F0dHJzUHJveHkpe3ZhciBuPWUuX2F0dHJzUHJveHk9e307eihuLCJfdl9hdHRyX3Byb3h5IiwhMCksQ2UobixlLiRhdHRycyx0LGUsIiRhdHRycyIpfXJldHVybiBlLl9hdHRyc1Byb3h5fSxnZXQgbGlzdGVuZXJzKCl7ZS5fbGlzdGVuZXJzUHJveHl8fENlKGUuX2xpc3RlbmVyc1Byb3h5PXt9LGUuJGxpc3RlbmVycyx0LGUsIiRsaXN0ZW5lcnMiKTtyZXR1cm4gZS5fbGlzdGVuZXJzUHJveHl9LGdldCBzbG90cygpe3JldHVybiBmdW5jdGlvbih0KXt0Ll9zbG90c1Byb3h5fHxTZSh0Ll9zbG90c1Byb3h5PXt9LHQuJHNjb3BlZFNsb3RzKTtyZXR1cm4gdC5fc2xvdHNQcm94eX0oZSl9LGVtaXQ6UyhlLiRlbWl0LGUpLGV4cG9zZTpmdW5jdGlvbih0KXt0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4gQnQoZSx0LG4pfSkpfX19ZnVuY3Rpb24gQ2UodCxlLG4scixvKXt2YXIgaT0hMTtmb3IodmFyIGEgaW4gZSlhIGluIHQ/ZVthXSE9PW5bYV0mJihpPSEwKTooaT0hMCxrZSh0LGEscixvKSk7Zm9yKHZhciBhIGluIHQpYSBpbiBlfHwoaT0hMCxkZWxldGUgdFthXSk7cmV0dXJuIGl9ZnVuY3Rpb24ga2UodCxlLG4scil7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5bcl1bZV19fSl9ZnVuY3Rpb24gU2UodCxlKXtmb3IodmFyIG4gaW4gZSl0W25dPWVbbl07Zm9yKHZhciBuIGluIHQpbiBpbiBlfHxkZWxldGUgdFtuXX1mdW5jdGlvbiBPZSgpe3ZhciB0PWN0O3JldHVybiB0Ll9zZXR1cENvbnRleHR8fCh0Ll9zZXR1cENvbnRleHQ9eGUodCkpfXZhciBUZSxBZT1udWxsO2Z1bmN0aW9uIGplKHQsZSl7cmV0dXJuKHQuX19lc01vZHVsZXx8c3QmJiJNb2R1bGUiPT09dFtTeW1ib2wudG9TdHJpbmdUYWddKSYmKHQ9dC5kZWZhdWx0KSxzKHQpP2UuZXh0ZW5kKHQpOnR9ZnVuY3Rpb24gRWUodCl7aWYoZSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtpZihyKG8pJiYocihvLmNvbXBvbmVudE9wdGlvbnMpfHxfZShvKSkpcmV0dXJuIG99fWZ1bmN0aW9uIE5lKHQsZSl7VGUuJG9uKHQsZSl9ZnVuY3Rpb24gUGUodCxlKXtUZS4kb2ZmKHQsZSl9ZnVuY3Rpb24gRGUodCxlKXt2YXIgbj1UZTtyZXR1cm4gZnVuY3Rpb24gcigpe3ZhciBvPWUuYXBwbHkobnVsbCxhcmd1bWVudHMpO251bGwhPT1vJiZuLiRvZmYodCxyKX19ZnVuY3Rpb24gTWUodCxlLG4pe1RlPXQsV3QoZSxufHx7fSxOZSxQZSxEZSx0KSxUZT12b2lkIDB9dmFyIEllPW51bGw7ZnVuY3Rpb24gTGUodCl7dmFyIGU9SWU7cmV0dXJuIEllPXQsZnVuY3Rpb24oKXtJZT1lfX1mdW5jdGlvbiBSZSh0KXtmb3IoO3QmJih0PXQuJHBhcmVudCk7KWlmKHQuX2luYWN0aXZlKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEZlKHQsZSl7aWYoZSl7aWYodC5fZGlyZWN0SW5hY3RpdmU9ITEsUmUodCkpcmV0dXJufWVsc2UgaWYodC5fZGlyZWN0SW5hY3RpdmUpcmV0dXJuO2lmKHQuX2luYWN0aXZlfHxudWxsPT09dC5faW5hY3RpdmUpe3QuX2luYWN0aXZlPSExO2Zvcih2YXIgbj0wO248dC4kY2hpbGRyZW4ubGVuZ3RoO24rKylGZSh0LiRjaGlsZHJlbltuXSk7QmUodCwiYWN0aXZhdGVkIil9fWZ1bmN0aW9uIEhlKHQsZSl7aWYoIShlJiYodC5fZGlyZWN0SW5hY3RpdmU9ITAsUmUodCkpfHx0Ll9pbmFjdGl2ZSkpe3QuX2luYWN0aXZlPSEwO2Zvcih2YXIgbj0wO248dC4kY2hpbGRyZW4ubGVuZ3RoO24rKylIZSh0LiRjaGlsZHJlbltuXSk7QmUodCwiZGVhY3RpdmF0ZWQiKX19ZnVuY3Rpb24gQmUodCxlLG4scil7dm9pZCAwPT09ciYmKHI9ITApLHl0KCk7dmFyIG89Y3Q7ciYmdXQodCk7dmFyIGk9dC4kb3B0aW9uc1tlXSxhPSIiLmNvbmNhdChlLCIgaG9vayIpO2lmKGkpZm9yKHZhciBzPTAsYz1pLmxlbmd0aDtzPGM7cysrKWRuKGlbc10sdCxufHxudWxsLHQsYSk7dC5faGFzSG9va0V2ZW50JiZ0LiRlbWl0KCJob29rOiIrZSksciYmdXQobyksX3QoKX12YXIgVWU9W10semU9W10sVmU9e30sS2U9ITEsSmU9ITEscWU9MDt2YXIgV2U9MCxaZT1EYXRlLm5vdztpZihKJiYhVyl7dmFyIEdlPXdpbmRvdy5wZXJmb3JtYW5jZTtHZSYmImZ1bmN0aW9uIj09dHlwZW9mIEdlLm5vdyYmWmUoKT5kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKS50aW1lU3RhbXAmJihaZT1mdW5jdGlvbigpe3JldHVybiBHZS5ub3coKX0pfXZhciBYZT1mdW5jdGlvbih0LGUpe2lmKHQucG9zdCl7aWYoIWUucG9zdClyZXR1cm4gMX1lbHNlIGlmKGUucG9zdClyZXR1cm4tMTtyZXR1cm4gdC5pZC1lLmlkfTtmdW5jdGlvbiBZZSgpe3ZhciB0LGU7Zm9yKFdlPVplKCksSmU9ITAsVWUuc29ydChYZSkscWU9MDtxZTxVZS5sZW5ndGg7cWUrKykodD1VZVtxZV0pLmJlZm9yZSYmdC5iZWZvcmUoKSxlPXQuaWQsVmVbZV09bnVsbCx0LnJ1bigpO3ZhciBuPXplLnNsaWNlKCkscj1VZS5zbGljZSgpO3FlPVVlLmxlbmd0aD16ZS5sZW5ndGg9MCxWZT17fSxLZT1KZT0hMSxmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLl9pbmFjdGl2ZT0hMCxGZSh0W2VdLCEwKX0obiksZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7Zm9yKDtlLS07KXt2YXIgbj10W2VdLHI9bi52bTtyJiZyLl93YXRjaGVyPT09biYmci5faXNNb3VudGVkJiYhci5faXNEZXN0cm95ZWQmJkJlKHIsInVwZGF0ZWQiKX19KHIpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDxodC5sZW5ndGg7dCsrKXt2YXIgZT1odFt0XTtlLnN1YnM9ZS5zdWJzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSksZS5fcGVuZGluZz0hMX1odC5sZW5ndGg9MH0oKSxvdCYmSC5kZXZ0b29scyYmb3QuZW1pdCgiZmx1c2giKX1mdW5jdGlvbiBRZSh0KXt2YXIgZT10LmlkO2lmKG51bGw9PVZlW2VdJiYodCE9PW10LnRhcmdldHx8IXQubm9SZWN1cnNlKSl7aWYoVmVbZV09ITAsSmUpe2Zvcih2YXIgbj1VZS5sZW5ndGgtMTtuPnFlJiZVZVtuXS5pZD50LmlkOyluLS07VWUuc3BsaWNlKG4rMSwwLHQpfWVsc2UgVWUucHVzaCh0KTtLZXx8KEtlPSEwLENuKFllKSl9fXZhciB0bj0id2F0Y2hlciIsZW49IiIuY29uY2F0KHRuLCIgY2FsbGJhY2siKSxubj0iIi5jb25jYXQodG4sIiBnZXR0ZXIiKSxybj0iIi5jb25jYXQodG4sIiBjbGVhbnVwIik7ZnVuY3Rpb24gb24odCxlKXtyZXR1cm4gY24odCxudWxsLHtmbHVzaDoicG9zdCJ9KX12YXIgYW4sc249e307ZnVuY3Rpb24gY24obixyLG8pe3ZhciBpPXZvaWQgMD09PW8/dDpvLHM9aS5pbW1lZGlhdGUsYz1pLmRlZXAsdT1pLmZsdXNoLGw9dm9pZCAwPT09dT8icHJlIjp1O2kub25UcmFjayxpLm9uVHJpZ2dlcjt2YXIgZixkLHA9Y3Qsdj1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW51bGwpLGRuKHQsbnVsbCxuLHAsZSl9LGg9ITEsbT0hMTtpZihGdChuKT8oZj1mdW5jdGlvbigpe3JldHVybiBuLnZhbHVlfSxoPUl0KG4pKTpNdChuKT8oZj1mdW5jdGlvbigpe3JldHVybiBuLl9fb2JfXy5kZXAuZGVwZW5kKCksbn0sYz0hMCk6ZShuKT8obT0hMCxoPW4uc29tZSgoZnVuY3Rpb24odCl7cmV0dXJuIE10KHQpfHxJdCh0KX0pKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIG4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gRnQodCk/dC52YWx1ZTpNdCh0KT9Cbih0KTphKHQpP3YodCxubik6dm9pZCAwfSkpfSk6Zj1hKG4pP3I/ZnVuY3Rpb24oKXtyZXR1cm4gdihuLG5uKX06ZnVuY3Rpb24oKXtpZighcHx8IXAuX2lzRGVzdHJveWVkKXJldHVybiBkJiZkKCksdihuLHRuLFt5XSl9OmosciYmYyl7dmFyIGc9ZjtmPWZ1bmN0aW9uKCl7cmV0dXJuIEJuKGcoKSl9fXZhciB5PWZ1bmN0aW9uKHQpe2Q9Xy5vblN0b3A9ZnVuY3Rpb24oKXt2KHQscm4pfX07aWYocnQoKSlyZXR1cm4geT1qLHI/cyYmdihyLGVuLFtmKCksbT9bXTp2b2lkIDAseV0pOmYoKSxqO3ZhciBfPW5ldyBWbihjdCxmLGose2xhenk6ITB9KTtfLm5vUmVjdXJzZT0hcjt2YXIgYj1tP1tdOnNuO3JldHVybiBfLnJ1bj1mdW5jdGlvbigpe2lmKF8uYWN0aXZlKWlmKHIpe3ZhciB0PV8uZ2V0KCk7KGN8fGh8fChtP3Quc29tZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gSSh0LGJbZV0pfSkpOkkodCxiKSkpJiYoZCYmZCgpLHYocixlbixbdCxiPT09c24/dm9pZCAwOmIseV0pLGI9dCl9ZWxzZSBfLmdldCgpfSwic3luYyI9PT1sP18udXBkYXRlPV8ucnVuOiJwb3N0Ij09PWw/KF8ucG9zdD0hMCxfLnVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBRZShfKX0pOl8udXBkYXRlPWZ1bmN0aW9uKCl7aWYocCYmcD09PWN0JiYhcC5faXNNb3VudGVkKXt2YXIgdD1wLl9wcmVXYXRjaGVyc3x8KHAuX3ByZVdhdGNoZXJzPVtdKTt0LmluZGV4T2YoXyk8MCYmdC5wdXNoKF8pfWVsc2UgUWUoXyl9LHI/cz9fLnJ1bigpOmI9Xy5nZXQoKToicG9zdCI9PT1sJiZwP3AuJG9uY2UoImhvb2s6bW91bnRlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIF8uZ2V0KCl9KSk6Xy5nZXQoKSxmdW5jdGlvbigpe18udGVhcmRvd24oKX19dmFyIHVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD0hMSksdGhpcy5kZXRhY2hlZD10LHRoaXMuYWN0aXZlPSEwLHRoaXMuZWZmZWN0cz1bXSx0aGlzLmNsZWFudXBzPVtdLHRoaXMucGFyZW50PWFuLCF0JiZhbiYmKHRoaXMuaW5kZXg9KGFuLnNjb3Blc3x8KGFuLnNjb3Blcz1bXSkpLnB1c2godGhpcyktMSl9cmV0dXJuIHQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbih0KXtpZih0aGlzLmFjdGl2ZSl7dmFyIGU9YW47dHJ5e3JldHVybiBhbj10aGlzLHQoKX1maW5hbGx5e2FuPWV9fX0sdC5wcm90b3R5cGUub249ZnVuY3Rpb24oKXthbj10aGlzfSx0LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oKXthbj10aGlzLnBhcmVudH0sdC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbih0KXtpZih0aGlzLmFjdGl2ZSl7dmFyIGU9dm9pZCAwLG49dm9pZCAwO2ZvcihlPTAsbj10aGlzLmVmZmVjdHMubGVuZ3RoO2U8bjtlKyspdGhpcy5lZmZlY3RzW2VdLnRlYXJkb3duKCk7Zm9yKGU9MCxuPXRoaXMuY2xlYW51cHMubGVuZ3RoO2U8bjtlKyspdGhpcy5jbGVhbnVwc1tlXSgpO2lmKHRoaXMuc2NvcGVzKWZvcihlPTAsbj10aGlzLnNjb3Blcy5sZW5ndGg7ZTxuO2UrKyl0aGlzLnNjb3Blc1tlXS5zdG9wKCEwKTtpZighdGhpcy5kZXRhY2hlZCYmdGhpcy5wYXJlbnQmJiF0KXt2YXIgcj10aGlzLnBhcmVudC5zY29wZXMucG9wKCk7ciYmciE9PXRoaXMmJih0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF09cixyLmluZGV4PXRoaXMuaW5kZXgpfXRoaXMucGFyZW50PXZvaWQgMCx0aGlzLmFjdGl2ZT0hMX19LHR9KCk7ZnVuY3Rpb24gbG4odCl7dmFyIGU9dC5fcHJvdmlkZWQsbj10LiRwYXJlbnQmJnQuJHBhcmVudC5fcHJvdmlkZWQ7cmV0dXJuIG49PT1lP3QuX3Byb3ZpZGVkPU9iamVjdC5jcmVhdGUobik6ZX1mdW5jdGlvbiBmbih0LGUsbil7eXQoKTt0cnl7aWYoZSlmb3IodmFyIHI9ZTtyPXIuJHBhcmVudDspe3ZhciBvPXIuJG9wdGlvbnMuZXJyb3JDYXB0dXJlZDtpZihvKWZvcih2YXIgaT0wO2k8by5sZW5ndGg7aSsrKXRyeXtpZighMT09PW9baV0uY2FsbChyLHQsZSxuKSlyZXR1cm59Y2F0Y2godCl7cG4odCxyLCJlcnJvckNhcHR1cmVkIGhvb2siKX19cG4odCxlLG4pfWZpbmFsbHl7X3QoKX19ZnVuY3Rpb24gZG4odCxlLG4scixvKXt2YXIgaTt0cnl7KGk9bj90LmFwcGx5KGUsbik6dC5jYWxsKGUpKSYmIWkuX2lzVnVlJiZmKGkpJiYhaS5faGFuZGxlZCYmKGkuY2F0Y2goKGZ1bmN0aW9uKHQpe3JldHVybiBmbih0LHIsbysiIChQcm9taXNlL2FzeW5jKSIpfSkpLGkuX2hhbmRsZWQ9ITApfWNhdGNoKHQpe2ZuKHQscixvKX1yZXR1cm4gaX1mdW5jdGlvbiBwbih0LGUsbil7aWYoSC5lcnJvckhhbmRsZXIpdHJ5e3JldHVybiBILmVycm9ySGFuZGxlci5jYWxsKG51bGwsdCxlLG4pfWNhdGNoKGUpe2UhPT10JiZ2bihlKX12bih0KX1mdW5jdGlvbiB2bih0LGUsbil7aWYoIUp8fCJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZSl0aHJvdyB0O2NvbnNvbGUuZXJyb3IodCl9dmFyIGhuLG1uPSExLGduPVtdLHluPSExO2Z1bmN0aW9uIF9uKCl7eW49ITE7dmFyIHQ9Z24uc2xpY2UoMCk7Z24ubGVuZ3RoPTA7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXSgpfWlmKCJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZSYmaXQoUHJvbWlzZSkpe3ZhciBibj1Qcm9taXNlLnJlc29sdmUoKTtobj1mdW5jdGlvbigpe2JuLnRoZW4oX24pLFgmJnNldFRpbWVvdXQoail9LG1uPSEwfWVsc2UgaWYoV3x8InVuZGVmaW5lZCI9PXR5cGVvZiBNdXRhdGlvbk9ic2VydmVyfHwhaXQoTXV0YXRpb25PYnNlcnZlcikmJiJbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0iIT09TXV0YXRpb25PYnNlcnZlci50b1N0cmluZygpKWhuPSJ1bmRlZmluZWQiIT10eXBlb2Ygc2V0SW1tZWRpYXRlJiZpdChzZXRJbW1lZGlhdGUpP2Z1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKF9uKX06ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KF9uLDApfTtlbHNle3ZhciAkbj0xLHduPW5ldyBNdXRhdGlvbk9ic2VydmVyKF9uKSx4bj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoJG4pKTt3bi5vYnNlcnZlKHhuLHtjaGFyYWN0ZXJEYXRhOiEwfSksaG49ZnVuY3Rpb24oKXskbj0oJG4rMSklMix4bi5kYXRhPVN0cmluZygkbil9LG1uPSEwfWZ1bmN0aW9uIENuKHQsZSl7dmFyIG47aWYoZ24ucHVzaCgoZnVuY3Rpb24oKXtpZih0KXRyeXt0LmNhbGwoZSl9Y2F0Y2godCl7Zm4odCxlLCJuZXh0VGljayIpfWVsc2UgbiYmbihlKX0pKSx5bnx8KHluPSEwLGhuKCkpLCF0JiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbih0KXtuPXR9KSl9ZnVuY3Rpb24ga24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwPT09biYmKG49Y3QpLG4pcmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10LiRvcHRpb25zO3JbZV09dnIocltlXSxuKX0obix0LGUpfX12YXIgU249a24oImJlZm9yZU1vdW50IiksT249a24oIm1vdW50ZWQiKSxUbj1rbigiYmVmb3JlVXBkYXRlIiksQW49a24oInVwZGF0ZWQiKSxqbj1rbigiYmVmb3JlRGVzdHJveSIpLEVuPWtuKCJkZXN0cm95ZWQiKSxObj1rbigiYWN0aXZhdGVkIiksUG49a24oImRlYWN0aXZhdGVkIiksRG49a24oInNlcnZlclByZWZldGNoIiksTW49a24oInJlbmRlclRyYWNrZWQiKSxJbj1rbigicmVuZGVyVHJpZ2dlcmVkIiksTG49a24oImVycm9yQ2FwdHVyZWQiKTt2YXIgUm49IjIuNy4xNCI7dmFyIEZuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLHZlcnNpb246Um4sZGVmaW5lQ29tcG9uZW50OmZ1bmN0aW9uKHQpe3JldHVybiB0fSxyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIEh0KHQsITEpfSxzaGFsbG93UmVmOmZ1bmN0aW9uKHQpe3JldHVybiBIdCh0LCEwKX0saXNSZWY6RnQsdG9SZWY6VXQsdG9SZWZzOmZ1bmN0aW9uKHQpe3ZhciBuPWUodCk/bmV3IEFycmF5KHQubGVuZ3RoKTp7fTtmb3IodmFyIHIgaW4gdCluW3JdPVV0KHQscik7cmV0dXJuIG59LHVucmVmOmZ1bmN0aW9uKHQpe3JldHVybiBGdCh0KT90LnZhbHVlOnR9LHByb3h5UmVmczpmdW5jdGlvbih0KXtpZihNdCh0KSlyZXR1cm4gdDtmb3IodmFyIGU9e30sbj1PYmplY3Qua2V5cyh0KSxyPTA7cjxuLmxlbmd0aDtyKyspQnQoZSx0LG5bcl0pO3JldHVybiBlfSxjdXN0b21SZWY6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG10LG49dCgoZnVuY3Rpb24oKXtlLmRlcGVuZCgpfSksKGZ1bmN0aW9uKCl7ZS5ub3RpZnkoKX0pKSxyPW4uZ2V0LG89bi5zZXQsaT17Z2V0IHZhbHVlKCl7cmV0dXJuIHIoKX0sc2V0IHZhbHVlKHQpe28odCl9fTtyZXR1cm4geihpLFJ0LCEwKSxpfSx0cmlnZ2VyUmVmOmZ1bmN0aW9uKHQpe3QuZGVwJiZ0LmRlcC5ub3RpZnkoKX0scmVhY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIER0KHQsITEpLHR9LGlzUmVhY3RpdmU6TXQsaXNSZWFkb25seTpMdCxpc1NoYWxsb3c6SXQsaXNQcm94eTpmdW5jdGlvbih0KXtyZXR1cm4gTXQodCl8fEx0KHQpfSxzaGFsbG93UmVhY3RpdmU6UHQsbWFya1JhdzpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZSh0KSYmeih0LCJfX3Zfc2tpcCIsITApLHR9LHRvUmF3OmZ1bmN0aW9uIHQoZSl7dmFyIG49ZSYmZS5fX3ZfcmF3O3JldHVybiBuP3Qobik6ZX0scmVhZG9ubHk6enQsc2hhbGxvd1JlYWRvbmx5OmZ1bmN0aW9uKHQpe3JldHVybiBWdCh0LCEwKX0sY29tcHV0ZWQ6ZnVuY3Rpb24odCxlKXt2YXIgbixyLG89YSh0KTtvPyhuPXQscj1qKToobj10LmdldCxyPXQuc2V0KTt2YXIgaT1ydCgpP251bGw6bmV3IFZuKGN0LG4saix7bGF6eTohMH0pLHM9e2VmZmVjdDppLGdldCB2YWx1ZSgpe3JldHVybiBpPyhpLmRpcnR5JiZpLmV2YWx1YXRlKCksbXQudGFyZ2V0JiZpLmRlcGVuZCgpLGkudmFsdWUpOm4oKX0sc2V0IHZhbHVlKHQpe3IodCl9fTtyZXR1cm4geihzLFJ0LCEwKSx6KHMsIl9fdl9pc1JlYWRvbmx5IixvKSxzfSx3YXRjaDpmdW5jdGlvbih0LGUsbil7cmV0dXJuIGNuKHQsZSxuKX0sd2F0Y2hFZmZlY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gY24odCxudWxsLGUpfSx3YXRjaFBvc3RFZmZlY3Q6b24sd2F0Y2hTeW5jRWZmZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGNuKHQsbnVsbCx7Zmx1c2g6InN5bmMifSl9LEVmZmVjdFNjb3BlOnVuLGVmZmVjdFNjb3BlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdW4odCl9LG9uU2NvcGVEaXNwb3NlOmZ1bmN0aW9uKHQpe2FuJiZhbi5jbGVhbnVwcy5wdXNoKHQpfSxnZXRDdXJyZW50U2NvcGU6ZnVuY3Rpb24oKXtyZXR1cm4gYW59LHByb3ZpZGU6ZnVuY3Rpb24odCxlKXtjdCYmKGxuKGN0KVt0XT1lKX0saW5qZWN0OmZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIHI9Y3Q7aWYocil7dmFyIG89ci4kcGFyZW50JiZyLiRwYXJlbnQuX3Byb3ZpZGVkO2lmKG8mJnQgaW4gbylyZXR1cm4gb1t0XTtpZihhcmd1bWVudHMubGVuZ3RoPjEpcmV0dXJuIG4mJmEoZSk/ZS5jYWxsKHIpOmV9fSxoOmZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gdGUoY3QsdCxlLG4sMiwhMCl9LGdldEN1cnJlbnRJbnN0YW5jZTpmdW5jdGlvbigpe3JldHVybiBjdCYme3Byb3h5OmN0fX0sdXNlU2xvdHM6ZnVuY3Rpb24oKXtyZXR1cm4gT2UoKS5zbG90c30sdXNlQXR0cnM6ZnVuY3Rpb24oKXtyZXR1cm4gT2UoKS5hdHRyc30sdXNlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIE9lKCkubGlzdGVuZXJzfSxtZXJnZURlZmF1bHRzOmZ1bmN0aW9uKHQsbil7dmFyIHI9ZSh0KT90LnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT17fSx0fSkse30pOnQ7Zm9yKHZhciBvIGluIG4pe3ZhciBpPXJbb107aT9lKGkpfHxhKGkpP3Jbb109e3R5cGU6aSxkZWZhdWx0Om5bb119OmkuZGVmYXVsdD1uW29dOm51bGw9PT1pJiYocltvXT17ZGVmYXVsdDpuW29dfSl9cmV0dXJuIHJ9LG5leHRUaWNrOkNuLHNldDpqdCxkZWw6RXQsdXNlQ3NzTW9kdWxlOmZ1bmN0aW9uKGUpe3JldHVybiB0fSx1c2VDc3NWYXJzOmZ1bmN0aW9uKHQpe2lmKEope3ZhciBlPWN0O2UmJm9uKChmdW5jdGlvbigpe3ZhciBuPWUuJGVsLHI9dChlLGUuX3NldHVwUHJveHkpO2lmKG4mJjE9PT1uLm5vZGVUeXBlKXt2YXIgbz1uLnN0eWxlO2Zvcih2YXIgaSBpbiByKW8uc2V0UHJvcGVydHkoIi0tIi5jb25jYXQoaSkscltpXSl9fSkpfX0sZGVmaW5lQXN5bmNDb21wb25lbnQ6ZnVuY3Rpb24odCl7YSh0KSYmKHQ9e2xvYWRlcjp0fSk7dmFyIGU9dC5sb2FkZXIsbj10LmxvYWRpbmdDb21wb25lbnQscj10LmVycm9yQ29tcG9uZW50LG89dC5kZWxheSxpPXZvaWQgMD09PW8/MjAwOm8scz10LnRpbWVvdXQ7dC5zdXNwZW5zaWJsZTt2YXIgYz10Lm9uRXJyb3IsdT1udWxsLGw9MCxmPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHV8fCh0PXU9ZSgpLmNhdGNoKChmdW5jdGlvbih0KXtpZih0PXQgaW5zdGFuY2VvZiBFcnJvcj90Om5ldyBFcnJvcihTdHJpbmcodCkpLGMpcmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLG4pe2ModCwoZnVuY3Rpb24oKXtyZXR1cm4gZSgobCsrLHU9bnVsbCxmKCkpKX0pLChmdW5jdGlvbigpe3JldHVybiBuKHQpfSksbCsxKX0pKTt0aHJvdyB0fSkpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiB0IT09dSYmdT91OihlJiYoZS5fX2VzTW9kdWxlfHwiTW9kdWxlIj09PWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkmJihlPWUuZGVmYXVsdCksZSl9KSkpfTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm57Y29tcG9uZW50OmYoKSxkZWxheTppLHRpbWVvdXQ6cyxlcnJvcjpyLGxvYWRpbmc6bn19fSxvbkJlZm9yZU1vdW50OlNuLG9uTW91bnRlZDpPbixvbkJlZm9yZVVwZGF0ZTpUbixvblVwZGF0ZWQ6QW4sb25CZWZvcmVVbm1vdW50OmpuLG9uVW5tb3VudGVkOkVuLG9uQWN0aXZhdGVkOk5uLG9uRGVhY3RpdmF0ZWQ6UG4sb25TZXJ2ZXJQcmVmZXRjaDpEbixvblJlbmRlclRyYWNrZWQ6TW4sb25SZW5kZXJUcmlnZ2VyZWQ6SW4sb25FcnJvckNhcHR1cmVkOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9Y3QpLExuKHQsZSl9fSksSG49bmV3IGF0O2Z1bmN0aW9uIEJuKHQpe3JldHVybiBVbih0LEhuKSxIbi5jbGVhcigpLHR9ZnVuY3Rpb24gVW4odCxuKXt2YXIgcixvLGk9ZSh0KTtpZighKCFpJiYhcyh0KXx8dC5fX3Zfc2tpcHx8T2JqZWN0LmlzRnJvemVuKHQpfHx0IGluc3RhbmNlb2YgbHQpKXtpZih0Ll9fb2JfXyl7dmFyIGE9dC5fX29iX18uZGVwLmlkO2lmKG4uaGFzKGEpKXJldHVybjtuLmFkZChhKX1pZihpKWZvcihyPXQubGVuZ3RoO3ItLTspVW4odFtyXSxuKTtlbHNlIGlmKEZ0KHQpKVVuKHQudmFsdWUsbik7ZWxzZSBmb3Iocj0obz1PYmplY3Qua2V5cyh0KSkubGVuZ3RoO3ItLTspVW4odFtvW3JdXSxuKX19dmFyIHpuPTAsVm49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxuLHIsbyl7IWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9YW4pLGUmJmUuYWN0aXZlJiZlLmVmZmVjdHMucHVzaCh0KX0odGhpcyxhbiYmIWFuLl92bT9hbjp0P3QuX3Njb3BlOnZvaWQgMCksKHRoaXMudm09dCkmJm8mJih0Ll93YXRjaGVyPXRoaXMpLHI/KHRoaXMuZGVlcD0hIXIuZGVlcCx0aGlzLnVzZXI9ISFyLnVzZXIsdGhpcy5sYXp5PSEhci5sYXp5LHRoaXMuc3luYz0hIXIuc3luYyx0aGlzLmJlZm9yZT1yLmJlZm9yZSk6dGhpcy5kZWVwPXRoaXMudXNlcj10aGlzLmxhenk9dGhpcy5zeW5jPSExLHRoaXMuY2I9bix0aGlzLmlkPSsrem4sdGhpcy5hY3RpdmU9ITAsdGhpcy5wb3N0PSExLHRoaXMuZGlydHk9dGhpcy5sYXp5LHRoaXMuZGVwcz1bXSx0aGlzLm5ld0RlcHM9W10sdGhpcy5kZXBJZHM9bmV3IGF0LHRoaXMubmV3RGVwSWRzPW5ldyBhdCx0aGlzLmV4cHJlc3Npb249IiIsYShlKT90aGlzLmdldHRlcj1lOih0aGlzLmdldHRlcj1mdW5jdGlvbih0KXtpZighVi50ZXN0KHQpKXt2YXIgZT10LnNwbGl0KCIuIik7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXtpZighdClyZXR1cm47dD10W2Vbbl1dfXJldHVybiB0fX19KGUpLHRoaXMuZ2V0dGVyfHwodGhpcy5nZXR0ZXI9aikpLHRoaXMudmFsdWU9dGhpcy5sYXp5P3ZvaWQgMDp0aGlzLmdldCgpfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdDt5dCh0aGlzKTt2YXIgZT10aGlzLnZtO3RyeXt0PXRoaXMuZ2V0dGVyLmNhbGwoZSxlKX1jYXRjaCh0KXtpZighdGhpcy51c2VyKXRocm93IHQ7Zm4odCxlLCdnZXR0ZXIgZm9yIHdhdGNoZXIgIicuY29uY2F0KHRoaXMuZXhwcmVzc2lvbiwnIicpKX1maW5hbGx5e3RoaXMuZGVlcCYmQm4odCksX3QoKSx0aGlzLmNsZWFudXBEZXBzKCl9cmV0dXJuIHR9LHQucHJvdG90eXBlLmFkZERlcD1mdW5jdGlvbih0KXt2YXIgZT10LmlkO3RoaXMubmV3RGVwSWRzLmhhcyhlKXx8KHRoaXMubmV3RGVwSWRzLmFkZChlKSx0aGlzLm5ld0RlcHMucHVzaCh0KSx0aGlzLmRlcElkcy5oYXMoZSl8fHQuYWRkU3ViKHRoaXMpKX0sdC5wcm90b3R5cGUuY2xlYW51cERlcHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kZXBzLmxlbmd0aDt0LS07KXt2YXIgZT10aGlzLmRlcHNbdF07dGhpcy5uZXdEZXBJZHMuaGFzKGUuaWQpfHxlLnJlbW92ZVN1Yih0aGlzKX12YXIgbj10aGlzLmRlcElkczt0aGlzLmRlcElkcz10aGlzLm5ld0RlcElkcyx0aGlzLm5ld0RlcElkcz1uLHRoaXMubmV3RGVwSWRzLmNsZWFyKCksbj10aGlzLmRlcHMsdGhpcy5kZXBzPXRoaXMubmV3RGVwcyx0aGlzLm5ld0RlcHM9bix0aGlzLm5ld0RlcHMubGVuZ3RoPTB9LHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMubGF6eT90aGlzLmRpcnR5PSEwOnRoaXMuc3luYz90aGlzLnJ1bigpOlFlKHRoaXMpfSx0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSl7dmFyIHQ9dGhpcy5nZXQoKTtpZih0IT09dGhpcy52YWx1ZXx8cyh0KXx8dGhpcy5kZWVwKXt2YXIgZT10aGlzLnZhbHVlO2lmKHRoaXMudmFsdWU9dCx0aGlzLnVzZXIpe3ZhciBuPSdjYWxsYmFjayBmb3Igd2F0Y2hlciAiJy5jb25jYXQodGhpcy5leHByZXNzaW9uLCciJyk7ZG4odGhpcy5jYix0aGlzLnZtLFt0LGVdLHRoaXMudm0sbil9ZWxzZSB0aGlzLmNiLmNhbGwodGhpcy52bSx0LGUpfX19LHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZT10aGlzLmdldCgpLHRoaXMuZGlydHk9ITF9LHQucHJvdG90eXBlLmRlcGVuZD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRlcHMubGVuZ3RoO3QtLTspdGhpcy5kZXBzW3RdLmRlcGVuZCgpfSx0LnByb3RvdHlwZS50ZWFyZG93bj1mdW5jdGlvbigpe2lmKHRoaXMudm0mJiF0aGlzLnZtLl9pc0JlaW5nRGVzdHJveWVkJiZnKHRoaXMudm0uX3Njb3BlLmVmZmVjdHMsdGhpcyksdGhpcy5hY3RpdmUpe2Zvcih2YXIgdD10aGlzLmRlcHMubGVuZ3RoO3QtLTspdGhpcy5kZXBzW3RdLnJlbW92ZVN1Yih0aGlzKTt0aGlzLmFjdGl2ZT0hMSx0aGlzLm9uU3RvcCYmdGhpcy5vblN0b3AoKX19LHR9KCksS249e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpqLHNldDpqfTtmdW5jdGlvbiBKbih0LGUsbil7S24uZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV1bbl19LEtuLnNldD1mdW5jdGlvbih0KXt0aGlzW2VdW25dPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4sS24pfWZ1bmN0aW9uIHFuKHQpe3ZhciBuPXQuJG9wdGlvbnM7aWYobi5wcm9wcyYmZnVuY3Rpb24odCxlKXt2YXIgbj10LiRvcHRpb25zLnByb3BzRGF0YXx8e30scj10Ll9wcm9wcz1QdCh7fSksbz10LiRvcHRpb25zLl9wcm9wS2V5cz1bXTt0LiRwYXJlbnQmJmt0KCExKTt2YXIgaT1mdW5jdGlvbihpKXtvLnB1c2goaSk7dmFyIGE9X3IoaSxlLG4sdCk7QXQocixpLGEpLGkgaW4gdHx8Sm4odCwiX3Byb3BzIixpKX07Zm9yKHZhciBhIGluIGUpaShhKTtrdCghMCl9KHQsbi5wcm9wcyksZnVuY3Rpb24odCl7dmFyIGU9dC4kb3B0aW9ucyxuPWUuc2V0dXA7aWYobil7dmFyIHI9dC5fc2V0dXBDb250ZXh0PXhlKHQpO3V0KHQpLHl0KCk7dmFyIG89ZG4obixudWxsLFt0Ll9wcm9wc3x8UHQoe30pLHJdLHQsInNldHVwIik7aWYoX3QoKSx1dCgpLGEobykpZS5yZW5kZXI9bztlbHNlIGlmKHMobykpaWYodC5fc2V0dXBTdGF0ZT1vLG8uX19zZmMpe3ZhciBpPXQuX3NldHVwUHJveHk9e307Zm9yKHZhciBjIGluIG8pIl9fc2ZjIiE9PWMmJkJ0KGksbyxjKX1lbHNlIGZvcih2YXIgYyBpbiBvKVUoYyl8fEJ0KHQsbyxjKX19KHQpLG4ubWV0aG9kcyYmZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gdC4kb3B0aW9ucy5wcm9wcyxlKXRbbl09ImZ1bmN0aW9uIiE9dHlwZW9mIGVbbl0/ajpTKGVbbl0sdCl9KHQsbi5tZXRob2RzKSxuLmRhdGEpIWZ1bmN0aW9uKHQpe3ZhciBlPXQuJG9wdGlvbnMuZGF0YTt1KGU9dC5fZGF0YT1hKGUpP2Z1bmN0aW9uKHQsZSl7eXQoKTt0cnl7cmV0dXJuIHQuY2FsbChlLGUpfWNhdGNoKHQpe3JldHVybiBmbih0LGUsImRhdGEoKSIpLHt9fWZpbmFsbHl7X3QoKX19KGUsdCk6ZXx8e30pfHwoZT17fSk7dmFyIG49T2JqZWN0LmtleXMoZSkscj10LiRvcHRpb25zLnByb3BzO3QuJG9wdGlvbnMubWV0aG9kczt2YXIgbz1uLmxlbmd0aDtmb3IoO28tLTspe3ZhciBpPW5bb107ciYmXyhyLGkpfHxVKGkpfHxKbih0LCJfZGF0YSIsaSl9dmFyIHM9VHQoZSk7cyYmcy52bUNvdW50Kyt9KHQpO2Vsc2V7dmFyIHI9VHQodC5fZGF0YT17fSk7ciYmci52bUNvdW50Kyt9bi5jb21wdXRlZCYmZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9jb21wdXRlZFdhdGNoZXJzPU9iamVjdC5jcmVhdGUobnVsbCkscj1ydCgpO2Zvcih2YXIgbyBpbiBlKXt2YXIgaT1lW29dLHM9YShpKT9pOmkuZ2V0O3J8fChuW29dPW5ldyBWbih0LHN8fGosaixXbikpLG8gaW4gdHx8Wm4odCxvLGkpfX0odCxuLmNvbXB1dGVkKSxuLndhdGNoJiZuLndhdGNoIT09dHQmJmZ1bmN0aW9uKHQsbil7Zm9yKHZhciByIGluIG4pe3ZhciBvPW5bcl07aWYoZShvKSlmb3IodmFyIGk9MDtpPG8ubGVuZ3RoO2krKylZbih0LHIsb1tpXSk7ZWxzZSBZbih0LHIsbyl9fSh0LG4ud2F0Y2gpfXZhciBXbj17bGF6eTohMH07ZnVuY3Rpb24gWm4odCxlLG4pe3ZhciByPSFydCgpO2Eobik/KEtuLmdldD1yP0duKGUpOlhuKG4pLEtuLnNldD1qKTooS24uZ2V0PW4uZ2V0P3ImJiExIT09bi5jYWNoZT9HbihlKTpYbihuLmdldCk6aixLbi5zZXQ9bi5zZXR8fGopLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUsS24pfWZ1bmN0aW9uIEduKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMmJnRoaXMuX2NvbXB1dGVkV2F0Y2hlcnNbdF07aWYoZSlyZXR1cm4gZS5kaXJ0eSYmZS5ldmFsdWF0ZSgpLG10LnRhcmdldCYmZS5kZXBlbmQoKSxlLnZhbHVlfX1mdW5jdGlvbiBYbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKHRoaXMsdGhpcyl9fWZ1bmN0aW9uIFluKHQsZSxuLHIpe3JldHVybiB1KG4pJiYocj1uLG49bi5oYW5kbGVyKSwic3RyaW5nIj09dHlwZW9mIG4mJihuPXRbbl0pLHQuJHdhdGNoKGUsbixyKX1mdW5jdGlvbiBRbih0LGUpe2lmKHQpe2Zvcih2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpLHI9c3Q/UmVmbGVjdC5vd25LZXlzKHQpOk9iamVjdC5rZXlzKHQpLG89MDtvPHIubGVuZ3RoO28rKyl7dmFyIGk9cltvXTtpZigiX19vYl9fIiE9PWkpe3ZhciBzPXRbaV0uZnJvbTtpZihzIGluIGUuX3Byb3ZpZGVkKW5baV09ZS5fcHJvdmlkZWRbc107ZWxzZSBpZigiZGVmYXVsdCJpbiB0W2ldKXt2YXIgYz10W2ldLmRlZmF1bHQ7bltpXT1hKGMpP2MuY2FsbChlKTpjfX19cmV0dXJuIG59fXZhciB0cj0wO2Z1bmN0aW9uIGVyKHQpe3ZhciBlPXQub3B0aW9ucztpZih0LnN1cGVyKXt2YXIgbj1lcih0LnN1cGVyKTtpZihuIT09dC5zdXBlck9wdGlvbnMpe3Quc3VwZXJPcHRpb25zPW47dmFyIHI9ZnVuY3Rpb24odCl7dmFyIGUsbj10Lm9wdGlvbnMscj10LnNlYWxlZE9wdGlvbnM7Zm9yKHZhciBvIGluIG4pbltvXSE9PXJbb10mJihlfHwoZT17fSksZVtvXT1uW29dKTtyZXR1cm4gZX0odCk7ciYmVCh0LmV4dGVuZE9wdGlvbnMsciksKGU9dC5vcHRpb25zPWdyKG4sdC5leHRlbmRPcHRpb25zKSkubmFtZSYmKGUuY29tcG9uZW50c1tlLm5hbWVdPXQpfX1yZXR1cm4gZX1mdW5jdGlvbiBucihuLHIsaSxhLHMpe3ZhciBjLHU9dGhpcyxsPXMub3B0aW9ucztfKGEsIl91aWQiKT8oYz1PYmplY3QuY3JlYXRlKGEpKS5fb3JpZ2luYWw9YTooYz1hLGE9YS5fb3JpZ2luYWwpO3ZhciBmPW8obC5fY29tcGlsZWQpLGQ9IWY7dGhpcy5kYXRhPW4sdGhpcy5wcm9wcz1yLHRoaXMuY2hpbGRyZW49aSx0aGlzLnBhcmVudD1hLHRoaXMubGlzdGVuZXJzPW4ub258fHQsdGhpcy5pbmplY3Rpb25zPVFuKGwuaW5qZWN0LGEpLHRoaXMuc2xvdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS4kc2xvdHN8fGJlKGEsbi5zY29wZWRTbG90cyx1LiRzbG90cz1nZShpLGEpKSx1LiRzbG90c30sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNjb3BlZFNsb3RzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYmUoYSxuLnNjb3BlZFNsb3RzLHRoaXMuc2xvdHMoKSl9fSksZiYmKHRoaXMuJG9wdGlvbnM9bCx0aGlzLiRzbG90cz10aGlzLnNsb3RzKCksdGhpcy4kc2NvcGVkU2xvdHM9YmUoYSxuLnNjb3BlZFNsb3RzLHRoaXMuJHNsb3RzKSksbC5fc2NvcGVJZD90aGlzLl9jPWZ1bmN0aW9uKHQsbixyLG8pe3ZhciBpPXRlKGMsdCxuLHIsbyxkKTtyZXR1cm4gaSYmIWUoaSkmJihpLmZuU2NvcGVJZD1sLl9zY29wZUlkLGkuZm5Db250ZXh0PWEpLGl9OnRoaXMuX2M9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRlKGMsdCxlLG4scixkKX19ZnVuY3Rpb24gcnIodCxlLG4scixvKXt2YXIgaT1wdCh0KTtyZXR1cm4gaS5mbkNvbnRleHQ9bixpLmZuT3B0aW9ucz1yLGUuc2xvdCYmKChpLmRhdGF8fChpLmRhdGE9e30pKS5zbG90PWUuc2xvdCksaX1mdW5jdGlvbiBvcih0LGUpe2Zvcih2YXIgbiBpbiBlKXRbdyhuKV09ZVtuXX1mdW5jdGlvbiBpcih0KXtyZXR1cm4gdC5uYW1lfHx0Ll9fbmFtZXx8dC5fY29tcG9uZW50VGFnfW1lKG5yLnByb3RvdHlwZSk7dmFyIGFyPXtpbml0OmZ1bmN0aW9uKHQsZSl7aWYodC5jb21wb25lbnRJbnN0YW5jZSYmIXQuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkJiZ0LmRhdGEua2VlcEFsaXZlKXt2YXIgbj10O2FyLnByZXBhdGNoKG4sbil9ZWxzZXsodC5jb21wb25lbnRJbnN0YW5jZT1mdW5jdGlvbih0LGUpe3ZhciBuPXtfaXNDb21wb25lbnQ6ITAsX3BhcmVudFZub2RlOnQscGFyZW50OmV9LG89dC5kYXRhLmlubGluZVRlbXBsYXRlO3IobykmJihuLnJlbmRlcj1vLnJlbmRlcixuLnN0YXRpY1JlbmRlckZucz1vLnN0YXRpY1JlbmRlckZucyk7cmV0dXJuIG5ldyB0LmNvbXBvbmVudE9wdGlvbnMuQ3RvcihuKX0odCxJZSkpLiRtb3VudChlP3QuZWxtOnZvaWQgMCxlKX19LHByZXBhdGNoOmZ1bmN0aW9uKGUsbil7dmFyIHI9bi5jb21wb25lbnRPcHRpb25zOyFmdW5jdGlvbihlLG4scixvLGkpe3ZhciBhPW8uZGF0YS5zY29wZWRTbG90cyxzPWUuJHNjb3BlZFNsb3RzLGM9ISEoYSYmIWEuJHN0YWJsZXx8cyE9PXQmJiFzLiRzdGFibGV8fGEmJmUuJHNjb3BlZFNsb3RzLiRrZXkhPT1hLiRrZXl8fCFhJiZlLiRzY29wZWRTbG90cy4ka2V5KSx1PSEhKGl8fGUuJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVufHxjKSxsPWUuJHZub2RlO2UuJG9wdGlvbnMuX3BhcmVudFZub2RlPW8sZS4kdm5vZGU9byxlLl92bm9kZSYmKGUuX3Zub2RlLnBhcmVudD1vKSxlLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbj1pO3ZhciBmPW8uZGF0YS5hdHRyc3x8dDtlLl9hdHRyc1Byb3h5JiZDZShlLl9hdHRyc1Byb3h5LGYsbC5kYXRhJiZsLmRhdGEuYXR0cnN8fHQsZSwiJGF0dHJzIikmJih1PSEwKSxlLiRhdHRycz1mLHI9cnx8dDt2YXIgZD1lLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7aWYoZS5fbGlzdGVuZXJzUHJveHkmJkNlKGUuX2xpc3RlbmVyc1Byb3h5LHIsZHx8dCxlLCIkbGlzdGVuZXJzIiksZS4kbGlzdGVuZXJzPWUuJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycz1yLE1lKGUscixkKSxuJiZlLiRvcHRpb25zLnByb3BzKXtrdCghMSk7Zm9yKHZhciBwPWUuX3Byb3BzLHY9ZS4kb3B0aW9ucy5fcHJvcEtleXN8fFtdLGg9MDtoPHYubGVuZ3RoO2grKyl7dmFyIG09dltoXSxnPWUuJG9wdGlvbnMucHJvcHM7cFttXT1fcihtLGcsbixlKX1rdCghMCksZS4kb3B0aW9ucy5wcm9wc0RhdGE9bn11JiYoZS4kc2xvdHM9Z2UoaSxvLmNvbnRleHQpLGUuJGZvcmNlVXBkYXRlKCkpfShuLmNvbXBvbmVudEluc3RhbmNlPWUuY29tcG9uZW50SW5zdGFuY2Usci5wcm9wc0RhdGEsci5saXN0ZW5lcnMsbixyLmNoaWxkcmVuKX0saW5zZXJ0OmZ1bmN0aW9uKHQpe3ZhciBlLG49dC5jb250ZXh0LHI9dC5jb21wb25lbnRJbnN0YW5jZTtyLl9pc01vdW50ZWR8fChyLl9pc01vdW50ZWQ9ITAsQmUociwibW91bnRlZCIpKSx0LmRhdGEua2VlcEFsaXZlJiYobi5faXNNb3VudGVkPygoZT1yKS5faW5hY3RpdmU9ITEsemUucHVzaChlKSk6RmUociwhMCkpfSxkZXN0cm95OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY29tcG9uZW50SW5zdGFuY2U7ZS5faXNEZXN0cm95ZWR8fCh0LmRhdGEua2VlcEFsaXZlP0hlKGUsITApOmUuJGRlc3Ryb3koKSl9fSxzcj1PYmplY3Qua2V5cyhhcik7ZnVuY3Rpb24gY3IoaSxhLGMsdSxsKXtpZighbihpKSl7dmFyIGQ9Yy4kb3B0aW9ucy5fYmFzZTtpZihzKGkpJiYoaT1kLmV4dGVuZChpKSksImZ1bmN0aW9uIj09dHlwZW9mIGkpe3ZhciBwO2lmKG4oaS5jaWQpJiYoaT1mdW5jdGlvbih0LGUpe2lmKG8odC5lcnJvcikmJnIodC5lcnJvckNvbXApKXJldHVybiB0LmVycm9yQ29tcDtpZihyKHQucmVzb2x2ZWQpKXJldHVybiB0LnJlc29sdmVkO3ZhciBpPUFlO2lmKGkmJnIodC5vd25lcnMpJiYtMT09PXQub3duZXJzLmluZGV4T2YoaSkmJnQub3duZXJzLnB1c2goaSksbyh0LmxvYWRpbmcpJiZyKHQubG9hZGluZ0NvbXApKXJldHVybiB0LmxvYWRpbmdDb21wO2lmKGkmJiFyKHQub3duZXJzKSl7dmFyIGE9dC5vd25lcnM9W2ldLGM9ITAsdT1udWxsLGw9bnVsbDtpLiRvbigiaG9vazpkZXN0cm95ZWQiLChmdW5jdGlvbigpe3JldHVybiBnKGEsaSl9KSk7dmFyIGQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj1hLmxlbmd0aDtlPG47ZSsrKWFbZV0uJGZvcmNlVXBkYXRlKCk7dCYmKGEubGVuZ3RoPTAsbnVsbCE9PXUmJihjbGVhclRpbWVvdXQodSksdT1udWxsKSxudWxsIT09bCYmKGNsZWFyVGltZW91dChsKSxsPW51bGwpKX0scD1NKChmdW5jdGlvbihuKXt0LnJlc29sdmVkPWplKG4sZSksYz9hLmxlbmd0aD0wOmQoITApfSkpLHY9TSgoZnVuY3Rpb24oZSl7cih0LmVycm9yQ29tcCkmJih0LmVycm9yPSEwLGQoITApKX0pKSxoPXQocCx2KTtyZXR1cm4gcyhoKSYmKGYoaCk/bih0LnJlc29sdmVkKSYmaC50aGVuKHAsdik6ZihoLmNvbXBvbmVudCkmJihoLmNvbXBvbmVudC50aGVuKHAsdikscihoLmVycm9yKSYmKHQuZXJyb3JDb21wPWplKGguZXJyb3IsZSkpLHIoaC5sb2FkaW5nKSYmKHQubG9hZGluZ0NvbXA9amUoaC5sb2FkaW5nLGUpLDA9PT1oLmRlbGF5P3QubG9hZGluZz0hMDp1PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dT1udWxsLG4odC5yZXNvbHZlZCkmJm4odC5lcnJvcikmJih0LmxvYWRpbmc9ITAsZCghMSkpfSksaC5kZWxheXx8MjAwKSkscihoLnRpbWVvdXQpJiYobD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2w9bnVsbCxuKHQucmVzb2x2ZWQpJiZ2KG51bGwpfSksaC50aW1lb3V0KSkpKSxjPSExLHQubG9hZGluZz90LmxvYWRpbmdDb21wOnQucmVzb2x2ZWR9fShwPWksZCksdm9pZCAwPT09aSkpcmV0dXJuIGZ1bmN0aW9uKHQsZSxuLHIsbyl7dmFyIGk9ZnQoKTtyZXR1cm4gaS5hc3luY0ZhY3Rvcnk9dCxpLmFzeW5jTWV0YT17ZGF0YTplLGNvbnRleHQ6bixjaGlsZHJlbjpyLHRhZzpvfSxpfShwLGEsYyx1LGwpO2E9YXx8e30sZXIoaSkscihhLm1vZGVsKSYmZnVuY3Rpb24odCxuKXt2YXIgbz10Lm1vZGVsJiZ0Lm1vZGVsLnByb3B8fCJ2YWx1ZSIsaT10Lm1vZGVsJiZ0Lm1vZGVsLmV2ZW50fHwiaW5wdXQiOyhuLmF0dHJzfHwobi5hdHRycz17fSkpW29dPW4ubW9kZWwudmFsdWU7dmFyIGE9bi5vbnx8KG4ub249e30pLHM9YVtpXSxjPW4ubW9kZWwuY2FsbGJhY2s7cihzKT8oZShzKT8tMT09PXMuaW5kZXhPZihjKTpzIT09YykmJihhW2ldPVtjXS5jb25jYXQocykpOmFbaV09Y30oaS5vcHRpb25zLGEpO3ZhciB2PWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT1lLm9wdGlvbnMucHJvcHM7aWYoIW4oaSkpe3ZhciBhPXt9LHM9dC5hdHRycyxjPXQucHJvcHM7aWYocihzKXx8cihjKSlmb3IodmFyIHUgaW4gaSl7dmFyIGw9ayh1KTtHdChhLGMsdSxsLCEwKXx8R3QoYSxzLHUsbCwhMSl9cmV0dXJuIGF9fShhLGkpO2lmKG8oaS5vcHRpb25zLmZ1bmN0aW9uYWwpKXJldHVybiBmdW5jdGlvbihuLG8saSxhLHMpe3ZhciBjPW4ub3B0aW9ucyx1PXt9LGw9Yy5wcm9wcztpZihyKGwpKWZvcih2YXIgZiBpbiBsKXVbZl09X3IoZixsLG98fHQpO2Vsc2UgcihpLmF0dHJzKSYmb3IodSxpLmF0dHJzKSxyKGkucHJvcHMpJiZvcih1LGkucHJvcHMpO3ZhciBkPW5ldyBucihpLHUscyxhLG4pLHA9Yy5yZW5kZXIuY2FsbChudWxsLGQuX2MsZCk7aWYocCBpbnN0YW5jZW9mIGx0KXJldHVybiBycihwLGksZC5wYXJlbnQsYyk7aWYoZShwKSl7Zm9yKHZhciB2PVh0KHApfHxbXSxoPW5ldyBBcnJheSh2Lmxlbmd0aCksbT0wO208di5sZW5ndGg7bSsrKWhbbV09cnIodlttXSxpLGQucGFyZW50LGMpO3JldHVybiBofX0oaSx2LGEsYyx1KTt2YXIgaD1hLm9uO2lmKGEub249YS5uYXRpdmVPbixvKGkub3B0aW9ucy5hYnN0cmFjdCkpe3ZhciBtPWEuc2xvdDthPXt9LG0mJihhLnNsb3Q9bSl9IWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmhvb2t8fCh0Lmhvb2s9e30pLG49MDtuPHNyLmxlbmd0aDtuKyspe3ZhciByPXNyW25dLG89ZVtyXSxpPWFyW3JdO289PT1pfHxvJiZvLl9tZXJnZWR8fChlW3JdPW8/dXIoaSxvKTppKX19KGEpO3ZhciB5PWlyKGkub3B0aW9ucyl8fGw7cmV0dXJuIG5ldyBsdCgidnVlLWNvbXBvbmVudC0iLmNvbmNhdChpLmNpZCkuY29uY2F0KHk/Ii0iLmNvbmNhdCh5KToiIiksYSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxjLHtDdG9yOmkscHJvcHNEYXRhOnYsbGlzdGVuZXJzOmgsdGFnOmwsY2hpbGRyZW46dX0scCl9fX1mdW5jdGlvbiB1cih0LGUpe3ZhciBuPWZ1bmN0aW9uKG4scil7dChuLHIpLGUobixyKX07cmV0dXJuIG4uX21lcmdlZD0hMCxufXZhciBscj1qLGZyPUgub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO2Z1bmN0aW9uIGRyKHQsZSxuKXtpZih2b2lkIDA9PT1uJiYobj0hMCksIWUpcmV0dXJuIHQ7Zm9yKHZhciByLG8saSxhPXN0P1JlZmxlY3Qub3duS2V5cyhlKTpPYmplY3Qua2V5cyhlKSxzPTA7czxhLmxlbmd0aDtzKyspIl9fb2JfXyIhPT0ocj1hW3NdKSYmKG89dFtyXSxpPWVbcl0sbiYmXyh0LHIpP28hPT1pJiZ1KG8pJiZ1KGkpJiZkcihvLGkpOmp0KHQscixpKSk7cmV0dXJuIHR9ZnVuY3Rpb24gcHIodCxlLG4pe3JldHVybiBuP2Z1bmN0aW9uKCl7dmFyIHI9YShlKT9lLmNhbGwobixuKTplLG89YSh0KT90LmNhbGwobixuKTp0O3JldHVybiByP2RyKHIsbyk6b306ZT90P2Z1bmN0aW9uKCl7cmV0dXJuIGRyKGEoZSk/ZS5jYWxsKHRoaXMsdGhpcyk6ZSxhKHQpP3QuY2FsbCh0aGlzLHRoaXMpOnQpfTplOnR9ZnVuY3Rpb24gdnIodCxuKXt2YXIgcj1uP3Q/dC5jb25jYXQobik6ZShuKT9uOltuXTp0O3JldHVybiByP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspLTE9PT1lLmluZGV4T2YodFtuXSkmJmUucHVzaCh0W25dKTtyZXR1cm4gZX0ocik6cn1mdW5jdGlvbiBocih0LGUsbixyKXt2YXIgbz1PYmplY3QuY3JlYXRlKHR8fG51bGwpO3JldHVybiBlP1QobyxlKTpvfWZyLmRhdGE9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuP3ByKHQsZSxuKTplJiYiZnVuY3Rpb24iIT10eXBlb2YgZT90OnByKHQsZSl9LEYuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZnJbdF09dnJ9KSksUi5mb3JFYWNoKChmdW5jdGlvbih0KXtmclt0KyJzIl09aHJ9KSksZnIud2F0Y2g9ZnVuY3Rpb24odCxuLHIsbyl7aWYodD09PXR0JiYodD12b2lkIDApLG49PT10dCYmKG49dm9pZCAwKSwhbilyZXR1cm4gT2JqZWN0LmNyZWF0ZSh0fHxudWxsKTtpZighdClyZXR1cm4gbjt2YXIgaT17fTtmb3IodmFyIGEgaW4gVChpLHQpLG4pe3ZhciBzPWlbYV0sYz1uW2FdO3MmJiFlKHMpJiYocz1bc10pLGlbYV09cz9zLmNvbmNhdChjKTplKGMpP2M6W2NdfXJldHVybiBpfSxmci5wcm9wcz1mci5tZXRob2RzPWZyLmluamVjdD1mci5jb21wdXRlZD1mdW5jdGlvbih0LGUsbixyKXtpZighdClyZXR1cm4gZTt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBUKG8sdCksZSYmVChvLGUpLG99LGZyLnByb3ZpZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD9mdW5jdGlvbigpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGRyKG4sYSh0KT90LmNhbGwodGhpcyk6dCksZSYmZHIobixhKGUpP2UuY2FsbCh0aGlzKTplLCExKSxufTplfTt2YXIgbXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZT90OmV9O2Z1bmN0aW9uIGdyKHQsbixyKXtpZihhKG4pJiYobj1uLm9wdGlvbnMpLGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5wcm9wcztpZihyKXt2YXIgbyxpLGE9e307aWYoZShyKSlmb3Iobz1yLmxlbmd0aDtvLS07KSJzdHJpbmciPT10eXBlb2YoaT1yW29dKSYmKGFbdyhpKV09e3R5cGU6bnVsbH0pO2Vsc2UgaWYodShyKSlmb3IodmFyIHMgaW4gcilpPXJbc10sYVt3KHMpXT11KGkpP2k6e3R5cGU6aX07dC5wcm9wcz1hfX0obiksZnVuY3Rpb24odCxuKXt2YXIgcj10LmluamVjdDtpZihyKXt2YXIgbz10LmluamVjdD17fTtpZihlKHIpKWZvcih2YXIgaT0wO2k8ci5sZW5ndGg7aSsrKW9bcltpXV09e2Zyb206cltpXX07ZWxzZSBpZih1KHIpKWZvcih2YXIgYSBpbiByKXt2YXIgcz1yW2FdO29bYV09dShzKT9UKHtmcm9tOmF9LHMpOntmcm9tOnN9fX19KG4pLGZ1bmN0aW9uKHQpe3ZhciBlPXQuZGlyZWN0aXZlcztpZihlKWZvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dO2EocikmJihlW25dPXtiaW5kOnIsdXBkYXRlOnJ9KX19KG4pLCFuLl9iYXNlJiYobi5leHRlbmRzJiYodD1ncih0LG4uZXh0ZW5kcyxyKSksbi5taXhpbnMpKWZvcih2YXIgbz0wLGk9bi5taXhpbnMubGVuZ3RoO288aTtvKyspdD1ncih0LG4ubWl4aW5zW29dLHIpO3ZhciBzLGM9e307Zm9yKHMgaW4gdClsKHMpO2ZvcihzIGluIG4pXyh0LHMpfHxsKHMpO2Z1bmN0aW9uIGwoZSl7dmFyIG89ZnJbZV18fG1yO2NbZV09byh0W2VdLG5bZV0scixlKX1yZXR1cm4gY31mdW5jdGlvbiB5cih0LGUsbixyKXtpZigic3RyaW5nIj09dHlwZW9mIG4pe3ZhciBvPXRbZV07aWYoXyhvLG4pKXJldHVybiBvW25dO3ZhciBpPXcobik7aWYoXyhvLGkpKXJldHVybiBvW2ldO3ZhciBhPXgoaSk7cmV0dXJuIF8obyxhKT9vW2FdOm9bbl18fG9baV18fG9bYV19fWZ1bmN0aW9uIF9yKHQsZSxuLHIpe3ZhciBvPWVbdF0saT0hXyhuLHQpLHM9blt0XSxjPXhyKEJvb2xlYW4sby50eXBlKTtpZihjPi0xKWlmKGkmJiFfKG8sImRlZmF1bHQiKSlzPSExO2Vsc2UgaWYoIiI9PT1zfHxzPT09ayh0KSl7dmFyIHU9eHIoU3RyaW5nLG8udHlwZSk7KHU8MHx8Yzx1KSYmKHM9ITApfWlmKHZvaWQgMD09PXMpe3M9ZnVuY3Rpb24odCxlLG4pe2lmKCFfKGUsImRlZmF1bHQiKSlyZXR1cm47dmFyIHI9ZS5kZWZhdWx0O2lmKHQmJnQuJG9wdGlvbnMucHJvcHNEYXRhJiZ2b2lkIDA9PT10LiRvcHRpb25zLnByb3BzRGF0YVtuXSYmdm9pZCAwIT09dC5fcHJvcHNbbl0pcmV0dXJuIHQuX3Byb3BzW25dO3JldHVybiBhKHIpJiYiRnVuY3Rpb24iIT09JHIoZS50eXBlKT9yLmNhbGwodCk6cn0ocixvLHQpO3ZhciBsPUN0O2t0KCEwKSxUdChzKSxrdChsKX1yZXR1cm4gc312YXIgYnI9L15ccypmdW5jdGlvbiAoXHcrKS87ZnVuY3Rpb24gJHIodCl7dmFyIGU9dCYmdC50b1N0cmluZygpLm1hdGNoKGJyKTtyZXR1cm4gZT9lWzFdOiIifWZ1bmN0aW9uIHdyKHQsZSl7cmV0dXJuICRyKHQpPT09JHIoZSl9ZnVuY3Rpb24geHIodCxuKXtpZighZShuKSlyZXR1cm4gd3Iobix0KT8wOi0xO2Zvcih2YXIgcj0wLG89bi5sZW5ndGg7cjxvO3IrKylpZih3cihuW3JdLHQpKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIENyKHQpe3RoaXMuX2luaXQodCl9ZnVuY3Rpb24ga3IodCl7dC5jaWQ9MDt2YXIgZT0xO3QuZXh0ZW5kPWZ1bmN0aW9uKHQpe3Q9dHx8e307dmFyIG49dGhpcyxyPW4uY2lkLG89dC5fQ3Rvcnx8KHQuX0N0b3I9e30pO2lmKG9bcl0pcmV0dXJuIG9bcl07dmFyIGk9aXIodCl8fGlyKG4ub3B0aW9ucyksYT1mdW5jdGlvbih0KXt0aGlzLl9pbml0KHQpfTtyZXR1cm4oYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPWEsYS5jaWQ9ZSsrLGEub3B0aW9ucz1ncihuLm9wdGlvbnMsdCksYS5zdXBlcj1uLGEub3B0aW9ucy5wcm9wcyYmZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb25zLnByb3BzO2Zvcih2YXIgbiBpbiBlKUpuKHQucHJvdG90eXBlLCJfcHJvcHMiLG4pfShhKSxhLm9wdGlvbnMuY29tcHV0ZWQmJmZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0aW9ucy5jb21wdXRlZDtmb3IodmFyIG4gaW4gZSlabih0LnByb3RvdHlwZSxuLGVbbl0pfShhKSxhLmV4dGVuZD1uLmV4dGVuZCxhLm1peGluPW4ubWl4aW4sYS51c2U9bi51c2UsUi5mb3JFYWNoKChmdW5jdGlvbih0KXthW3RdPW5bdF19KSksaSYmKGEub3B0aW9ucy5jb21wb25lbnRzW2ldPWEpLGEuc3VwZXJPcHRpb25zPW4ub3B0aW9ucyxhLmV4dGVuZE9wdGlvbnM9dCxhLnNlYWxlZE9wdGlvbnM9VCh7fSxhLm9wdGlvbnMpLG9bcl09YSxhfX1mdW5jdGlvbiBTcih0KXtyZXR1cm4gdCYmKGlyKHQuQ3Rvci5vcHRpb25zKXx8dC50YWcpfWZ1bmN0aW9uIE9yKHQsbil7cmV0dXJuIGUodCk/dC5pbmRleE9mKG4pPi0xOiJzdHJpbmciPT10eXBlb2YgdD90LnNwbGl0KCIsIikuaW5kZXhPZihuKT4tMToocj10LCJbb2JqZWN0IFJlZ0V4cF0iPT09Yy5jYWxsKHIpJiZ0LnRlc3QobikpO3ZhciByfWZ1bmN0aW9uIFRyKHQsZSl7dmFyIG49dC5jYWNoZSxyPXQua2V5cyxvPXQuX3Zub2RlO2Zvcih2YXIgaSBpbiBuKXt2YXIgYT1uW2ldO2lmKGEpe3ZhciBzPWEubmFtZTtzJiYhZShzKSYmQXIobixpLHIsbyl9fX1mdW5jdGlvbiBBcih0LGUsbixyKXt2YXIgbz10W2VdOyFvfHxyJiZvLnRhZz09PXIudGFnfHxvLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCksdFtlXT1udWxsLGcobixlKX0hZnVuY3Rpb24oZSl7ZS5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpcztuLl91aWQ9dHIrKyxuLl9pc1Z1ZT0hMCxuLl9fdl9za2lwPSEwLG4uX3Njb3BlPW5ldyB1bighMCksbi5fc2NvcGUuX3ZtPSEwLGUmJmUuX2lzQ29tcG9uZW50P2Z1bmN0aW9uKHQsZSl7dmFyIG49dC4kb3B0aW9ucz1PYmplY3QuY3JlYXRlKHQuY29uc3RydWN0b3Iub3B0aW9ucykscj1lLl9wYXJlbnRWbm9kZTtuLnBhcmVudD1lLnBhcmVudCxuLl9wYXJlbnRWbm9kZT1yO3ZhciBvPXIuY29tcG9uZW50T3B0aW9ucztuLnByb3BzRGF0YT1vLnByb3BzRGF0YSxuLl9wYXJlbnRMaXN0ZW5lcnM9by5saXN0ZW5lcnMsbi5fcmVuZGVyQ2hpbGRyZW49by5jaGlsZHJlbixuLl9jb21wb25lbnRUYWc9by50YWcsZS5yZW5kZXImJihuLnJlbmRlcj1lLnJlbmRlcixuLnN0YXRpY1JlbmRlckZucz1lLnN0YXRpY1JlbmRlckZucyl9KG4sZSk6bi4kb3B0aW9ucz1ncihlcihuLmNvbnN0cnVjdG9yKSxlfHx7fSxuKSxuLl9yZW5kZXJQcm94eT1uLG4uX3NlbGY9bixmdW5jdGlvbih0KXt2YXIgZT10LiRvcHRpb25zLG49ZS5wYXJlbnQ7aWYobiYmIWUuYWJzdHJhY3Qpe2Zvcig7bi4kb3B0aW9ucy5hYnN0cmFjdCYmbi4kcGFyZW50OyluPW4uJHBhcmVudDtuLiRjaGlsZHJlbi5wdXNoKHQpfXQuJHBhcmVudD1uLHQuJHJvb3Q9bj9uLiRyb290OnQsdC4kY2hpbGRyZW49W10sdC4kcmVmcz17fSx0Ll9wcm92aWRlZD1uP24uX3Byb3ZpZGVkOk9iamVjdC5jcmVhdGUobnVsbCksdC5fd2F0Y2hlcj1udWxsLHQuX2luYWN0aXZlPW51bGwsdC5fZGlyZWN0SW5hY3RpdmU9ITEsdC5faXNNb3VudGVkPSExLHQuX2lzRGVzdHJveWVkPSExLHQuX2lzQmVpbmdEZXN0cm95ZWQ9ITF9KG4pLGZ1bmN0aW9uKHQpe3QuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHQuX2hhc0hvb2tFdmVudD0hMTt2YXIgZT10LiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7ZSYmTWUodCxlKX0obiksZnVuY3Rpb24oZSl7ZS5fdm5vZGU9bnVsbCxlLl9zdGF0aWNUcmVlcz1udWxsO3ZhciBuPWUuJG9wdGlvbnMscj1lLiR2bm9kZT1uLl9wYXJlbnRWbm9kZSxvPXImJnIuY29udGV4dDtlLiRzbG90cz1nZShuLl9yZW5kZXJDaGlsZHJlbixvKSxlLiRzY29wZWRTbG90cz1yP2JlKGUuJHBhcmVudCxyLmRhdGEuc2NvcGVkU2xvdHMsZS4kc2xvdHMpOnQsZS5fYz1mdW5jdGlvbih0LG4scixvKXtyZXR1cm4gdGUoZSx0LG4scixvLCExKX0sZS4kY3JlYXRlRWxlbWVudD1mdW5jdGlvbih0LG4scixvKXtyZXR1cm4gdGUoZSx0LG4scixvLCEwKX07dmFyIGk9ciYmci5kYXRhO0F0KGUsIiRhdHRycyIsaSYmaS5hdHRyc3x8dCxudWxsLCEwKSxBdChlLCIkbGlzdGVuZXJzIixuLl9wYXJlbnRMaXN0ZW5lcnN8fHQsbnVsbCwhMCl9KG4pLEJlKG4sImJlZm9yZUNyZWF0ZSIsdm9pZCAwLCExKSxmdW5jdGlvbih0KXt2YXIgZT1Rbih0LiRvcHRpb25zLmluamVjdCx0KTtlJiYoa3QoITEpLE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe0F0KHQsbixlW25dKX0pKSxrdCghMCkpfShuKSxxbihuKSxmdW5jdGlvbih0KXt2YXIgZT10LiRvcHRpb25zLnByb3ZpZGU7aWYoZSl7dmFyIG49YShlKT9lLmNhbGwodCk6ZTtpZighcyhuKSlyZXR1cm47Zm9yKHZhciByPWxuKHQpLG89c3Q/UmVmbGVjdC5vd25LZXlzKG4pOk9iamVjdC5rZXlzKG4pLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIGM9b1tpXTtPYmplY3QuZGVmaW5lUHJvcGVydHkocixjLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixjKSl9fX0obiksQmUobiwiY3JlYXRlZCIpLG4uJG9wdGlvbnMuZWwmJm4uJG1vdW50KG4uJG9wdGlvbnMuZWwpfX0oQ3IpLGZ1bmN0aW9uKHQpe3ZhciBlPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX19LG49e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9wc319O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiJGRhdGEiLGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwiJHByb3BzIixuKSx0LnByb3RvdHlwZS4kc2V0PWp0LHQucHJvdG90eXBlLiRkZWxldGU9RXQsdC5wcm90b3R5cGUuJHdhdGNoPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzO2lmKHUoZSkpcmV0dXJuIFluKHIsdCxlLG4pOyhuPW58fHt9KS51c2VyPSEwO3ZhciBvPW5ldyBWbihyLHQsZSxuKTtpZihuLmltbWVkaWF0ZSl7dmFyIGk9J2NhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciAiJy5jb25jYXQoby5leHByZXNzaW9uLCciJyk7eXQoKSxkbihlLHIsW28udmFsdWVdLHIsaSksX3QoKX1yZXR1cm4gZnVuY3Rpb24oKXtvLnRlYXJkb3duKCl9fX0oQ3IpLGZ1bmN0aW9uKHQpe3ZhciBuPS9eaG9vazovO3QucHJvdG90eXBlLiRvbj1mdW5jdGlvbih0LHIpe3ZhciBvPXRoaXM7aWYoZSh0KSlmb3IodmFyIGk9MCxhPXQubGVuZ3RoO2k8YTtpKyspby4kb24odFtpXSxyKTtlbHNlKG8uX2V2ZW50c1t0XXx8KG8uX2V2ZW50c1t0XT1bXSkpLnB1c2gociksbi50ZXN0KHQpJiYoby5faGFzSG9va0V2ZW50PSEwKTtyZXR1cm4gb30sdC5wcm90b3R5cGUuJG9uY2U9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO2Z1bmN0aW9uIHIoKXtuLiRvZmYodCxyKSxlLmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5mbj1lLG4uJG9uKHQsciksbn0sdC5wcm90b3R5cGUuJG9mZj1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHIuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHI7aWYoZSh0KSl7Zm9yKHZhciBvPTAsaT10Lmxlbmd0aDtvPGk7bysrKXIuJG9mZih0W29dLG4pO3JldHVybiByfXZhciBhLHM9ci5fZXZlbnRzW3RdO2lmKCFzKXJldHVybiByO2lmKCFuKXJldHVybiByLl9ldmVudHNbdF09bnVsbCxyO2Zvcih2YXIgYz1zLmxlbmd0aDtjLS07KWlmKChhPXNbY10pPT09bnx8YS5mbj09PW4pe3Muc3BsaWNlKGMsMSk7YnJlYWt9cmV0dXJuIHJ9LHQucHJvdG90eXBlLiRlbWl0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1lLl9ldmVudHNbdF07aWYobil7bj1uLmxlbmd0aD4xP08obik6bjtmb3IodmFyIHI9Tyhhcmd1bWVudHMsMSksbz0nZXZlbnQgaGFuZGxlciBmb3IgIicuY29uY2F0KHQsJyInKSxpPTAsYT1uLmxlbmd0aDtpPGE7aSsrKWRuKG5baV0sZSxyLGUsbyl9cmV0dXJuIGV9fShDciksZnVuY3Rpb24odCl7dC5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uLiRlbCxvPW4uX3Zub2RlLGk9TGUobik7bi5fdm5vZGU9dCxuLiRlbD1vP24uX19wYXRjaF9fKG8sdCk6bi5fX3BhdGNoX18obi4kZWwsdCxlLCExKSxpKCksciYmKHIuX192dWVfXz1udWxsKSxuLiRlbCYmKG4uJGVsLl9fdnVlX189bik7Zm9yKHZhciBhPW47YSYmYS4kdm5vZGUmJmEuJHBhcmVudCYmYS4kdm5vZGU9PT1hLiRwYXJlbnQuX3Zub2RlOylhLiRwYXJlbnQuJGVsPWEuJGVsLGE9YS4kcGFyZW50fSx0LnByb3RvdHlwZS4kZm9yY2VVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl93YXRjaGVyJiZ0aGlzLl93YXRjaGVyLnVwZGF0ZSgpfSx0LnByb3RvdHlwZS4kZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXQuX2lzQmVpbmdEZXN0cm95ZWQpe0JlKHQsImJlZm9yZURlc3Ryb3kiKSx0Ll9pc0JlaW5nRGVzdHJveWVkPSEwO3ZhciBlPXQuJHBhcmVudDshZXx8ZS5faXNCZWluZ0Rlc3Ryb3llZHx8dC4kb3B0aW9ucy5hYnN0cmFjdHx8ZyhlLiRjaGlsZHJlbix0KSx0Ll9zY29wZS5zdG9wKCksdC5fZGF0YS5fX29iX18mJnQuX2RhdGEuX19vYl9fLnZtQ291bnQtLSx0Ll9pc0Rlc3Ryb3llZD0hMCx0Ll9fcGF0Y2hfXyh0Ll92bm9kZSxudWxsKSxCZSh0LCJkZXN0cm95ZWQiKSx0LiRvZmYoKSx0LiRlbCYmKHQuJGVsLl9fdnVlX189bnVsbCksdC4kdm5vZGUmJih0LiR2bm9kZS5wYXJlbnQ9bnVsbCl9fX0oQ3IpLGZ1bmN0aW9uKHQpe21lKHQucHJvdG90eXBlKSx0LnByb3RvdHlwZS4kbmV4dFRpY2s9ZnVuY3Rpb24odCl7cmV0dXJuIENuKHQsdGhpcyl9LHQucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj1uLiRvcHRpb25zLG89ci5yZW5kZXIsaT1yLl9wYXJlbnRWbm9kZTtpJiZuLl9pc01vdW50ZWQmJihuLiRzY29wZWRTbG90cz1iZShuLiRwYXJlbnQsaS5kYXRhLnNjb3BlZFNsb3RzLG4uJHNsb3RzLG4uJHNjb3BlZFNsb3RzKSxuLl9zbG90c1Byb3h5JiZTZShuLl9zbG90c1Byb3h5LG4uJHNjb3BlZFNsb3RzKSksbi4kdm5vZGU9aTt0cnl7dXQobiksQWU9bix0PW8uY2FsbChuLl9yZW5kZXJQcm94eSxuLiRjcmVhdGVFbGVtZW50KX1jYXRjaChlKXtmbihlLG4sInJlbmRlciIpLHQ9bi5fdm5vZGV9ZmluYWxseXtBZT1udWxsLHV0KCl9cmV0dXJuIGUodCkmJjE9PT10Lmxlbmd0aCYmKHQ9dFswXSksdCBpbnN0YW5jZW9mIGx0fHwodD1mdCgpKSx0LnBhcmVudD1pLHR9fShDcik7dmFyIGpyPVtTdHJpbmcsUmVnRXhwLEFycmF5XSxFcj17bmFtZToia2VlcC1hbGl2ZSIsYWJzdHJhY3Q6ITAscHJvcHM6e2luY2x1ZGU6anIsZXhjbHVkZTpqcixtYXg6W1N0cmluZyxOdW1iZXJdfSxtZXRob2RzOntjYWNoZVZOb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuY2FjaGUsbj10LmtleXMscj10LnZub2RlVG9DYWNoZSxvPXQua2V5VG9DYWNoZTtpZihyKXt2YXIgaT1yLnRhZyxhPXIuY29tcG9uZW50SW5zdGFuY2Uscz1yLmNvbXBvbmVudE9wdGlvbnM7ZVtvXT17bmFtZTpTcihzKSx0YWc6aSxjb21wb25lbnRJbnN0YW5jZTphfSxuLnB1c2gobyksdGhpcy5tYXgmJm4ubGVuZ3RoPnBhcnNlSW50KHRoaXMubWF4KSYmQXIoZSxuWzBdLG4sdGhpcy5fdm5vZGUpLHRoaXMudm5vZGVUb0NhY2hlPW51bGx9fX0sY3JlYXRlZDpmdW5jdGlvbigpe3RoaXMuY2FjaGU9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLmtleXM9W119LGRlc3Ryb3llZDpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmNhY2hlKUFyKHRoaXMuY2FjaGUsdCx0aGlzLmtleXMpfSxtb3VudGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmNhY2hlVk5vZGUoKSx0aGlzLiR3YXRjaCgiaW5jbHVkZSIsKGZ1bmN0aW9uKGUpe1RyKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBPcihlLHQpfSkpfSkpLHRoaXMuJHdhdGNoKCJleGNsdWRlIiwoZnVuY3Rpb24oZSl7VHIodCwoZnVuY3Rpb24odCl7cmV0dXJuIU9yKGUsdCl9KSl9KSl9LHVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlVk5vZGUoKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kc2xvdHMuZGVmYXVsdCxlPUVlKHQpLG49ZSYmZS5jb21wb25lbnRPcHRpb25zO2lmKG4pe3ZhciByPVNyKG4pLG89dGhpcy5pbmNsdWRlLGk9dGhpcy5leGNsdWRlO2lmKG8mJighcnx8IU9yKG8scikpfHxpJiZyJiZPcihpLHIpKXJldHVybiBlO3ZhciBhPXRoaXMuY2FjaGUscz10aGlzLmtleXMsYz1udWxsPT1lLmtleT9uLkN0b3IuY2lkKyhuLnRhZz8iOjoiLmNvbmNhdChuLnRhZyk6IiIpOmUua2V5O2FbY10/KGUuY29tcG9uZW50SW5zdGFuY2U9YVtjXS5jb21wb25lbnRJbnN0YW5jZSxnKHMsYykscy5wdXNoKGMpKToodGhpcy52bm9kZVRvQ2FjaGU9ZSx0aGlzLmtleVRvQ2FjaGU9YyksZS5kYXRhLmtlZXBBbGl2ZT0hMH1yZXR1cm4gZXx8dCYmdFswXX19LE5yPXtLZWVwQWxpdmU6RXJ9OyFmdW5jdGlvbih0KXt2YXIgZT17Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEh9fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiY29uZmlnIixlKSx0LnV0aWw9e3dhcm46bHIsZXh0ZW5kOlQsbWVyZ2VPcHRpb25zOmdyLGRlZmluZVJlYWN0aXZlOkF0fSx0LnNldD1qdCx0LmRlbGV0ZT1FdCx0Lm5leHRUaWNrPUNuLHQub2JzZXJ2YWJsZT1mdW5jdGlvbih0KXtyZXR1cm4gVHQodCksdH0sdC5vcHRpb25zPU9iamVjdC5jcmVhdGUobnVsbCksUi5mb3JFYWNoKChmdW5jdGlvbihlKXt0Lm9wdGlvbnNbZSsicyJdPU9iamVjdC5jcmVhdGUobnVsbCl9KSksdC5vcHRpb25zLl9iYXNlPXQsVCh0Lm9wdGlvbnMuY29tcG9uZW50cyxOciksZnVuY3Rpb24odCl7dC51c2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faW5zdGFsbGVkUGx1Z2luc3x8KHRoaXMuX2luc3RhbGxlZFBsdWdpbnM9W10pO2lmKGUuaW5kZXhPZih0KT4tMSlyZXR1cm4gdGhpczt2YXIgbj1PKGFyZ3VtZW50cywxKTtyZXR1cm4gbi51bnNoaWZ0KHRoaXMpLGEodC5pbnN0YWxsKT90Lmluc3RhbGwuYXBwbHkodCxuKTphKHQpJiZ0LmFwcGx5KG51bGwsbiksZS5wdXNoKHQpLHRoaXN9fSh0KSxmdW5jdGlvbih0KXt0Lm1peGluPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9wdGlvbnM9Z3IodGhpcy5vcHRpb25zLHQpLHRoaXN9fSh0KSxrcih0KSxmdW5jdGlvbih0KXtSLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj8oImNvbXBvbmVudCI9PT1lJiZ1KG4pJiYobi5uYW1lPW4ubmFtZXx8dCxuPXRoaXMub3B0aW9ucy5fYmFzZS5leHRlbmQobikpLCJkaXJlY3RpdmUiPT09ZSYmYShuKSYmKG49e2JpbmQ6bix1cGRhdGU6bn0pLHRoaXMub3B0aW9uc1tlKyJzIl1bdF09bixuKTp0aGlzLm9wdGlvbnNbZSsicyJdW3RdfX0pKX0odCl9KENyKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3IucHJvdG90eXBlLCIkaXNTZXJ2ZXIiLHtnZXQ6cnR9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3IucHJvdG90eXBlLCIkc3NyQ29udGV4dCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiR2bm9kZSYmdGhpcy4kdm5vZGUuc3NyQ29udGV4dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3IsIkZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0Iix7dmFsdWU6bnJ9KSxDci52ZXJzaW9uPVJuO3ZhciBQcj12KCJzdHlsZSxjbGFzcyIpLERyPXYoImlucHV0LHRleHRhcmVhLG9wdGlvbixzZWxlY3QscHJvZ3Jlc3MiKSxNcj1mdW5jdGlvbih0LGUsbil7cmV0dXJuInZhbHVlIj09PW4mJkRyKHQpJiYiYnV0dG9uIiE9PWV8fCJzZWxlY3RlZCI9PT1uJiYib3B0aW9uIj09PXR8fCJjaGVja2VkIj09PW4mJiJpbnB1dCI9PT10fHwibXV0ZWQiPT09biYmInZpZGVvIj09PXR9LElyPXYoImNvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjayIpLExyPXYoImV2ZW50cyxjYXJldCx0eXBpbmcscGxhaW50ZXh0LW9ubHkiKSxScj12KCJhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLGRlZmF1bHQsZGVmYXVsdGNoZWNrZWQsZGVmYXVsdG11dGVkLGRlZmF1bHRzZWxlY3RlZCxkZWZlcixkaXNhYmxlZCxlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLG11dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHkscmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNvcnRhYmxlLHRydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUiKSxGcj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsSHI9ZnVuY3Rpb24odCl7cmV0dXJuIjoiPT09dC5jaGFyQXQoNSkmJiJ4bGluayI9PT10LnNsaWNlKDAsNSl9LEJyPWZ1bmN0aW9uKHQpe3JldHVybiBIcih0KT90LnNsaWNlKDYsdC5sZW5ndGgpOiIifSxVcj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dHx8ITE9PT10fTtmdW5jdGlvbiB6cih0KXtmb3IodmFyIGU9dC5kYXRhLG49dCxvPXQ7cihvLmNvbXBvbmVudEluc3RhbmNlKTspKG89by5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpJiZvLmRhdGEmJihlPVZyKG8uZGF0YSxlKSk7Zm9yKDtyKG49bi5wYXJlbnQpOyluJiZuLmRhdGEmJihlPVZyKGUsbi5kYXRhKSk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYocih0KXx8cihlKSlyZXR1cm4gS3IodCxKcihlKSk7cmV0dXJuIiJ9KGUuc3RhdGljQ2xhc3MsZS5jbGFzcyl9ZnVuY3Rpb24gVnIodCxlKXtyZXR1cm57c3RhdGljQ2xhc3M6S3IodC5zdGF0aWNDbGFzcyxlLnN0YXRpY0NsYXNzKSxjbGFzczpyKHQuY2xhc3MpP1t0LmNsYXNzLGUuY2xhc3NdOmUuY2xhc3N9fWZ1bmN0aW9uIEtyKHQsZSl7cmV0dXJuIHQ/ZT90KyIgIitlOnQ6ZXx8IiJ9ZnVuY3Rpb24gSnIodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49IiIsbz0wLGk9dC5sZW5ndGg7bzxpO28rKylyKGU9SnIodFtvXSkpJiYiIiE9PWUmJihuJiYobis9IiAiKSxuKz1lKTtyZXR1cm4gbn0odCk6cyh0KT9mdW5jdGlvbih0KXt2YXIgZT0iIjtmb3IodmFyIG4gaW4gdCl0W25dJiYoZSYmKGUrPSIgIiksZSs9bik7cmV0dXJuIGV9KHQpOiJzdHJpbmciPT10eXBlb2YgdD90OiIifXZhciBxcj17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsbWF0aDoiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCJ9LFdyPXYoImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSxjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290IiksWnI9digic3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLGZvcmVpZ25vYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXciLCEwKSxHcj1mdW5jdGlvbih0KXtyZXR1cm4gV3IodCl8fFpyKHQpfTtmdW5jdGlvbiBYcih0KXtyZXR1cm4gWnIodCk/InN2ZyI6Im1hdGgiPT09dD8ibWF0aCI6dm9pZCAwfXZhciBZcj1PYmplY3QuY3JlYXRlKG51bGwpO3ZhciBRcj12KCJ0ZXh0LG51bWJlcixwYXNzd29yZCxzZWFyY2gsZW1haWwsdGVsLHVybCIpO2Z1bmN0aW9uIHRvKHQpe2lmKCJzdHJpbmciPT10eXBlb2YgdCl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KTtyZXR1cm4gZXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iil9cmV0dXJuIHR9dmFyIGVvPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24odCxlKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO3JldHVybiJzZWxlY3QiIT09dHx8ZS5kYXRhJiZlLmRhdGEuYXR0cnMmJnZvaWQgMCE9PWUuZGF0YS5hdHRycy5tdWx0aXBsZSYmbi5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwibXVsdGlwbGUiKSxufSxjcmVhdGVFbGVtZW50TlM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHFyW3RdLGUpfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCl9LGNyZWF0ZUNvbW1lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodCl9LGluc2VydEJlZm9yZTpmdW5jdGlvbih0LGUsbil7dC5pbnNlcnRCZWZvcmUoZSxuKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24odCxlKXt0LnJlbW92ZUNoaWxkKGUpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbih0LGUpe3QuYXBwZW5kQ2hpbGQoZSl9LHBhcmVudE5vZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Tm9kZX0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQubmV4dFNpYmxpbmd9LHRhZ05hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFnTmFtZX0sc2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24odCxlKXt0LnRleHRDb250ZW50PWV9LHNldFN0eWxlU2NvcGU6ZnVuY3Rpb24odCxlKXt0LnNldEF0dHJpYnV0ZShlLCIiKX19KSxubz17Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cm8oZSl9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3QuZGF0YS5yZWYhPT1lLmRhdGEucmVmJiYocm8odCwhMCkscm8oZSkpfSxkZXN0cm95OmZ1bmN0aW9uKHQpe3JvKHQsITApfX07ZnVuY3Rpb24gcm8odCxuKXt2YXIgbz10LmRhdGEucmVmO2lmKHIobykpe3ZhciBpPXQuY29udGV4dCxzPXQuY29tcG9uZW50SW5zdGFuY2V8fHQuZWxtLGM9bj9udWxsOnMsdT1uP3ZvaWQgMDpzO2lmKGEobykpZG4obyxpLFtjXSxpLCJ0ZW1wbGF0ZSByZWYgZnVuY3Rpb24iKTtlbHNle3ZhciBsPXQuZGF0YS5yZWZJbkZvcixmPSJzdHJpbmciPT10eXBlb2Ygb3x8Im51bWJlciI9PXR5cGVvZiBvLGQ9RnQobykscD1pLiRyZWZzO2lmKGZ8fGQpaWYobCl7dmFyIHY9Zj9wW29dOm8udmFsdWU7bj9lKHYpJiZnKHYscyk6ZSh2KT92LmluY2x1ZGVzKHMpfHx2LnB1c2gocyk6Zj8ocFtvXT1bc10sb28oaSxvLHBbb10pKTpvLnZhbHVlPVtzXX1lbHNlIGlmKGYpe2lmKG4mJnBbb10hPT1zKXJldHVybjtwW29dPXUsb28oaSxvLGMpfWVsc2UgaWYoZCl7aWYobiYmby52YWx1ZSE9PXMpcmV0dXJuO28udmFsdWU9Y319fX1mdW5jdGlvbiBvbyh0LGUsbil7dmFyIHI9dC5fc2V0dXBTdGF0ZTtyJiZfKHIsZSkmJihGdChyW2VdKT9yW2VdLnZhbHVlPW46cltlXT1uKX12YXIgaW89bmV3IGx0KCIiLHt9LFtdKSxhbz1bImNyZWF0ZSIsImFjdGl2YXRlIiwidXBkYXRlIiwicmVtb3ZlIiwiZGVzdHJveSJdO2Z1bmN0aW9uIHNvKHQsZSl7cmV0dXJuIHQua2V5PT09ZS5rZXkmJnQuYXN5bmNGYWN0b3J5PT09ZS5hc3luY0ZhY3RvcnkmJih0LnRhZz09PWUudGFnJiZ0LmlzQ29tbWVudD09PWUuaXNDb21tZW50JiZyKHQuZGF0YSk9PT1yKGUuZGF0YSkmJmZ1bmN0aW9uKHQsZSl7aWYoImlucHV0IiE9PXQudGFnKXJldHVybiEwO3ZhciBuLG89cihuPXQuZGF0YSkmJnIobj1uLmF0dHJzKSYmbi50eXBlLGk9cihuPWUuZGF0YSkmJnIobj1uLmF0dHJzKSYmbi50eXBlO3JldHVybiBvPT09aXx8UXIobykmJlFyKGkpfSh0LGUpfHxvKHQuaXNBc3luY1BsYWNlaG9sZGVyKSYmbihlLmFzeW5jRmFjdG9yeS5lcnJvcikpfWZ1bmN0aW9uIGNvKHQsZSxuKXt2YXIgbyxpLGE9e307Zm9yKG89ZTtvPD1uOysrbylyKGk9dFtvXS5rZXkpJiYoYVtpXT1vKTtyZXR1cm4gYX12YXIgdW89e2NyZWF0ZTpsbyx1cGRhdGU6bG8sZGVzdHJveTpmdW5jdGlvbih0KXtsbyh0LGlvKX19O2Z1bmN0aW9uIGxvKHQsZSl7KHQuZGF0YS5kaXJlY3RpdmVzfHxlLmRhdGEuZGlyZWN0aXZlcykmJmZ1bmN0aW9uKHQsZSl7dmFyIG4scixvLGk9dD09PWlvLGE9ZT09PWlvLHM9cG8odC5kYXRhLmRpcmVjdGl2ZXMsdC5jb250ZXh0KSxjPXBvKGUuZGF0YS5kaXJlY3RpdmVzLGUuY29udGV4dCksdT1bXSxsPVtdO2ZvcihuIGluIGMpcj1zW25dLG89Y1tuXSxyPyhvLm9sZFZhbHVlPXIudmFsdWUsby5vbGRBcmc9ci5hcmcsaG8obywidXBkYXRlIixlLHQpLG8uZGVmJiZvLmRlZi5jb21wb25lbnRVcGRhdGVkJiZsLnB1c2gobykpOihobyhvLCJiaW5kIixlLHQpLG8uZGVmJiZvLmRlZi5pbnNlcnRlZCYmdS5wdXNoKG8pKTtpZih1Lmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHUubGVuZ3RoO24rKylobyh1W25dLCJpbnNlcnRlZCIsZSx0KX07aT9adChlLCJpbnNlcnQiLGYpOmYoKX1sLmxlbmd0aCYmWnQoZSwicG9zdHBhdGNoIiwoZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGwubGVuZ3RoO24rKylobyhsW25dLCJjb21wb25lbnRVcGRhdGVkIixlLHQpfSkpO2lmKCFpKWZvcihuIGluIHMpY1tuXXx8aG8oc1tuXSwidW5iaW5kIix0LHQsYSl9KHQsZSl9dmFyIGZvPU9iamVjdC5jcmVhdGUobnVsbCk7ZnVuY3Rpb24gcG8odCxlKXt2YXIgbixyLG89T2JqZWN0LmNyZWF0ZShudWxsKTtpZighdClyZXR1cm4gbztmb3Iobj0wO248dC5sZW5ndGg7bisrKXtpZigocj10W25dKS5tb2RpZmllcnN8fChyLm1vZGlmaWVycz1mbyksb1t2byhyKV09cixlLl9zZXR1cFN0YXRlJiZlLl9zZXR1cFN0YXRlLl9fc2ZjKXt2YXIgaT1yLmRlZnx8eXIoZSwiX3NldHVwU3RhdGUiLCJ2LSIrci5uYW1lKTtyLmRlZj0iZnVuY3Rpb24iPT10eXBlb2YgaT97YmluZDppLHVwZGF0ZTppfTppfXIuZGVmPXIuZGVmfHx5cihlLiRvcHRpb25zLCJkaXJlY3RpdmVzIixyLm5hbWUpfXJldHVybiBvfWZ1bmN0aW9uIHZvKHQpe3JldHVybiB0LnJhd05hbWV8fCIiLmNvbmNhdCh0Lm5hbWUsIi4iKS5jb25jYXQoT2JqZWN0LmtleXModC5tb2RpZmllcnN8fHt9KS5qb2luKCIuIikpfWZ1bmN0aW9uIGhvKHQsZSxuLHIsbyl7dmFyIGk9dC5kZWYmJnQuZGVmW2VdO2lmKGkpdHJ5e2kobi5lbG0sdCxuLHIsbyl9Y2F0Y2gocil7Zm4ocixuLmNvbnRleHQsImRpcmVjdGl2ZSAiLmNvbmNhdCh0Lm5hbWUsIiAiKS5jb25jYXQoZSwiIGhvb2siKSl9fXZhciBtbz1bbm8sdW9dO2Z1bmN0aW9uIGdvKHQsZSl7dmFyIGk9ZS5jb21wb25lbnRPcHRpb25zO2lmKCEocihpKSYmITE9PT1pLkN0b3Iub3B0aW9ucy5pbmhlcml0QXR0cnN8fG4odC5kYXRhLmF0dHJzKSYmbihlLmRhdGEuYXR0cnMpKSl7dmFyIGEscyxjPWUuZWxtLHU9dC5kYXRhLmF0dHJzfHx7fSxsPWUuZGF0YS5hdHRyc3x8e307Zm9yKGEgaW4ocihsLl9fb2JfXyl8fG8obC5fdl9hdHRyX3Byb3h5KSkmJihsPWUuZGF0YS5hdHRycz1UKHt9LGwpKSxsKXM9bFthXSx1W2FdIT09cyYmeW8oYyxhLHMsZS5kYXRhLnByZSk7Zm9yKGEgaW4oV3x8RykmJmwudmFsdWUhPT11LnZhbHVlJiZ5byhjLCJ2YWx1ZSIsbC52YWx1ZSksdSluKGxbYV0pJiYoSHIoYSk/Yy5yZW1vdmVBdHRyaWJ1dGVOUyhGcixCcihhKSk6SXIoYSl8fGMucmVtb3ZlQXR0cmlidXRlKGEpKX19ZnVuY3Rpb24geW8odCxlLG4scil7cnx8dC50YWdOYW1lLmluZGV4T2YoIi0iKT4tMT9fbyh0LGUsbik6UnIoZSk/VXIobik/dC5yZW1vdmVBdHRyaWJ1dGUoZSk6KG49ImFsbG93ZnVsbHNjcmVlbiI9PT1lJiYiRU1CRUQiPT09dC50YWdOYW1lPyJ0cnVlIjplLHQuc2V0QXR0cmlidXRlKGUsbikpOklyKGUpP3Quc2V0QXR0cmlidXRlKGUsZnVuY3Rpb24odCxlKXtyZXR1cm4gVXIoZSl8fCJmYWxzZSI9PT1lPyJmYWxzZSI6ImNvbnRlbnRlZGl0YWJsZSI9PT10JiZMcihlKT9lOiJ0cnVlIn0oZSxuKSk6SHIoZSk/VXIobik/dC5yZW1vdmVBdHRyaWJ1dGVOUyhGcixCcihlKSk6dC5zZXRBdHRyaWJ1dGVOUyhGcixlLG4pOl9vKHQsZSxuKX1mdW5jdGlvbiBfbyh0LGUsbil7aWYoVXIobikpdC5yZW1vdmVBdHRyaWJ1dGUoZSk7ZWxzZXtpZihXJiYhWiYmIlRFWFRBUkVBIj09PXQudGFnTmFtZSYmInBsYWNlaG9sZGVyIj09PWUmJiIiIT09biYmIXQuX19pZXBoKXt2YXIgcj1mdW5jdGlvbihlKXtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaW5wdXQiLHIpfTt0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixyKSx0Ll9faWVwaD0hMH10LnNldEF0dHJpYnV0ZShlLG4pfX12YXIgYm89e2NyZWF0ZTpnbyx1cGRhdGU6Z299O2Z1bmN0aW9uICRvKHQsZSl7dmFyIG89ZS5lbG0saT1lLmRhdGEsYT10LmRhdGE7aWYoIShuKGkuc3RhdGljQ2xhc3MpJiZuKGkuY2xhc3MpJiYobihhKXx8bihhLnN0YXRpY0NsYXNzKSYmbihhLmNsYXNzKSkpKXt2YXIgcz16cihlKSxjPW8uX3RyYW5zaXRpb25DbGFzc2VzO3IoYykmJihzPUtyKHMsSnIoYykpKSxzIT09by5fcHJldkNsYXNzJiYoby5zZXRBdHRyaWJ1dGUoImNsYXNzIixzKSxvLl9wcmV2Q2xhc3M9cyl9fXZhciB3byx4byxDbyxrbyxTbyxPbyxUbz17Y3JlYXRlOiRvLHVwZGF0ZTokb30sQW89L1tcdykuK1wtXyRcXV0vO2Z1bmN0aW9uIGpvKHQpe3ZhciBlLG4scixvLGksYT0hMSxzPSExLGM9ITEsdT0hMSxsPTAsZj0wLGQ9MCxwPTA7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKylpZihuPWUsZT10LmNoYXJDb2RlQXQociksYSkzOT09PWUmJjkyIT09biYmKGE9ITEpO2Vsc2UgaWYocykzND09PWUmJjkyIT09biYmKHM9ITEpO2Vsc2UgaWYoYyk5Nj09PWUmJjkyIT09biYmKGM9ITEpO2Vsc2UgaWYodSk0Nz09PWUmJjkyIT09biYmKHU9ITEpO2Vsc2UgaWYoMTI0IT09ZXx8MTI0PT09dC5jaGFyQ29kZUF0KHIrMSl8fDEyND09PXQuY2hhckNvZGVBdChyLTEpfHxsfHxmfHxkKXtzd2l0Y2goZSl7Y2FzZSAzNDpzPSEwO2JyZWFrO2Nhc2UgMzk6YT0hMDticmVhaztjYXNlIDk2OmM9ITA7YnJlYWs7Y2FzZSA0MDpkKys7YnJlYWs7Y2FzZSA0MTpkLS07YnJlYWs7Y2FzZSA5MTpmKys7YnJlYWs7Y2FzZSA5MzpmLS07YnJlYWs7Y2FzZSAxMjM6bCsrO2JyZWFrO2Nhc2UgMTI1OmwtLX1pZig0Nz09PWUpe2Zvcih2YXIgdj1yLTEsaD12b2lkIDA7dj49MCYmIiAiPT09KGg9dC5jaGFyQXQodikpO3YtLSk7aCYmQW8udGVzdChoKXx8KHU9ITApfX1lbHNlIHZvaWQgMD09PW8/KHA9cisxLG89dC5zbGljZSgwLHIpLnRyaW0oKSk6bSgpO2Z1bmN0aW9uIG0oKXsoaXx8KGk9W10pKS5wdXNoKHQuc2xpY2UocCxyKS50cmltKCkpLHA9cisxfWlmKHZvaWQgMD09PW8/bz10LnNsaWNlKDAscikudHJpbSgpOjAhPT1wJiZtKCksaSlmb3Iocj0wO3I8aS5sZW5ndGg7cisrKW89RW8obyxpW3JdKTtyZXR1cm4gb31mdW5jdGlvbiBFbyh0LGUpe3ZhciBuPWUuaW5kZXhPZigiKCIpO2lmKG48MClyZXR1cm4nX2YoIicuY29uY2F0KGUsJyIpKCcpLmNvbmNhdCh0LCIpIik7dmFyIHI9ZS5zbGljZSgwLG4pLG89ZS5zbGljZShuKzEpO3JldHVybidfZigiJy5jb25jYXQociwnIikoJykuY29uY2F0KHQpLmNvbmNhdCgiKSIhPT1vPyIsIitvOm8pfWZ1bmN0aW9uIE5vKHQsZSl7Y29uc29sZS5lcnJvcigiW1Z1ZSBjb21waWxlcl06ICIuY29uY2F0KHQpKX1mdW5jdGlvbiBQbyh0LGUpe3JldHVybiB0P3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdFtlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpOltdfWZ1bmN0aW9uIERvKHQsZSxuLHIsbyl7KHQucHJvcHN8fCh0LnByb3BzPVtdKSkucHVzaCh6byh7bmFtZTplLHZhbHVlOm4sZHluYW1pYzpvfSxyKSksdC5wbGFpbj0hMX1mdW5jdGlvbiBNbyh0LGUsbixyLG8peyhvP3QuZHluYW1pY0F0dHJzfHwodC5keW5hbWljQXR0cnM9W10pOnQuYXR0cnN8fCh0LmF0dHJzPVtdKSkucHVzaCh6byh7bmFtZTplLHZhbHVlOm4sZHluYW1pYzpvfSxyKSksdC5wbGFpbj0hMX1mdW5jdGlvbiBJbyh0LGUsbixyKXt0LmF0dHJzTWFwW2VdPW4sdC5hdHRyc0xpc3QucHVzaCh6byh7bmFtZTplLHZhbHVlOm59LHIpKX1mdW5jdGlvbiBMbyh0LGUsbixyLG8saSxhLHMpeyh0LmRpcmVjdGl2ZXN8fCh0LmRpcmVjdGl2ZXM9W10pKS5wdXNoKHpvKHtuYW1lOmUscmF3TmFtZTpuLHZhbHVlOnIsYXJnOm8saXNEeW5hbWljQXJnOmksbW9kaWZpZXJzOmF9LHMpKSx0LnBsYWluPSExfWZ1bmN0aW9uIFJvKHQsZSxuKXtyZXR1cm4gbj8iX3AoIi5jb25jYXQoZSwnLCInKS5jb25jYXQodCwnIiknKTp0K2V9ZnVuY3Rpb24gRm8oZSxuLHIsbyxpLGEscyxjKXt2YXIgdTsobz1vfHx0KS5yaWdodD9jP249IigiLmNvbmNhdChuLCIpPT09J2NsaWNrJz8nY29udGV4dG1lbnUnOigiKS5jb25jYXQobiwiKSIpOiJjbGljayI9PT1uJiYobj0iY29udGV4dG1lbnUiLGRlbGV0ZSBvLnJpZ2h0KTpvLm1pZGRsZSYmKGM/bj0iKCIuY29uY2F0KG4sIik9PT0nY2xpY2snPydtb3VzZXVwJzooIikuY29uY2F0KG4sIikiKToiY2xpY2siPT09biYmKG49Im1vdXNldXAiKSksby5jYXB0dXJlJiYoZGVsZXRlIG8uY2FwdHVyZSxuPVJvKCIhIixuLGMpKSxvLm9uY2UmJihkZWxldGUgby5vbmNlLG49Um8oIn4iLG4sYykpLG8ucGFzc2l2ZSYmKGRlbGV0ZSBvLnBhc3NpdmUsbj1SbygiJiIsbixjKSksby5uYXRpdmU/KGRlbGV0ZSBvLm5hdGl2ZSx1PWUubmF0aXZlRXZlbnRzfHwoZS5uYXRpdmVFdmVudHM9e30pKTp1PWUuZXZlbnRzfHwoZS5ldmVudHM9e30pO3ZhciBsPXpvKHt2YWx1ZTpyLnRyaW0oKSxkeW5hbWljOmN9LHMpO28hPT10JiYobC5tb2RpZmllcnM9byk7dmFyIGY9dVtuXTtBcnJheS5pc0FycmF5KGYpP2k/Zi51bnNoaWZ0KGwpOmYucHVzaChsKTp1W25dPWY/aT9bbCxmXTpbZixsXTpsLGUucGxhaW49ITF9ZnVuY3Rpb24gSG8odCxlLG4pe3ZhciByPUJvKHQsIjoiK2UpfHxCbyh0LCJ2LWJpbmQ6IitlKTtpZihudWxsIT1yKXJldHVybiBqbyhyKTtpZighMSE9PW4pe3ZhciBvPUJvKHQsZSk7aWYobnVsbCE9bylyZXR1cm4gSlNPTi5zdHJpbmdpZnkobyl9fWZ1bmN0aW9uIEJvKHQsZSxuKXt2YXIgcjtpZihudWxsIT0ocj10LmF0dHJzTWFwW2VdKSlmb3IodmFyIG89dC5hdHRyc0xpc3QsaT0wLGE9by5sZW5ndGg7aTxhO2krKylpZihvW2ldLm5hbWU9PT1lKXtvLnNwbGljZShpLDEpO2JyZWFrfXJldHVybiBuJiZkZWxldGUgdC5hdHRyc01hcFtlXSxyfWZ1bmN0aW9uIFVvKHQsZSl7Zm9yKHZhciBuPXQuYXR0cnNMaXN0LHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBpPW5bcl07aWYoZS50ZXN0KGkubmFtZSkpcmV0dXJuIG4uc3BsaWNlKHIsMSksaX19ZnVuY3Rpb24gem8odCxlKXtyZXR1cm4gZSYmKG51bGwhPWUuc3RhcnQmJih0LnN0YXJ0PWUuc3RhcnQpLG51bGwhPWUuZW5kJiYodC5lbmQ9ZS5lbmQpKSx0fWZ1bmN0aW9uIFZvKHQsZSxuKXt2YXIgcj1ufHx7fSxvPXIubnVtYmVyLGk9IiQkdiIsYT1pO3IudHJpbSYmKGE9Iih0eXBlb2YgIi5jb25jYXQoaSwiID09PSAnc3RyaW5nJyIpKyI/ICIuY29uY2F0KGksIi50cmltKCkiKSsiOiAiLmNvbmNhdChpLCIpIikpLG8mJihhPSJfbigiLmNvbmNhdChhLCIpIikpO3ZhciBzPUtvKGUsYSk7dC5tb2RlbD17dmFsdWU6IigiLmNvbmNhdChlLCIpIiksZXhwcmVzc2lvbjpKU09OLnN0cmluZ2lmeShlKSxjYWxsYmFjazoiZnVuY3Rpb24gKCIuY29uY2F0KGksIikgeyIpLmNvbmNhdChzLCJ9Iil9fWZ1bmN0aW9uIEtvKHQsZSl7dmFyIG49ZnVuY3Rpb24odCl7aWYodD10LnRyaW0oKSx3bz10Lmxlbmd0aCx0LmluZGV4T2YoIlsiKTwwfHx0Lmxhc3RJbmRleE9mKCJdIik8d28tMSlyZXR1cm4oa289dC5sYXN0SW5kZXhPZigiLiIpKT4tMT97ZXhwOnQuc2xpY2UoMCxrbyksa2V5OiciJyt0LnNsaWNlKGtvKzEpKyciJ306e2V4cDp0LGtleTpudWxsfTt4bz10LGtvPVNvPU9vPTA7Zm9yKDshcW8oKTspV28oQ289Sm8oKSk/R28oQ28pOjkxPT09Q28mJlpvKENvKTtyZXR1cm57ZXhwOnQuc2xpY2UoMCxTbyksa2V5OnQuc2xpY2UoU28rMSxPbyl9fSh0KTtyZXR1cm4gbnVsbD09PW4ua2V5PyIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGUpOiIkc2V0KCIuY29uY2F0KG4uZXhwLCIsICIpLmNvbmNhdChuLmtleSwiLCAiKS5jb25jYXQoZSwiKSIpfWZ1bmN0aW9uIEpvKCl7cmV0dXJuIHhvLmNoYXJDb2RlQXQoKytrbyl9ZnVuY3Rpb24gcW8oKXtyZXR1cm4ga28+PXdvfWZ1bmN0aW9uIFdvKHQpe3JldHVybiAzND09PXR8fDM5PT09dH1mdW5jdGlvbiBabyh0KXt2YXIgZT0xO2ZvcihTbz1rbzshcW8oKTspaWYoV28odD1KbygpKSlHbyh0KTtlbHNlIGlmKDkxPT09dCYmZSsrLDkzPT09dCYmZS0tLDA9PT1lKXtPbz1rbzticmVha319ZnVuY3Rpb24gR28odCl7Zm9yKHZhciBlPXQ7IXFvKCkmJih0PUpvKCkpIT09ZTspO312YXIgWG8sWW89Il9fciI7ZnVuY3Rpb24gUW8odCxlLG4pe3ZhciByPVhvO3JldHVybiBmdW5jdGlvbiBvKCl7dmFyIGk9ZS5hcHBseShudWxsLGFyZ3VtZW50cyk7bnVsbCE9PWkmJm5pKHQsbyxuLHIpfX12YXIgdGk9bW4mJiEoUSYmTnVtYmVyKFFbMV0pPD01Myk7ZnVuY3Rpb24gZWkodCxlLG4scil7aWYodGkpe3ZhciBvPVdlLGk9ZTtlPWkuX3dyYXBwZXI9ZnVuY3Rpb24odCl7aWYodC50YXJnZXQ9PT10LmN1cnJlbnRUYXJnZXR8fHQudGltZVN0YW1wPj1vfHx0LnRpbWVTdGFtcDw9MHx8dC50YXJnZXQub3duZXJEb2N1bWVudCE9PWRvY3VtZW50KXJldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19WG8uYWRkRXZlbnRMaXN0ZW5lcih0LGUsZXQ/e2NhcHR1cmU6bixwYXNzaXZlOnJ9Om4pfWZ1bmN0aW9uIG5pKHQsZSxuLHIpeyhyfHxYbykucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUuX3dyYXBwZXJ8fGUsbil9ZnVuY3Rpb24gcmkodCxlKXtpZighbih0LmRhdGEub24pfHwhbihlLmRhdGEub24pKXt2YXIgbz1lLmRhdGEub258fHt9LGk9dC5kYXRhLm9ufHx7fTtYbz1lLmVsbXx8dC5lbG0sZnVuY3Rpb24odCl7aWYocih0Ll9fcikpe3ZhciBlPVc/ImNoYW5nZSI6ImlucHV0Ijt0W2VdPVtdLmNvbmNhdCh0Ll9fcix0W2VdfHxbXSksZGVsZXRlIHQuX19yfXIodC5fX2MpJiYodC5jaGFuZ2U9W10uY29uY2F0KHQuX19jLHQuY2hhbmdlfHxbXSksZGVsZXRlIHQuX19jKX0obyksV3QobyxpLGVpLG5pLFFvLGUuY29udGV4dCksWG89dm9pZCAwfX12YXIgb2ksaWk9e2NyZWF0ZTpyaSx1cGRhdGU6cmksZGVzdHJveTpmdW5jdGlvbih0KXtyZXR1cm4gcmkodCxpbyl9fTtmdW5jdGlvbiBhaSh0LGUpe2lmKCFuKHQuZGF0YS5kb21Qcm9wcyl8fCFuKGUuZGF0YS5kb21Qcm9wcykpe3ZhciBpLGEscz1lLmVsbSxjPXQuZGF0YS5kb21Qcm9wc3x8e30sdT1lLmRhdGEuZG9tUHJvcHN8fHt9O2ZvcihpIGluKHIodS5fX29iX18pfHxvKHUuX3ZfYXR0cl9wcm94eSkpJiYodT1lLmRhdGEuZG9tUHJvcHM9VCh7fSx1KSksYylpIGluIHV8fChzW2ldPSIiKTtmb3IoaSBpbiB1KXtpZihhPXVbaV0sInRleHRDb250ZW50Ij09PWl8fCJpbm5lckhUTUwiPT09aSl7aWYoZS5jaGlsZHJlbiYmKGUuY2hpbGRyZW4ubGVuZ3RoPTApLGE9PT1jW2ldKWNvbnRpbnVlOzE9PT1zLmNoaWxkTm9kZXMubGVuZ3RoJiZzLnJlbW92ZUNoaWxkKHMuY2hpbGROb2Rlc1swXSl9aWYoInZhbHVlIj09PWkmJiJQUk9HUkVTUyIhPT1zLnRhZ05hbWUpe3MuX3ZhbHVlPWE7dmFyIGw9bihhKT8iIjpTdHJpbmcoYSk7c2kocyxsKSYmKHMudmFsdWU9bCl9ZWxzZSBpZigiaW5uZXJIVE1MIj09PWkmJlpyKHMudGFnTmFtZSkmJm4ocy5pbm5lckhUTUwpKXsob2k9b2l8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9Ijxzdmc+Ii5jb25jYXQoYSwiPC9zdmc+Iik7Zm9yKHZhciBmPW9pLmZpcnN0Q2hpbGQ7cy5maXJzdENoaWxkOylzLnJlbW92ZUNoaWxkKHMuZmlyc3RDaGlsZCk7Zm9yKDtmLmZpcnN0Q2hpbGQ7KXMuYXBwZW5kQ2hpbGQoZi5maXJzdENoaWxkKX1lbHNlIGlmKGEhPT1jW2ldKXRyeXtzW2ldPWF9Y2F0Y2godCl7fX19fWZ1bmN0aW9uIHNpKHQsZSl7cmV0dXJuIXQuY29tcG9zaW5nJiYoIk9QVElPTiI9PT10LnRhZ05hbWV8fGZ1bmN0aW9uKHQsZSl7dmFyIG49ITA7dHJ5e249ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PXR9Y2F0Y2godCl7fXJldHVybiBuJiZ0LnZhbHVlIT09ZX0odCxlKXx8ZnVuY3Rpb24odCxlKXt2YXIgbj10LnZhbHVlLG89dC5fdk1vZGlmaWVycztpZihyKG8pKXtpZihvLm51bWJlcilyZXR1cm4gcChuKSE9PXAoZSk7aWYoby50cmltKXJldHVybiBuLnRyaW0oKSE9PWUudHJpbSgpfXJldHVybiBuIT09ZX0odCxlKSl9dmFyIGNpPXtjcmVhdGU6YWksdXBkYXRlOmFpfSx1aT1iKChmdW5jdGlvbih0KXt2YXIgZT17fSxuPS86KC4rKS87cmV0dXJuIHQuc3BsaXQoLzsoPyFbXihdKlwpKS9nKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZih0KXt2YXIgcj10LnNwbGl0KG4pO3IubGVuZ3RoPjEmJihlW3JbMF0udHJpbSgpXT1yWzFdLnRyaW0oKSl9fSkpLGV9KSk7ZnVuY3Rpb24gbGkodCl7dmFyIGU9ZmkodC5zdHlsZSk7cmV0dXJuIHQuc3RhdGljU3R5bGU/VCh0LnN0YXRpY1N0eWxlLGUpOmV9ZnVuY3Rpb24gZmkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/QSh0KToic3RyaW5nIj09dHlwZW9mIHQ/dWkodCk6dH12YXIgZGkscGk9L14tLS8sdmk9L1xzKiFpbXBvcnRhbnQkLyxoaT1mdW5jdGlvbih0LGUsbil7aWYocGkudGVzdChlKSl0LnN0eWxlLnNldFByb3BlcnR5KGUsbik7ZWxzZSBpZih2aS50ZXN0KG4pKXQuc3R5bGUuc2V0UHJvcGVydHkoayhlKSxuLnJlcGxhY2UodmksIiIpLCJpbXBvcnRhbnQiKTtlbHNle3ZhciByPWdpKGUpO2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciBvPTAsaT1uLmxlbmd0aDtvPGk7bysrKXQuc3R5bGVbcl09bltvXTtlbHNlIHQuc3R5bGVbcl09bn19LG1pPVsiV2Via2l0IiwiTW96IiwibXMiXSxnaT1iKChmdW5jdGlvbih0KXtpZihkaT1kaXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsImZpbHRlciIhPT0odD13KHQpKSYmdCBpbiBkaSlyZXR1cm4gdDtmb3IodmFyIGU9dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLG49MDtuPG1pLmxlbmd0aDtuKyspe3ZhciByPW1pW25dK2U7aWYociBpbiBkaSlyZXR1cm4gcn19KSk7ZnVuY3Rpb24geWkodCxlKXt2YXIgbz1lLmRhdGEsaT10LmRhdGE7aWYoIShuKG8uc3RhdGljU3R5bGUpJiZuKG8uc3R5bGUpJiZuKGkuc3RhdGljU3R5bGUpJiZuKGkuc3R5bGUpKSl7dmFyIGEscyxjPWUuZWxtLHU9aS5zdGF0aWNTdHlsZSxsPWkubm9ybWFsaXplZFN0eWxlfHxpLnN0eWxlfHx7fSxmPXV8fGwsZD1maShlLmRhdGEuc3R5bGUpfHx7fTtlLmRhdGEubm9ybWFsaXplZFN0eWxlPXIoZC5fX29iX18pP1Qoe30sZCk6ZDt2YXIgcD1mdW5jdGlvbih0LGUpe3ZhciBuLHI9e307aWYoZSlmb3IodmFyIG89dDtvLmNvbXBvbmVudEluc3RhbmNlOykobz1vLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkmJm8uZGF0YSYmKG49bGkoby5kYXRhKSkmJlQocixuKTsobj1saSh0LmRhdGEpKSYmVChyLG4pO2Zvcih2YXIgaT10O2k9aS5wYXJlbnQ7KWkuZGF0YSYmKG49bGkoaS5kYXRhKSkmJlQocixuKTtyZXR1cm4gcn0oZSwhMCk7Zm9yKHMgaW4gZiluKHBbc10pJiZoaShjLHMsIiIpO2ZvcihzIGluIHApKGE9cFtzXSkhPT1mW3NdJiZoaShjLHMsbnVsbD09YT8iIjphKX19dmFyIF9pPXtjcmVhdGU6eWksdXBkYXRlOnlpfSxiaT0vXHMrLztmdW5jdGlvbiAkaSh0LGUpe2lmKGUmJihlPWUudHJpbSgpKSlpZih0LmNsYXNzTGlzdCllLmluZGV4T2YoIiAiKT4tMT9lLnNwbGl0KGJpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jbGFzc0xpc3QuYWRkKGUpfSkpOnQuY2xhc3NMaXN0LmFkZChlKTtlbHNle3ZhciBuPSIgIi5jb25jYXQodC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiLCIgIik7bi5pbmRleE9mKCIgIitlKyIgIik8MCYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIiwobitlKS50cmltKCkpfX1mdW5jdGlvbiB3aSh0LGUpe2lmKGUmJihlPWUudHJpbSgpKSlpZih0LmNsYXNzTGlzdCllLmluZGV4T2YoIiAiKT4tMT9lLnNwbGl0KGJpKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5jbGFzc0xpc3QucmVtb3ZlKGUpfSkpOnQuY2xhc3NMaXN0LnJlbW92ZShlKSx0LmNsYXNzTGlzdC5sZW5ndGh8fHQucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpO2Vsc2V7Zm9yKHZhciBuPSIgIi5jb25jYXQodC5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiLCIgIikscj0iICIrZSsiICI7bi5pbmRleE9mKHIpPj0wOyluPW4ucmVwbGFjZShyLCIgIik7KG49bi50cmltKCkpP3Quc2V0QXR0cmlidXRlKCJjbGFzcyIsbik6dC5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIil9fWZ1bmN0aW9uIHhpKHQpe2lmKHQpe2lmKCJvYmplY3QiPT10eXBlb2YgdCl7dmFyIGU9e307cmV0dXJuITEhPT10LmNzcyYmVChlLENpKHQubmFtZXx8InYiKSksVChlLHQpLGV9cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P0NpKHQpOnZvaWQgMH19dmFyIENpPWIoKGZ1bmN0aW9uKHQpe3JldHVybntlbnRlckNsYXNzOiIiLmNvbmNhdCh0LCItZW50ZXIiKSxlbnRlclRvQ2xhc3M6IiIuY29uY2F0KHQsIi1lbnRlci10byIpLGVudGVyQWN0aXZlQ2xhc3M6IiIuY29uY2F0KHQsIi1lbnRlci1hY3RpdmUiKSxsZWF2ZUNsYXNzOiIiLmNvbmNhdCh0LCItbGVhdmUiKSxsZWF2ZVRvQ2xhc3M6IiIuY29uY2F0KHQsIi1sZWF2ZS10byIpLGxlYXZlQWN0aXZlQ2xhc3M6IiIuY29uY2F0KHQsIi1sZWF2ZS1hY3RpdmUiKX19KSksa2k9SiYmIVosU2k9InRyYW5zaXRpb24iLE9pPSJhbmltYXRpb24iLFRpPSJ0cmFuc2l0aW9uIixBaT0idHJhbnNpdGlvbmVuZCIsamk9ImFuaW1hdGlvbiIsRWk9ImFuaW1hdGlvbmVuZCI7a2kmJih2b2lkIDA9PT13aW5kb3cub250cmFuc2l0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kJiYoVGk9IldlYmtpdFRyYW5zaXRpb24iLEFpPSJ3ZWJraXRUcmFuc2l0aW9uRW5kIiksdm9pZCAwPT09d2luZG93Lm9uYW5pbWF0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQmJihqaT0iV2Via2l0QW5pbWF0aW9uIixFaT0id2Via2l0QW5pbWF0aW9uRW5kIikpO3ZhciBOaT1KP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk6c2V0VGltZW91dDpmdW5jdGlvbih0KXtyZXR1cm4gdCgpfTtmdW5jdGlvbiBQaSh0KXtOaSgoZnVuY3Rpb24oKXtOaSh0KX0pKX1mdW5jdGlvbiBEaSh0LGUpe3ZhciBuPXQuX3RyYW5zaXRpb25DbGFzc2VzfHwodC5fdHJhbnNpdGlvbkNsYXNzZXM9W10pO24uaW5kZXhPZihlKTwwJiYobi5wdXNoKGUpLCRpKHQsZSkpfWZ1bmN0aW9uIE1pKHQsZSl7dC5fdHJhbnNpdGlvbkNsYXNzZXMmJmcodC5fdHJhbnNpdGlvbkNsYXNzZXMsZSksd2kodCxlKX1mdW5jdGlvbiBJaSh0LGUsbil7dmFyIHI9UmkodCxlKSxvPXIudHlwZSxpPXIudGltZW91dCxhPXIucHJvcENvdW50O2lmKCFvKXJldHVybiBuKCk7dmFyIHM9bz09PVNpP0FpOkVpLGM9MCx1PWZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKHMsbCksbigpfSxsPWZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09dCYmKytjPj1hJiZ1KCl9O3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7YzxhJiZ1KCl9KSxpKzEpLHQuYWRkRXZlbnRMaXN0ZW5lcihzLGwpfXZhciBMaT0vXGIodHJhbnNmb3JtfGFsbCkoLHwkKS87ZnVuY3Rpb24gUmkodCxlKXt2YXIgbixyPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpLG89KHJbVGkrIkRlbGF5Il18fCIiKS5zcGxpdCgiLCAiKSxpPShyW1RpKyJEdXJhdGlvbiJdfHwiIikuc3BsaXQoIiwgIiksYT1GaShvLGkpLHM9KHJbamkrIkRlbGF5Il18fCIiKS5zcGxpdCgiLCAiKSxjPShyW2ppKyJEdXJhdGlvbiJdfHwiIikuc3BsaXQoIiwgIiksdT1GaShzLGMpLGw9MCxmPTA7cmV0dXJuIGU9PT1TaT9hPjAmJihuPVNpLGw9YSxmPWkubGVuZ3RoKTplPT09T2k/dT4wJiYobj1PaSxsPXUsZj1jLmxlbmd0aCk6Zj0obj0obD1NYXRoLm1heChhLHUpKT4wP2E+dT9TaTpPaTpudWxsKT9uPT09U2k/aS5sZW5ndGg6Yy5sZW5ndGg6MCx7dHlwZTpuLHRpbWVvdXQ6bCxwcm9wQ291bnQ6ZixoYXNUcmFuc2Zvcm06bj09PVNpJiZMaS50ZXN0KHJbVGkrIlByb3BlcnR5Il0pfX1mdW5jdGlvbiBGaSh0LGUpe2Zvcig7dC5sZW5ndGg8ZS5sZW5ndGg7KXQ9dC5jb25jYXQodCk7cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsZS5tYXAoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIEhpKGUpK0hpKHRbbl0pfSkpKX1mdW5jdGlvbiBIaSh0KXtyZXR1cm4gMWUzKk51bWJlcih0LnNsaWNlKDAsLTEpLnJlcGxhY2UoIiwiLCIuIikpfWZ1bmN0aW9uIEJpKHQsZSl7dmFyIG89dC5lbG07cihvLl9sZWF2ZUNiKSYmKG8uX2xlYXZlQ2IuY2FuY2VsbGVkPSEwLG8uX2xlYXZlQ2IoKSk7dmFyIGk9eGkodC5kYXRhLnRyYW5zaXRpb24pO2lmKCFuKGkpJiYhcihvLl9lbnRlckNiKSYmMT09PW8ubm9kZVR5cGUpe2Zvcih2YXIgYz1pLmNzcyx1PWkudHlwZSxsPWkuZW50ZXJDbGFzcyxmPWkuZW50ZXJUb0NsYXNzLGQ9aS5lbnRlckFjdGl2ZUNsYXNzLHY9aS5hcHBlYXJDbGFzcyxoPWkuYXBwZWFyVG9DbGFzcyxtPWkuYXBwZWFyQWN0aXZlQ2xhc3MsZz1pLmJlZm9yZUVudGVyLHk9aS5lbnRlcixfPWkuYWZ0ZXJFbnRlcixiPWkuZW50ZXJDYW5jZWxsZWQsJD1pLmJlZm9yZUFwcGVhcix3PWkuYXBwZWFyLHg9aS5hZnRlckFwcGVhcixDPWkuYXBwZWFyQ2FuY2VsbGVkLGs9aS5kdXJhdGlvbixTPUllLE89SWUuJHZub2RlO08mJk8ucGFyZW50OylTPU8uY29udGV4dCxPPU8ucGFyZW50O3ZhciBUPSFTLl9pc01vdW50ZWR8fCF0LmlzUm9vdEluc2VydDtpZighVHx8d3x8IiI9PT13KXt2YXIgQT1UJiZ2P3Y6bCxqPVQmJm0/bTpkLEU9VCYmaD9oOmYsTj1UJiYkfHxnLFA9VCYmYSh3KT93OnksRD1UJiZ4fHxfLEk9VCYmQ3x8YixMPXAocyhrKT9rLmVudGVyOmspLFI9ITEhPT1jJiYhWixGPVZpKFApLEg9by5fZW50ZXJDYj1NKChmdW5jdGlvbigpe1ImJihNaShvLEUpLE1pKG8saikpLEguY2FuY2VsbGVkPyhSJiZNaShvLEEpLEkmJkkobykpOkQmJkQobyksby5fZW50ZXJDYj1udWxsfSkpO3QuZGF0YS5zaG93fHxadCh0LCJpbnNlcnQiLChmdW5jdGlvbigpe3ZhciBlPW8ucGFyZW50Tm9kZSxuPWUmJmUuX3BlbmRpbmcmJmUuX3BlbmRpbmdbdC5rZXldO24mJm4udGFnPT09dC50YWcmJm4uZWxtLl9sZWF2ZUNiJiZuLmVsbS5fbGVhdmVDYigpLFAmJlAobyxIKX0pKSxOJiZOKG8pLFImJihEaShvLEEpLERpKG8saiksUGkoKGZ1bmN0aW9uKCl7TWkobyxBKSxILmNhbmNlbGxlZHx8KERpKG8sRSksRnx8KHppKEwpP3NldFRpbWVvdXQoSCxMKTpJaShvLHUsSCkpKX0pKSksdC5kYXRhLnNob3cmJihlJiZlKCksUCYmUChvLEgpKSxSfHxGfHxIKCl9fX1mdW5jdGlvbiBVaSh0LGUpe3ZhciBvPXQuZWxtO3Ioby5fZW50ZXJDYikmJihvLl9lbnRlckNiLmNhbmNlbGxlZD0hMCxvLl9lbnRlckNiKCkpO3ZhciBpPXhpKHQuZGF0YS50cmFuc2l0aW9uKTtpZihuKGkpfHwxIT09by5ub2RlVHlwZSlyZXR1cm4gZSgpO2lmKCFyKG8uX2xlYXZlQ2IpKXt2YXIgYT1pLmNzcyxjPWkudHlwZSx1PWkubGVhdmVDbGFzcyxsPWkubGVhdmVUb0NsYXNzLGY9aS5sZWF2ZUFjdGl2ZUNsYXNzLGQ9aS5iZWZvcmVMZWF2ZSx2PWkubGVhdmUsaD1pLmFmdGVyTGVhdmUsbT1pLmxlYXZlQ2FuY2VsbGVkLGc9aS5kZWxheUxlYXZlLHk9aS5kdXJhdGlvbixfPSExIT09YSYmIVosYj1WaSh2KSwkPXAocyh5KT95LmxlYXZlOnkpLHc9by5fbGVhdmVDYj1NKChmdW5jdGlvbigpe28ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLl9wZW5kaW5nJiYoby5wYXJlbnROb2RlLl9wZW5kaW5nW3Qua2V5XT1udWxsKSxfJiYoTWkobyxsKSxNaShvLGYpKSx3LmNhbmNlbGxlZD8oXyYmTWkobyx1KSxtJiZtKG8pKTooZSgpLGgmJmgobykpLG8uX2xlYXZlQ2I9bnVsbH0pKTtnP2coeCk6eCgpfWZ1bmN0aW9uIHgoKXt3LmNhbmNlbGxlZHx8KCF0LmRhdGEuc2hvdyYmby5wYXJlbnROb2RlJiYoKG8ucGFyZW50Tm9kZS5fcGVuZGluZ3x8KG8ucGFyZW50Tm9kZS5fcGVuZGluZz17fSkpW3Qua2V5XT10KSxkJiZkKG8pLF8mJihEaShvLHUpLERpKG8sZiksUGkoKGZ1bmN0aW9uKCl7TWkobyx1KSx3LmNhbmNlbGxlZHx8KERpKG8sbCksYnx8KHppKCQpP3NldFRpbWVvdXQodywkKTpJaShvLGMsdykpKX0pKSksdiYmdihvLHcpLF98fGJ8fHcoKSl9fWZ1bmN0aW9uIHppKHQpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdCYmIWlzTmFOKHQpfWZ1bmN0aW9uIFZpKHQpe2lmKG4odCkpcmV0dXJuITE7dmFyIGU9dC5mbnM7cmV0dXJuIHIoZSk/VmkoQXJyYXkuaXNBcnJheShlKT9lWzBdOmUpOih0Ll9sZW5ndGh8fHQubGVuZ3RoKT4xfWZ1bmN0aW9uIEtpKHQsZSl7ITAhPT1lLmRhdGEuc2hvdyYmQmkoZSl9dmFyIEppPWZ1bmN0aW9uKHQpe3ZhciBhLHMsYz17fSx1PXQubW9kdWxlcyxsPXQubm9kZU9wcztmb3IoYT0wO2E8YW8ubGVuZ3RoOysrYSlmb3IoY1thb1thXV09W10scz0wO3M8dS5sZW5ndGg7KytzKXIodVtzXVthb1thXV0pJiZjW2FvW2FdXS5wdXNoKHVbc11bYW9bYV1dKTtmdW5jdGlvbiBmKHQpe3ZhciBlPWwucGFyZW50Tm9kZSh0KTtyKGUpJiZsLnJlbW92ZUNoaWxkKGUsdCl9ZnVuY3Rpb24gZCh0LGUsbixpLGEscyx1KXtpZihyKHQuZWxtKSYmcihzKSYmKHQ9c1t1XT1wdCh0KSksdC5pc1Jvb3RJbnNlcnQ9IWEsIWZ1bmN0aW9uKHQsZSxuLGkpe3ZhciBhPXQuZGF0YTtpZihyKGEpKXt2YXIgcz1yKHQuY29tcG9uZW50SW5zdGFuY2UpJiZhLmtlZXBBbGl2ZTtpZihyKGE9YS5ob29rKSYmcihhPWEuaW5pdCkmJmEodCwhMSkscih0LmNvbXBvbmVudEluc3RhbmNlKSlyZXR1cm4gcCh0LGUpLGgobix0LmVsbSxpKSxvKHMpJiZmdW5jdGlvbih0LGUsbixvKXt2YXIgaSxhPXQ7Zm9yKDthLmNvbXBvbmVudEluc3RhbmNlOylpZihyKGk9KGE9YS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpLmRhdGEpJiZyKGk9aS50cmFuc2l0aW9uKSl7Zm9yKGk9MDtpPGMuYWN0aXZhdGUubGVuZ3RoOysraSljLmFjdGl2YXRlW2ldKGlvLGEpO2UucHVzaChhKTticmVha31oKG4sdC5lbG0sbyl9KHQsZSxuLGkpLCEwfX0odCxlLG4saSkpe3ZhciBmPXQuZGF0YSxkPXQuY2hpbGRyZW4sdj10LnRhZztyKHYpPyh0LmVsbT10Lm5zP2wuY3JlYXRlRWxlbWVudE5TKHQubnMsdik6bC5jcmVhdGVFbGVtZW50KHYsdCksXyh0KSxtKHQsZCxlKSxyKGYpJiZ5KHQsZSksaChuLHQuZWxtLGkpKTpvKHQuaXNDb21tZW50KT8odC5lbG09bC5jcmVhdGVDb21tZW50KHQudGV4dCksaChuLHQuZWxtLGkpKToodC5lbG09bC5jcmVhdGVUZXh0Tm9kZSh0LnRleHQpLGgobix0LmVsbSxpKSl9fWZ1bmN0aW9uIHAodCxlKXtyKHQuZGF0YS5wZW5kaW5nSW5zZXJ0KSYmKGUucHVzaC5hcHBseShlLHQuZGF0YS5wZW5kaW5nSW5zZXJ0KSx0LmRhdGEucGVuZGluZ0luc2VydD1udWxsKSx0LmVsbT10LmNvbXBvbmVudEluc3RhbmNlLiRlbCxnKHQpPyh5KHQsZSksXyh0KSk6KHJvKHQpLGUucHVzaCh0KSl9ZnVuY3Rpb24gaCh0LGUsbil7cih0KSYmKHIobik/bC5wYXJlbnROb2RlKG4pPT09dCYmbC5pbnNlcnRCZWZvcmUodCxlLG4pOmwuYXBwZW5kQ2hpbGQodCxlKSl9ZnVuY3Rpb24gbSh0LG4scil7aWYoZShuKSlmb3IodmFyIG89MDtvPG4ubGVuZ3RoOysrbylkKG5bb10scix0LmVsbSxudWxsLCEwLG4sbyk7ZWxzZSBpKHQudGV4dCkmJmwuYXBwZW5kQ2hpbGQodC5lbG0sbC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcodC50ZXh0KSkpfWZ1bmN0aW9uIGcodCl7Zm9yKDt0LmNvbXBvbmVudEluc3RhbmNlOyl0PXQuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO3JldHVybiByKHQudGFnKX1mdW5jdGlvbiB5KHQsZSl7Zm9yKHZhciBuPTA7bjxjLmNyZWF0ZS5sZW5ndGg7KytuKWMuY3JlYXRlW25dKGlvLHQpO3IoYT10LmRhdGEuaG9vaykmJihyKGEuY3JlYXRlKSYmYS5jcmVhdGUoaW8sdCkscihhLmluc2VydCkmJmUucHVzaCh0KSl9ZnVuY3Rpb24gXyh0KXt2YXIgZTtpZihyKGU9dC5mblNjb3BlSWQpKWwuc2V0U3R5bGVTY29wZSh0LmVsbSxlKTtlbHNlIGZvcih2YXIgbj10O247KXIoZT1uLmNvbnRleHQpJiZyKGU9ZS4kb3B0aW9ucy5fc2NvcGVJZCkmJmwuc2V0U3R5bGVTY29wZSh0LmVsbSxlKSxuPW4ucGFyZW50O3IoZT1JZSkmJmUhPT10LmNvbnRleHQmJmUhPT10LmZuQ29udGV4dCYmcihlPWUuJG9wdGlvbnMuX3Njb3BlSWQpJiZsLnNldFN0eWxlU2NvcGUodC5lbG0sZSl9ZnVuY3Rpb24gYih0LGUsbixyLG8saSl7Zm9yKDtyPD1vOysrcilkKG5bcl0saSx0LGUsITEsbixyKX1mdW5jdGlvbiAkKHQpe3ZhciBlLG4sbz10LmRhdGE7aWYocihvKSlmb3IocihlPW8uaG9vaykmJnIoZT1lLmRlc3Ryb3kpJiZlKHQpLGU9MDtlPGMuZGVzdHJveS5sZW5ndGg7KytlKWMuZGVzdHJveVtlXSh0KTtpZihyKGU9dC5jaGlsZHJlbikpZm9yKG49MDtuPHQuY2hpbGRyZW4ubGVuZ3RoOysrbikkKHQuY2hpbGRyZW5bbl0pfWZ1bmN0aW9uIHcodCxlLG4pe2Zvcig7ZTw9bjsrK2Upe3ZhciBvPXRbZV07cihvKSYmKHIoby50YWcpPyh4KG8pLCQobykpOmYoby5lbG0pKX19ZnVuY3Rpb24geCh0LGUpe2lmKHIoZSl8fHIodC5kYXRhKSl7dmFyIG4sbz1jLnJlbW92ZS5sZW5ndGgrMTtmb3IocihlKT9lLmxpc3RlbmVycys9bzplPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpezA9PS0tbi5saXN0ZW5lcnMmJmYodCl9cmV0dXJuIG4ubGlzdGVuZXJzPWUsbn0odC5lbG0sbykscihuPXQuY29tcG9uZW50SW5zdGFuY2UpJiZyKG49bi5fdm5vZGUpJiZyKG4uZGF0YSkmJngobixlKSxuPTA7bjxjLnJlbW92ZS5sZW5ndGg7KytuKWMucmVtb3ZlW25dKHQsZSk7cihuPXQuZGF0YS5ob29rKSYmcihuPW4ucmVtb3ZlKT9uKHQsZSk6ZSgpfWVsc2UgZih0LmVsbSl9ZnVuY3Rpb24gQyh0LGUsbixvKXtmb3IodmFyIGk9bjtpPG87aSsrKXt2YXIgYT1lW2ldO2lmKHIoYSkmJnNvKHQsYSkpcmV0dXJuIGl9fWZ1bmN0aW9uIGsodCxlLGksYSxzLHUpe2lmKHQhPT1lKXtyKGUuZWxtKSYmcihhKSYmKGU9YVtzXT1wdChlKSk7dmFyIGY9ZS5lbG09dC5lbG07aWYobyh0LmlzQXN5bmNQbGFjZWhvbGRlcikpcihlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCk/VCh0LmVsbSxlLGkpOmUuaXNBc3luY1BsYWNlaG9sZGVyPSEwO2Vsc2UgaWYobyhlLmlzU3RhdGljKSYmbyh0LmlzU3RhdGljKSYmZS5rZXk9PT10LmtleSYmKG8oZS5pc0Nsb25lZCl8fG8oZS5pc09uY2UpKSllLmNvbXBvbmVudEluc3RhbmNlPXQuY29tcG9uZW50SW5zdGFuY2U7ZWxzZXt2YXIgcCx2PWUuZGF0YTtyKHYpJiZyKHA9di5ob29rKSYmcihwPXAucHJlcGF0Y2gpJiZwKHQsZSk7dmFyIGg9dC5jaGlsZHJlbixtPWUuY2hpbGRyZW47aWYocih2KSYmZyhlKSl7Zm9yKHA9MDtwPGMudXBkYXRlLmxlbmd0aDsrK3ApYy51cGRhdGVbcF0odCxlKTtyKHA9di5ob29rKSYmcihwPXAudXBkYXRlKSYmcCh0LGUpfW4oZS50ZXh0KT9yKGgpJiZyKG0pP2ghPT1tJiZmdW5jdGlvbih0LGUsbyxpLGEpe2Zvcih2YXIgcyxjLHUsZj0wLHA9MCx2PWUubGVuZ3RoLTEsaD1lWzBdLG09ZVt2XSxnPW8ubGVuZ3RoLTEseT1vWzBdLF89b1tnXSwkPSFhO2Y8PXYmJnA8PWc7KW4oaCk/aD1lWysrZl06bihtKT9tPWVbLS12XTpzbyhoLHkpPyhrKGgseSxpLG8scCksaD1lWysrZl0seT1vWysrcF0pOnNvKG0sXyk/KGsobSxfLGksbyxnKSxtPWVbLS12XSxfPW9bLS1nXSk6c28oaCxfKT8oayhoLF8saSxvLGcpLCQmJmwuaW5zZXJ0QmVmb3JlKHQsaC5lbG0sbC5uZXh0U2libGluZyhtLmVsbSkpLGg9ZVsrK2ZdLF89b1stLWddKTpzbyhtLHkpPyhrKG0seSxpLG8scCksJCYmbC5pbnNlcnRCZWZvcmUodCxtLmVsbSxoLmVsbSksbT1lWy0tdl0seT1vWysrcF0pOihuKHMpJiYocz1jbyhlLGYsdikpLG4oYz1yKHkua2V5KT9zW3kua2V5XTpDKHksZSxmLHYpKT9kKHksaSx0LGguZWxtLCExLG8scCk6c28odT1lW2NdLHkpPyhrKHUseSxpLG8scCksZVtjXT12b2lkIDAsJCYmbC5pbnNlcnRCZWZvcmUodCx1LmVsbSxoLmVsbSkpOmQoeSxpLHQsaC5lbG0sITEsbyxwKSx5PW9bKytwXSk7Zj52P2IodCxuKG9bZysxXSk/bnVsbDpvW2crMV0uZWxtLG8scCxnLGkpOnA+ZyYmdyhlLGYsdil9KGYsaCxtLGksdSk6cihtKT8ocih0LnRleHQpJiZsLnNldFRleHRDb250ZW50KGYsIiIpLGIoZixudWxsLG0sMCxtLmxlbmd0aC0xLGkpKTpyKGgpP3coaCwwLGgubGVuZ3RoLTEpOnIodC50ZXh0KSYmbC5zZXRUZXh0Q29udGVudChmLCIiKTp0LnRleHQhPT1lLnRleHQmJmwuc2V0VGV4dENvbnRlbnQoZixlLnRleHQpLHIodikmJnIocD12Lmhvb2spJiZyKHA9cC5wb3N0cGF0Y2gpJiZwKHQsZSl9fX1mdW5jdGlvbiBTKHQsZSxuKXtpZihvKG4pJiZyKHQucGFyZW50KSl0LnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQ9ZTtlbHNlIGZvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKWVbaV0uZGF0YS5ob29rLmluc2VydChlW2ldKX12YXIgTz12KCJhdHRycyxjbGFzcyxzdGF0aWNDbGFzcyxzdGF0aWNTdHlsZSxrZXkiKTtmdW5jdGlvbiBUKHQsZSxuLGkpe3ZhciBhLHM9ZS50YWcsYz1lLmRhdGEsdT1lLmNoaWxkcmVuO2lmKGk9aXx8YyYmYy5wcmUsZS5lbG09dCxvKGUuaXNDb21tZW50KSYmcihlLmFzeW5jRmFjdG9yeSkpcmV0dXJuIGUuaXNBc3luY1BsYWNlaG9sZGVyPSEwLCEwO2lmKHIoYykmJihyKGE9Yy5ob29rKSYmcihhPWEuaW5pdCkmJmEoZSwhMCkscihhPWUuY29tcG9uZW50SW5zdGFuY2UpKSlyZXR1cm4gcChlLG4pLCEwO2lmKHIocykpe2lmKHIodSkpaWYodC5oYXNDaGlsZE5vZGVzKCkpaWYocihhPWMpJiZyKGE9YS5kb21Qcm9wcykmJnIoYT1hLmlubmVySFRNTCkpe2lmKGEhPT10LmlubmVySFRNTClyZXR1cm4hMX1lbHNle2Zvcih2YXIgbD0hMCxmPXQuZmlyc3RDaGlsZCxkPTA7ZDx1Lmxlbmd0aDtkKyspe2lmKCFmfHwhVChmLHVbZF0sbixpKSl7bD0hMTticmVha31mPWYubmV4dFNpYmxpbmd9aWYoIWx8fGYpcmV0dXJuITF9ZWxzZSBtKGUsdSxuKTtpZihyKGMpKXt2YXIgdj0hMTtmb3IodmFyIGggaW4gYylpZighTyhoKSl7dj0hMCx5KGUsbik7YnJlYWt9IXYmJmMuY2xhc3MmJkJuKGMuY2xhc3MpfX1lbHNlIHQuZGF0YSE9PWUudGV4dCYmKHQuZGF0YT1lLnRleHQpO3JldHVybiEwfXJldHVybiBmdW5jdGlvbih0LGUsaSxhKXtpZighbihlKSl7dmFyIHMsdT0hMSxmPVtdO2lmKG4odCkpdT0hMCxkKGUsZik7ZWxzZXt2YXIgcD1yKHQubm9kZVR5cGUpO2lmKCFwJiZzbyh0LGUpKWsodCxlLGYsbnVsbCxudWxsLGEpO2Vsc2V7aWYocCl7aWYoMT09PXQubm9kZVR5cGUmJnQuaGFzQXR0cmlidXRlKEwpJiYodC5yZW1vdmVBdHRyaWJ1dGUoTCksaT0hMCksbyhpKSYmVCh0LGUsZikpcmV0dXJuIFMoZSxmLCEwKSx0O3M9dCx0PW5ldyBsdChsLnRhZ05hbWUocykudG9Mb3dlckNhc2UoKSx7fSxbXSx2b2lkIDAscyl9dmFyIHY9dC5lbG0saD1sLnBhcmVudE5vZGUodik7aWYoZChlLGYsdi5fbGVhdmVDYj9udWxsOmgsbC5uZXh0U2libGluZyh2KSkscihlLnBhcmVudCkpZm9yKHZhciBtPWUucGFyZW50LHk9ZyhlKTttOyl7Zm9yKHZhciBfPTA7XzxjLmRlc3Ryb3kubGVuZ3RoOysrXyljLmRlc3Ryb3lbX10obSk7aWYobS5lbG09ZS5lbG0seSl7Zm9yKHZhciBiPTA7YjxjLmNyZWF0ZS5sZW5ndGg7KytiKWMuY3JlYXRlW2JdKGlvLG0pO3ZhciB4PW0uZGF0YS5ob29rLmluc2VydDtpZih4Lm1lcmdlZClmb3IodmFyIEM9MTtDPHguZm5zLmxlbmd0aDtDKyspeC5mbnNbQ10oKX1lbHNlIHJvKG0pO209bS5wYXJlbnR9cihoKT93KFt0XSwwLDApOnIodC50YWcpJiYkKHQpfX1yZXR1cm4gUyhlLGYsdSksZS5lbG19cih0KSYmJCh0KX19KHtub2RlT3BzOmVvLG1vZHVsZXM6W2JvLFRvLGlpLGNpLF9pLEo/e2NyZWF0ZTpLaSxhY3RpdmF0ZTpLaSxyZW1vdmU6ZnVuY3Rpb24odCxlKXshMCE9PXQuZGF0YS5zaG93P1VpKHQsZSk6ZSgpfX06e31dLmNvbmNhdChtbyl9KTtaJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLChmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7dCYmdC52bW9kZWwmJnRhKHQsImlucHV0Iil9KSk7dmFyIHFpPXtpbnNlcnRlZDpmdW5jdGlvbih0LGUsbixyKXsic2VsZWN0Ij09PW4udGFnPyhyLmVsbSYmIXIuZWxtLl92T3B0aW9ucz9adChuLCJwb3N0cGF0Y2giLChmdW5jdGlvbigpe3FpLmNvbXBvbmVudFVwZGF0ZWQodCxlLG4pfSkpOldpKHQsZSxuLmNvbnRleHQpLHQuX3ZPcHRpb25zPVtdLm1hcC5jYWxsKHQub3B0aW9ucyxYaSkpOigidGV4dGFyZWEiPT09bi50YWd8fFFyKHQudHlwZSkpJiYodC5fdk1vZGlmaWVycz1lLm1vZGlmaWVycyxlLm1vZGlmaWVycy5sYXp5fHwodC5hZGRFdmVudExpc3RlbmVyKCJjb21wb3NpdGlvbnN0YXJ0IixZaSksdC5hZGRFdmVudExpc3RlbmVyKCJjb21wb3NpdGlvbmVuZCIsUWkpLHQuYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixRaSksWiYmKHQudm1vZGVsPSEwKSkpfSxjb21wb25lbnRVcGRhdGVkOmZ1bmN0aW9uKHQsZSxuKXtpZigic2VsZWN0Ij09PW4udGFnKXtXaSh0LGUsbi5jb250ZXh0KTt2YXIgcj10Ll92T3B0aW9ucyxvPXQuX3ZPcHRpb25zPVtdLm1hcC5jYWxsKHQub3B0aW9ucyxYaSk7aWYoby5zb21lKChmdW5jdGlvbih0LGUpe3JldHVybiFQKHQscltlXSl9KSkpKHQubXVsdGlwbGU/ZS52YWx1ZS5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gR2kodCxvKX0pKTplLnZhbHVlIT09ZS5vbGRWYWx1ZSYmR2koZS52YWx1ZSxvKSkmJnRhKHQsImNoYW5nZSIpfX19O2Z1bmN0aW9uIFdpKHQsZSxuKXtaaSh0LGUpLChXfHxHKSYmc2V0VGltZW91dCgoZnVuY3Rpb24oKXtaaSh0LGUpfSksMCl9ZnVuY3Rpb24gWmkodCxlLG4pe3ZhciByPWUudmFsdWUsbz10Lm11bHRpcGxlO2lmKCFvfHxBcnJheS5pc0FycmF5KHIpKXtmb3IodmFyIGksYSxzPTAsYz10Lm9wdGlvbnMubGVuZ3RoO3M8YztzKyspaWYoYT10Lm9wdGlvbnNbc10sbylpPUQocixYaShhKSk+LTEsYS5zZWxlY3RlZCE9PWkmJihhLnNlbGVjdGVkPWkpO2Vsc2UgaWYoUChYaShhKSxyKSlyZXR1cm4gdm9pZCh0LnNlbGVjdGVkSW5kZXghPT1zJiYodC5zZWxlY3RlZEluZGV4PXMpKTtvfHwodC5zZWxlY3RlZEluZGV4PS0xKX19ZnVuY3Rpb24gR2kodCxlKXtyZXR1cm4gZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIVAoZSx0KX0pKX1mdW5jdGlvbiBYaSh0KXtyZXR1cm4iX3ZhbHVlImluIHQ/dC5fdmFsdWU6dC52YWx1ZX1mdW5jdGlvbiBZaSh0KXt0LnRhcmdldC5jb21wb3Npbmc9ITB9ZnVuY3Rpb24gUWkodCl7dC50YXJnZXQuY29tcG9zaW5nJiYodC50YXJnZXQuY29tcG9zaW5nPSExLHRhKHQudGFyZ2V0LCJpbnB1dCIpKX1mdW5jdGlvbiB0YSh0LGUpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7bi5pbml0RXZlbnQoZSwhMCwhMCksdC5kaXNwYXRjaEV2ZW50KG4pfWZ1bmN0aW9uIGVhKHQpe3JldHVybiF0LmNvbXBvbmVudEluc3RhbmNlfHx0LmRhdGEmJnQuZGF0YS50cmFuc2l0aW9uP3Q6ZWEodC5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpfXZhciBuYT17YmluZDpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZS52YWx1ZSxvPShuPWVhKG4pKS5kYXRhJiZuLmRhdGEudHJhbnNpdGlvbixpPXQuX192T3JpZ2luYWxEaXNwbGF5PSJub25lIj09PXQuc3R5bGUuZGlzcGxheT8iIjp0LnN0eWxlLmRpc3BsYXk7ciYmbz8obi5kYXRhLnNob3c9ITAsQmkobiwoZnVuY3Rpb24oKXt0LnN0eWxlLmRpc3BsYXk9aX0pKSk6dC5zdHlsZS5kaXNwbGF5PXI/aToibm9uZSJ9LHVwZGF0ZTpmdW5jdGlvbih0LGUsbil7dmFyIHI9ZS52YWx1ZTshciE9IWUub2xkVmFsdWUmJigobj1lYShuKSkuZGF0YSYmbi5kYXRhLnRyYW5zaXRpb24/KG4uZGF0YS5zaG93PSEwLHI/QmkobiwoZnVuY3Rpb24oKXt0LnN0eWxlLmRpc3BsYXk9dC5fX3ZPcmlnaW5hbERpc3BsYXl9KSk6VWkobiwoZnVuY3Rpb24oKXt0LnN0eWxlLmRpc3BsYXk9Im5vbmUifSkpKTp0LnN0eWxlLmRpc3BsYXk9cj90Ll9fdk9yaWdpbmFsRGlzcGxheToibm9uZSIpfSx1bmJpbmQ6ZnVuY3Rpb24odCxlLG4scixvKXtvfHwodC5zdHlsZS5kaXNwbGF5PXQuX192T3JpZ2luYWxEaXNwbGF5KX19LHJhPXttb2RlbDpxaSxzaG93Om5hfSxvYT17bmFtZTpTdHJpbmcsYXBwZWFyOkJvb2xlYW4sY3NzOkJvb2xlYW4sbW9kZTpTdHJpbmcsdHlwZTpTdHJpbmcsZW50ZXJDbGFzczpTdHJpbmcsbGVhdmVDbGFzczpTdHJpbmcsZW50ZXJUb0NsYXNzOlN0cmluZyxsZWF2ZVRvQ2xhc3M6U3RyaW5nLGVudGVyQWN0aXZlQ2xhc3M6U3RyaW5nLGxlYXZlQWN0aXZlQ2xhc3M6U3RyaW5nLGFwcGVhckNsYXNzOlN0cmluZyxhcHBlYXJBY3RpdmVDbGFzczpTdHJpbmcsYXBwZWFyVG9DbGFzczpTdHJpbmcsZHVyYXRpb246W051bWJlcixTdHJpbmcsT2JqZWN0XX07ZnVuY3Rpb24gaWEodCl7dmFyIGU9dCYmdC5jb21wb25lbnRPcHRpb25zO3JldHVybiBlJiZlLkN0b3Iub3B0aW9ucy5hYnN0cmFjdD9pYShFZShlLmNoaWxkcmVuKSk6dH1mdW5jdGlvbiBhYSh0KXt2YXIgZT17fSxuPXQuJG9wdGlvbnM7Zm9yKHZhciByIGluIG4ucHJvcHNEYXRhKWVbcl09dFtyXTt2YXIgbz1uLl9wYXJlbnRMaXN0ZW5lcnM7Zm9yKHZhciByIGluIG8pZVt3KHIpXT1vW3JdO3JldHVybiBlfWZ1bmN0aW9uIHNhKHQsZSl7aWYoL1xkLWtlZXAtYWxpdmUkLy50ZXN0KGUudGFnKSlyZXR1cm4gdCgia2VlcC1hbGl2ZSIse3Byb3BzOmUuY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGF9KX12YXIgY2E9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFnfHxfZSh0KX0sdWE9ZnVuY3Rpb24odCl7cmV0dXJuInNob3ciPT09dC5uYW1lfSxsYT17bmFtZToidHJhbnNpdGlvbiIscHJvcHM6b2EsYWJzdHJhY3Q6ITAscmVuZGVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLiRzbG90cy5kZWZhdWx0O2lmKG4mJihuPW4uZmlsdGVyKGNhKSkubGVuZ3RoKXt2YXIgcj10aGlzLm1vZGUsbz1uWzBdO2lmKGZ1bmN0aW9uKHQpe2Zvcig7dD10LnBhcmVudDspaWYodC5kYXRhLnRyYW5zaXRpb24pcmV0dXJuITB9KHRoaXMuJHZub2RlKSlyZXR1cm4gbzt2YXIgYT1pYShvKTtpZighYSlyZXR1cm4gbztpZih0aGlzLl9sZWF2aW5nKXJldHVybiBzYSh0LG8pO3ZhciBzPSJfX3RyYW5zaXRpb24tIi5jb25jYXQodGhpcy5fdWlkLCItIik7YS5rZXk9bnVsbD09YS5rZXk/YS5pc0NvbW1lbnQ/cysiY29tbWVudCI6cythLnRhZzppKGEua2V5KT8wPT09U3RyaW5nKGEua2V5KS5pbmRleE9mKHMpP2Eua2V5OnMrYS5rZXk6YS5rZXk7dmFyIGM9KGEuZGF0YXx8KGEuZGF0YT17fSkpLnRyYW5zaXRpb249YWEodGhpcyksdT10aGlzLl92bm9kZSxsPWlhKHUpO2lmKGEuZGF0YS5kaXJlY3RpdmVzJiZhLmRhdGEuZGlyZWN0aXZlcy5zb21lKHVhKSYmKGEuZGF0YS5zaG93PSEwKSxsJiZsLmRhdGEmJiFmdW5jdGlvbih0LGUpe3JldHVybiBlLmtleT09PXQua2V5JiZlLnRhZz09PXQudGFnfShhLGwpJiYhX2UobCkmJighbC5jb21wb25lbnRJbnN0YW5jZXx8IWwuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLmlzQ29tbWVudCkpe3ZhciBmPWwuZGF0YS50cmFuc2l0aW9uPVQoe30sYyk7aWYoIm91dC1pbiI9PT1yKXJldHVybiB0aGlzLl9sZWF2aW5nPSEwLFp0KGYsImFmdGVyTGVhdmUiLChmdW5jdGlvbigpe2UuX2xlYXZpbmc9ITEsZS4kZm9yY2VVcGRhdGUoKX0pKSxzYSh0LG8pO2lmKCJpbi1vdXQiPT09cil7aWYoX2UoYSkpcmV0dXJuIHU7dmFyIGQscD1mdW5jdGlvbigpe2QoKX07WnQoYywiYWZ0ZXJFbnRlciIscCksWnQoYywiZW50ZXJDYW5jZWxsZWQiLHApLFp0KGYsImRlbGF5TGVhdmUiLChmdW5jdGlvbih0KXtkPXR9KSl9fXJldHVybiBvfX19LGZhPVQoe3RhZzpTdHJpbmcsbW92ZUNsYXNzOlN0cmluZ30sb2EpO2RlbGV0ZSBmYS5tb2RlO3ZhciBkYT17cHJvcHM6ZmEsYmVmb3JlTW91bnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5fdXBkYXRlO3RoaXMuX3VwZGF0ZT1mdW5jdGlvbihuLHIpe3ZhciBvPUxlKHQpO3QuX19wYXRjaF9fKHQuX3Zub2RlLHQua2VwdCwhMSwhMCksdC5fdm5vZGU9dC5rZXB0LG8oKSxlLmNhbGwodCxuLHIpfX0scmVuZGVyOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRhZ3x8dGhpcy4kdm5vZGUuZGF0YS50YWd8fCJzcGFuIixuPU9iamVjdC5jcmVhdGUobnVsbCkscj10aGlzLnByZXZDaGlsZHJlbj10aGlzLmNoaWxkcmVuLG89dGhpcy4kc2xvdHMuZGVmYXVsdHx8W10saT10aGlzLmNoaWxkcmVuPVtdLGE9YWEodGhpcykscz0wO3M8by5sZW5ndGg7cysrKXsobD1vW3NdKS50YWcmJm51bGwhPWwua2V5JiYwIT09U3RyaW5nKGwua2V5KS5pbmRleE9mKCJfX3ZsaXN0IikmJihpLnB1c2gobCksbltsLmtleV09bCwobC5kYXRhfHwobC5kYXRhPXt9KSkudHJhbnNpdGlvbj1hKX1pZihyKXt2YXIgYz1bXSx1PVtdO2ZvcihzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBsOyhsPXJbc10pLmRhdGEudHJhbnNpdGlvbj1hLGwuZGF0YS5wb3M9bC5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbltsLmtleV0/Yy5wdXNoKGwpOnUucHVzaChsKX10aGlzLmtlcHQ9dChlLG51bGwsYyksdGhpcy5yZW1vdmVkPXV9cmV0dXJuIHQoZSxudWxsLGkpfSx1cGRhdGVkOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcmV2Q2hpbGRyZW4sZT10aGlzLm1vdmVDbGFzc3x8KHRoaXMubmFtZXx8InYiKSsiLW1vdmUiO3QubGVuZ3RoJiZ0aGlzLmhhc01vdmUodFswXS5lbG0sZSkmJih0LmZvckVhY2gocGEpLHQuZm9yRWFjaCh2YSksdC5mb3JFYWNoKGhhKSx0aGlzLl9yZWZsb3c9ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQsdC5mb3JFYWNoKChmdW5jdGlvbih0KXtpZih0LmRhdGEubW92ZWQpe3ZhciBuPXQuZWxtLHI9bi5zdHlsZTtEaShuLGUpLHIudHJhbnNmb3JtPXIuV2Via2l0VHJhbnNmb3JtPXIudHJhbnNpdGlvbkR1cmF0aW9uPSIiLG4uYWRkRXZlbnRMaXN0ZW5lcihBaSxuLl9tb3ZlQ2I9ZnVuY3Rpb24gdChyKXtyJiZyLnRhcmdldCE9PW58fHImJiEvdHJhbnNmb3JtJC8udGVzdChyLnByb3BlcnR5TmFtZSl8fChuLnJlbW92ZUV2ZW50TGlzdGVuZXIoQWksdCksbi5fbW92ZUNiPW51bGwsTWkobixlKSl9KX19KSkpfSxtZXRob2RzOntoYXNNb3ZlOmZ1bmN0aW9uKHQsZSl7aWYoIWtpKXJldHVybiExO2lmKHRoaXMuX2hhc01vdmUpcmV0dXJuIHRoaXMuX2hhc01vdmU7dmFyIG49dC5jbG9uZU5vZGUoKTt0Ll90cmFuc2l0aW9uQ2xhc3NlcyYmdC5fdHJhbnNpdGlvbkNsYXNzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7d2kobix0KX0pKSwkaShuLGUpLG4uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy4kZWwuYXBwZW5kQ2hpbGQobik7dmFyIHI9Umkobik7cmV0dXJuIHRoaXMuJGVsLnJlbW92ZUNoaWxkKG4pLHRoaXMuX2hhc01vdmU9ci5oYXNUcmFuc2Zvcm19fX07ZnVuY3Rpb24gcGEodCl7dC5lbG0uX21vdmVDYiYmdC5lbG0uX21vdmVDYigpLHQuZWxtLl9lbnRlckNiJiZ0LmVsbS5fZW50ZXJDYigpfWZ1bmN0aW9uIHZhKHQpe3QuZGF0YS5uZXdQb3M9dC5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gaGEodCl7dmFyIGU9dC5kYXRhLnBvcyxuPXQuZGF0YS5uZXdQb3Mscj1lLmxlZnQtbi5sZWZ0LG89ZS50b3Atbi50b3A7aWYocnx8byl7dC5kYXRhLm1vdmVkPSEwO3ZhciBpPXQuZWxtLnN0eWxlO2kudHJhbnNmb3JtPWkuV2Via2l0VHJhbnNmb3JtPSJ0cmFuc2xhdGUoIi5jb25jYXQociwicHgsIikuY29uY2F0KG8sInB4KSIpLGkudHJhbnNpdGlvbkR1cmF0aW9uPSIwcyJ9fXZhciBtYT17VHJhbnNpdGlvbjpsYSxUcmFuc2l0aW9uR3JvdXA6ZGF9O0NyLmNvbmZpZy5tdXN0VXNlUHJvcD1NcixDci5jb25maWcuaXNSZXNlcnZlZFRhZz1HcixDci5jb25maWcuaXNSZXNlcnZlZEF0dHI9UHIsQ3IuY29uZmlnLmdldFRhZ05hbWVzcGFjZT1YcixDci5jb25maWcuaXNVbmtub3duRWxlbWVudD1mdW5jdGlvbih0KXtpZighSilyZXR1cm4hMDtpZihHcih0KSlyZXR1cm4hMTtpZih0PXQudG9Mb3dlckNhc2UoKSxudWxsIT1Zclt0XSlyZXR1cm4gWXJbdF07dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KTtyZXR1cm4gdC5pbmRleE9mKCItIik+LTE/WXJbdF09ZS5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnR8fGUuY29uc3RydWN0b3I9PT13aW5kb3cuSFRNTEVsZW1lbnQ6WXJbdF09L0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlLnRvU3RyaW5nKCkpfSxUKENyLm9wdGlvbnMuZGlyZWN0aXZlcyxyYSksVChDci5vcHRpb25zLmNvbXBvbmVudHMsbWEpLENyLnByb3RvdHlwZS5fX3BhdGNoX189Sj9KaTpqLENyLnByb3RvdHlwZS4kbW91bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3ZhciByO3QuJGVsPWUsdC4kb3B0aW9ucy5yZW5kZXJ8fCh0LiRvcHRpb25zLnJlbmRlcj1mdCksQmUodCwiYmVmb3JlTW91bnQiKSxyPWZ1bmN0aW9uKCl7dC5fdXBkYXRlKHQuX3JlbmRlcigpLG4pfSxuZXcgVm4odCxyLGose2JlZm9yZTpmdW5jdGlvbigpe3QuX2lzTW91bnRlZCYmIXQuX2lzRGVzdHJveWVkJiZCZSh0LCJiZWZvcmVVcGRhdGUiKX19LCEwKSxuPSExO3ZhciBvPXQuX3ByZVdhdGNoZXJzO2lmKG8pZm9yKHZhciBpPTA7aTxvLmxlbmd0aDtpKyspb1tpXS5ydW4oKTtyZXR1cm4gbnVsbD09dC4kdm5vZGUmJih0Ll9pc01vdW50ZWQ9ITAsQmUodCwibW91bnRlZCIpKSx0fSh0aGlzLHQ9dCYmSj90byh0KTp2b2lkIDAsZSl9LEomJnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SC5kZXZ0b29scyYmb3QmJm90LmVtaXQoImluaXQiLENyKX0pLDApO3ZhciBnYT0vXHtceygoPzoufFxyP1xuKSs/KVx9XH0vZyx5YT0vWy0uKis/XiR7fSgpfFtcXVwvXFxdL2csX2E9YigoZnVuY3Rpb24odCl7dmFyIGU9dFswXS5yZXBsYWNlKHlhLCJcXCQmIiksbj10WzFdLnJlcGxhY2UoeWEsIlxcJCYiKTtyZXR1cm4gbmV3IFJlZ0V4cChlKyIoKD86LnxcXG4pKz8pIituLCJnIil9KSk7dmFyIGJhPXtzdGF0aWNLZXlzOlsic3RhdGljQ2xhc3MiXSx0cmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKHQsZSl7ZS53YXJuO3ZhciBuPUJvKHQsImNsYXNzIik7biYmKHQuc3RhdGljQ2xhc3M9SlNPTi5zdHJpbmdpZnkobi5yZXBsYWNlKC9ccysvZywiICIpLnRyaW0oKSkpO3ZhciByPUhvKHQsImNsYXNzIiwhMSk7ciYmKHQuY2xhc3NCaW5kaW5nPXIpfSxnZW5EYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPSIiO3JldHVybiB0LnN0YXRpY0NsYXNzJiYoZSs9InN0YXRpY0NsYXNzOiIuY29uY2F0KHQuc3RhdGljQ2xhc3MsIiwiKSksdC5jbGFzc0JpbmRpbmcmJihlKz0iY2xhc3M6Ii5jb25jYXQodC5jbGFzc0JpbmRpbmcsIiwiKSksZX19O3ZhciAkYSx3YT17c3RhdGljS2V5czpbInN0YXRpY1N0eWxlIl0sdHJhbnNmb3JtTm9kZTpmdW5jdGlvbih0LGUpe2Uud2Fybjt2YXIgbj1Cbyh0LCJzdHlsZSIpO24mJih0LnN0YXRpY1N0eWxlPUpTT04uc3RyaW5naWZ5KHVpKG4pKSk7dmFyIHI9SG8odCwic3R5bGUiLCExKTtyJiYodC5zdHlsZUJpbmRpbmc9cil9LGdlbkRhdGE6ZnVuY3Rpb24odCl7dmFyIGU9IiI7cmV0dXJuIHQuc3RhdGljU3R5bGUmJihlKz0ic3RhdGljU3R5bGU6Ii5jb25jYXQodC5zdGF0aWNTdHlsZSwiLCIpKSx0LnN0eWxlQmluZGluZyYmKGUrPSJzdHlsZTooIi5jb25jYXQodC5zdHlsZUJpbmRpbmcsIiksIikpLGV9fSx4YT1mdW5jdGlvbih0KXtyZXR1cm4oJGE9JGF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUw9dCwkYS50ZXh0Q29udGVudH0sQ2E9digiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnIiKSxrYT12KCJjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlIiksU2E9digiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLGRldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSxoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSxvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdGl0bGUsdHIsdHJhY2siKSxPYT0vXlxzKihbXlxzIic8PlwvPV0rKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy8sVGE9L15ccyooKD86di1bXHctXSs6fEB8OnwjKVxbW149XSs/XF1bXlxzIic8PlwvPV0qKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy8sQWE9IlthLXpBLVpfXVtcXC1cXC4wLTlfYS16QS1aIi5jb25jYXQoQi5zb3VyY2UsIl0qIiksamE9IigoPzoiLmNvbmNhdChBYSwiXFw6KT8iKS5jb25jYXQoQWEsIikiKSxFYT1uZXcgUmVnRXhwKCJePCIuY29uY2F0KGphKSksTmE9L15ccyooXC8/KT4vLFBhPW5ldyBSZWdFeHAoIl48XFwvIi5jb25jYXQoamEsIltePl0qPiIpKSxEYT0vXjwhRE9DVFlQRSBbXj5dKz4vaSxNYT0vXjwhXC0tLyxJYT0vXjwhXFsvLExhPXYoInNjcmlwdCxzdHlsZSx0ZXh0YXJlYSIsITApLFJhPXt9LEZhPXsiJmx0OyI6IjwiLCImZ3Q7IjoiPiIsIiZxdW90OyI6JyInLCImYW1wOyI6IiYiLCImIzEwOyI6IlxuIiwiJiM5OyI6Ilx0IiwiJiMzOTsiOiInIn0sSGE9LyYoPzpsdHxndHxxdW90fGFtcHwjMzkpOy9nLEJhPS8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5fCMxMHwjOSk7L2csVWE9digicHJlLHRleHRhcmVhIiwhMCksemE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmVWEodCkmJiJcbiI9PT1lWzBdfTtmdW5jdGlvbiBWYSh0LGUpe3ZhciBuPWU/QmE6SGE7cmV0dXJuIHQucmVwbGFjZShuLChmdW5jdGlvbih0KXtyZXR1cm4gRmFbdF19KSl9ZnVuY3Rpb24gS2EodCxlKXtmb3IodmFyIG4scixvPVtdLGk9ZS5leHBlY3RIVE1MLGE9ZS5pc1VuYXJ5VGFnfHxFLHM9ZS5jYW5CZUxlZnRPcGVuVGFnfHxFLGM9MCx1PWZ1bmN0aW9uKCl7aWYobj10LHImJkxhKHIpKXt2YXIgdT0wLGQ9ci50b0xvd2VyQ2FzZSgpLHA9UmFbZF18fChSYVtkXT1uZXcgUmVnRXhwKCIoW1xcc1xcU10qPykoPC8iK2QrIltePl0qPikiLCJpIikpO3c9dC5yZXBsYWNlKHAsKGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdT1yLmxlbmd0aCxMYShkKXx8Im5vc2NyaXB0Ij09PWR8fChuPW4ucmVwbGFjZSgvPCFcLS0oW1xzXFNdKj8pLS0+L2csIiQxIikucmVwbGFjZSgvPCFcW0NEQVRBXFsoW1xzXFNdKj8pXV0+L2csIiQxIikpLHphKGQsbikmJihuPW4uc2xpY2UoMSkpLGUuY2hhcnMmJmUuY2hhcnMobiksIiJ9KSk7Yys9dC5sZW5ndGgtdy5sZW5ndGgsdD13LGYoZCxjLXUsYyl9ZWxzZXt2YXIgdj10LmluZGV4T2YoIjwiKTtpZigwPT09dil7aWYoTWEudGVzdCh0KSl7dmFyIGg9dC5pbmRleE9mKCItLVx4M2UiKTtpZihoPj0wKXJldHVybiBlLnNob3VsZEtlZXBDb21tZW50JiZlLmNvbW1lbnQmJmUuY29tbWVudCh0LnN1YnN0cmluZyg0LGgpLGMsYytoKzMpLGwoaCszKSwiY29udGludWUifWlmKElhLnRlc3QodCkpe3ZhciBtPXQuaW5kZXhPZigiXT4iKTtpZihtPj0wKXJldHVybiBsKG0rMiksImNvbnRpbnVlIn12YXIgZz10Lm1hdGNoKERhKTtpZihnKXJldHVybiBsKGdbMF0ubGVuZ3RoKSwiY29udGludWUiO3ZhciB5PXQubWF0Y2goUGEpO2lmKHkpe3ZhciBfPWM7cmV0dXJuIGwoeVswXS5sZW5ndGgpLGYoeVsxXSxfLGMpLCJjb250aW51ZSJ9dmFyIGI9ZnVuY3Rpb24oKXt2YXIgZT10Lm1hdGNoKEVhKTtpZihlKXt2YXIgbj17dGFnTmFtZTplWzFdLGF0dHJzOltdLHN0YXJ0OmN9O2woZVswXS5sZW5ndGgpO2Zvcih2YXIgcj12b2lkIDAsbz12b2lkIDA7IShyPXQubWF0Y2goTmEpKSYmKG89dC5tYXRjaChUYSl8fHQubWF0Y2goT2EpKTspby5zdGFydD1jLGwob1swXS5sZW5ndGgpLG8uZW5kPWMsbi5hdHRycy5wdXNoKG8pO2lmKHIpcmV0dXJuIG4udW5hcnlTbGFzaD1yWzFdLGwoclswXS5sZW5ndGgpLG4uZW5kPWMsbn19KCk7aWYoYilyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC50YWdOYW1lLGM9dC51bmFyeVNsYXNoO2kmJigicCI9PT1yJiZTYShuKSYmZihyKSxzKG4pJiZyPT09biYmZihuKSk7Zm9yKHZhciB1PWEobil8fCEhYyxsPXQuYXR0cnMubGVuZ3RoLGQ9bmV3IEFycmF5KGwpLHA9MDtwPGw7cCsrKXt2YXIgdj10LmF0dHJzW3BdLGg9dlszXXx8dls0XXx8dls1XXx8IiIsbT0iYSI9PT1uJiYiaHJlZiI9PT12WzFdP2Uuc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOmUuc2hvdWxkRGVjb2RlTmV3bGluZXM7ZFtwXT17bmFtZTp2WzFdLHZhbHVlOlZhKGgsbSl9fXV8fChvLnB1c2goe3RhZzpuLGxvd2VyQ2FzZWRUYWc6bi50b0xvd2VyQ2FzZSgpLGF0dHJzOmQsc3RhcnQ6dC5zdGFydCxlbmQ6dC5lbmR9KSxyPW4pO2Uuc3RhcnQmJmUuc3RhcnQobixkLHUsdC5zdGFydCx0LmVuZCl9KGIpLHphKGIudGFnTmFtZSx0KSYmbCgxKSwiY29udGludWUifXZhciAkPXZvaWQgMCx3PXZvaWQgMCx4PXZvaWQgMDtpZih2Pj0wKXtmb3Iodz10LnNsaWNlKHYpOyEoUGEudGVzdCh3KXx8RWEudGVzdCh3KXx8TWEudGVzdCh3KXx8SWEudGVzdCh3KXx8KHg9dy5pbmRleE9mKCI8IiwxKSk8MCk7KXYrPXgsdz10LnNsaWNlKHYpOyQ9dC5zdWJzdHJpbmcoMCx2KX12PDAmJigkPXQpLCQmJmwoJC5sZW5ndGgpLGUuY2hhcnMmJiQmJmUuY2hhcnMoJCxjLSQubGVuZ3RoLGMpfWlmKHQ9PT1uKXJldHVybiBlLmNoYXJzJiZlLmNoYXJzKHQpLCJicmVhayJ9O3Q7KXtpZigiYnJlYWsiPT09dSgpKWJyZWFrfWZ1bmN0aW9uIGwoZSl7Yys9ZSx0PXQuc3Vic3RyaW5nKGUpfWZ1bmN0aW9uIGYodCxuLGkpe3ZhciBhLHM7aWYobnVsbD09biYmKG49YyksbnVsbD09aSYmKGk9YyksdClmb3Iocz10LnRvTG93ZXJDYXNlKCksYT1vLmxlbmd0aC0xO2E+PTAmJm9bYV0ubG93ZXJDYXNlZFRhZyE9PXM7YS0tKTtlbHNlIGE9MDtpZihhPj0wKXtmb3IodmFyIHU9by5sZW5ndGgtMTt1Pj1hO3UtLSllLmVuZCYmZS5lbmQob1t1XS50YWcsbixpKTtvLmxlbmd0aD1hLHI9YSYmb1thLTFdLnRhZ31lbHNlImJyIj09PXM/ZS5zdGFydCYmZS5zdGFydCh0LFtdLCEwLG4saSk6InAiPT09cyYmKGUuc3RhcnQmJmUuc3RhcnQodCxbXSwhMSxuLGkpLGUuZW5kJiZlLmVuZCh0LG4saSkpfWYoKX12YXIgSmEscWEsV2EsWmEsR2EsWGEsWWEsUWEsdHM9L15AfF52LW9uOi8sZXM9L152LXxeQHxeOnxeIy8sbnM9LyhbXHNcU10qPylccysoPzppbnxvZilccysoW1xzXFNdKikvLHJzPS8sKFteLFx9XF1dKikoPzosKFteLFx9XF1dKikpPyQvLG9zPS9eXCh8XCkkL2csaXM9L15cWy4qXF0kLyxhcz0vOiguKikkLyxzcz0vXjp8XlwufF52LWJpbmQ6Lyxjcz0vXC5bXi5cXV0rKD89W15cXV0qJCkvZyx1cz0vXnYtc2xvdCg6fCQpfF4jLyxscz0vW1xyXG5dLyxmcz0vWyBcZlx0XHJcbl0rL2csZHM9Yih4YSkscHM9Il9lbXB0eV8iO2Z1bmN0aW9uIHZzKHQsZSxuKXtyZXR1cm57dHlwZToxLHRhZzp0LGF0dHJzTGlzdDplLGF0dHJzTWFwOiRzKGUpLHJhd0F0dHJzTWFwOnt9LHBhcmVudDpuLGNoaWxkcmVuOltdfX1mdW5jdGlvbiBocyh0LGUpe0phPWUud2Fybnx8Tm8sWGE9ZS5pc1ByZVRhZ3x8RSxZYT1lLm11c3RVc2VQcm9wfHxFLFFhPWUuZ2V0VGFnTmFtZXNwYWNlfHxFLGUuaXNSZXNlcnZlZFRhZyxXYT1QbyhlLm1vZHVsZXMsInRyYW5zZm9ybU5vZGUiKSxaYT1QbyhlLm1vZHVsZXMsInByZVRyYW5zZm9ybU5vZGUiKSxHYT1QbyhlLm1vZHVsZXMsInBvc3RUcmFuc2Zvcm1Ob2RlIikscWE9ZS5kZWxpbWl0ZXJzO3ZhciBuLHIsbz1bXSxpPSExIT09ZS5wcmVzZXJ2ZVdoaXRlc3BhY2UsYT1lLndoaXRlc3BhY2Uscz0hMSxjPSExO2Z1bmN0aW9uIHUodCl7aWYobCh0KSxzfHx0LnByb2Nlc3NlZHx8KHQ9bXModCxlKSksby5sZW5ndGh8fHQ9PT1ufHxuLmlmJiYodC5lbHNlaWZ8fHQuZWxzZSkmJnlzKG4se2V4cDp0LmVsc2VpZixibG9jazp0fSksciYmIXQuZm9yYmlkZGVuKWlmKHQuZWxzZWlmfHx0LmVsc2UpYT10LHU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoO2UtLTspe2lmKDE9PT10W2VdLnR5cGUpcmV0dXJuIHRbZV07dC5wb3AoKX19KHIuY2hpbGRyZW4pLHUmJnUuaWYmJnlzKHUse2V4cDphLmVsc2VpZixibG9jazphfSk7ZWxzZXtpZih0LnNsb3RTY29wZSl7dmFyIGk9dC5zbG90VGFyZ2V0fHwnImRlZmF1bHQiJzsoci5zY29wZWRTbG90c3x8KHIuc2NvcGVkU2xvdHM9e30pKVtpXT10fXIuY2hpbGRyZW4ucHVzaCh0KSx0LnBhcmVudD1yfXZhciBhLHU7dC5jaGlsZHJlbj10LmNoaWxkcmVuLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIXQuc2xvdFNjb3BlfSkpLGwodCksdC5wcmUmJihzPSExKSxYYSh0LnRhZykmJihjPSExKTtmb3IodmFyIGY9MDtmPEdhLmxlbmd0aDtmKyspR2FbZl0odCxlKX1mdW5jdGlvbiBsKHQpe2lmKCFjKWZvcih2YXIgZT12b2lkIDA7KGU9dC5jaGlsZHJlblt0LmNoaWxkcmVuLmxlbmd0aC0xXSkmJjM9PT1lLnR5cGUmJiIgIj09PWUudGV4dDspdC5jaGlsZHJlbi5wb3AoKX1yZXR1cm4gS2EodCx7d2FybjpKYSxleHBlY3RIVE1MOmUuZXhwZWN0SFRNTCxpc1VuYXJ5VGFnOmUuaXNVbmFyeVRhZyxjYW5CZUxlZnRPcGVuVGFnOmUuY2FuQmVMZWZ0T3BlblRhZyxzaG91bGREZWNvZGVOZXdsaW5lczplLnNob3VsZERlY29kZU5ld2xpbmVzLHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjplLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZixzaG91bGRLZWVwQ29tbWVudDplLmNvbW1lbnRzLG91dHB1dFNvdXJjZVJhbmdlOmUub3V0cHV0U291cmNlUmFuZ2Usc3RhcnQ6ZnVuY3Rpb24odCxpLGEsbCxmKXt2YXIgZD1yJiZyLm5zfHxRYSh0KTtXJiYic3ZnIj09PWQmJihpPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07d3MudGVzdChyLm5hbWUpfHwoci5uYW1lPXIubmFtZS5yZXBsYWNlKHhzLCIiKSxlLnB1c2gocikpfXJldHVybiBlfShpKSk7dmFyIHAsdj12cyh0LGkscik7ZCYmKHYubnM9ZCksInN0eWxlIiE9PShwPXYpLnRhZyYmKCJzY3JpcHQiIT09cC50YWd8fHAuYXR0cnNNYXAudHlwZSYmInRleHQvamF2YXNjcmlwdCIhPT1wLmF0dHJzTWFwLnR5cGUpfHxydCgpfHwodi5mb3JiaWRkZW49ITApO2Zvcih2YXIgaD0wO2g8WmEubGVuZ3RoO2grKyl2PVphW2hdKHYsZSl8fHY7c3x8KCFmdW5jdGlvbih0KXtudWxsIT1Cbyh0LCJ2LXByZSIpJiYodC5wcmU9ITApfSh2KSx2LnByZSYmKHM9ITApKSxYYSh2LnRhZykmJihjPSEwKSxzP2Z1bmN0aW9uKHQpe3ZhciBlPXQuYXR0cnNMaXN0LG49ZS5sZW5ndGg7aWYobilmb3IodmFyIHI9dC5hdHRycz1uZXcgQXJyYXkobiksbz0wO288bjtvKyspcltvXT17bmFtZTplW29dLm5hbWUsdmFsdWU6SlNPTi5zdHJpbmdpZnkoZVtvXS52YWx1ZSl9LG51bGwhPWVbb10uc3RhcnQmJihyW29dLnN0YXJ0PWVbb10uc3RhcnQscltvXS5lbmQ9ZVtvXS5lbmQpO2Vsc2UgdC5wcmV8fCh0LnBsYWluPSEwKX0odik6di5wcm9jZXNzZWR8fChncyh2KSxmdW5jdGlvbih0KXt2YXIgZT1Cbyh0LCJ2LWlmIik7aWYoZSl0LmlmPWUseXModCx7ZXhwOmUsYmxvY2s6dH0pO2Vsc2V7bnVsbCE9Qm8odCwidi1lbHNlIikmJih0LmVsc2U9ITApO3ZhciBuPUJvKHQsInYtZWxzZS1pZiIpO24mJih0LmVsc2VpZj1uKX19KHYpLGZ1bmN0aW9uKHQpe251bGwhPUJvKHQsInYtb25jZSIpJiYodC5vbmNlPSEwKX0odikpLG58fChuPXYpLGE/dSh2KToocj12LG8ucHVzaCh2KSl9LGVuZDpmdW5jdGlvbih0LGUsbil7dmFyIGk9b1tvLmxlbmd0aC0xXTtvLmxlbmd0aC09MSxyPW9bby5sZW5ndGgtMV0sdShpKX0sY2hhcnM6ZnVuY3Rpb24odCxlLG4pe2lmKHImJighV3x8InRleHRhcmVhIiE9PXIudGFnfHxyLmF0dHJzTWFwLnBsYWNlaG9sZGVyIT09dCkpe3ZhciBvLHU9ci5jaGlsZHJlbjtpZih0PWN8fHQudHJpbSgpPyJzY3JpcHQiPT09KG89cikudGFnfHwic3R5bGUiPT09by50YWc/dDpkcyh0KTp1Lmxlbmd0aD9hPyJjb25kZW5zZSI9PT1hJiZscy50ZXN0KHQpPyIiOiIgIjppPyIgIjoiIjoiIil7Y3x8ImNvbmRlbnNlIiE9PWF8fCh0PXQucmVwbGFjZShmcywiICIpKTt2YXIgbD12b2lkIDAsZj12b2lkIDA7IXMmJiIgIiE9PXQmJihsPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZT9fYShlKTpnYTtpZihuLnRlc3QodCkpe2Zvcih2YXIgcixvLGksYT1bXSxzPVtdLGM9bi5sYXN0SW5kZXg9MDtyPW4uZXhlYyh0KTspeyhvPXIuaW5kZXgpPmMmJihzLnB1c2goaT10LnNsaWNlKGMsbykpLGEucHVzaChKU09OLnN0cmluZ2lmeShpKSkpO3ZhciB1PWpvKHJbMV0udHJpbSgpKTthLnB1c2goIl9zKCIuY29uY2F0KHUsIikiKSkscy5wdXNoKHsiQGJpbmRpbmciOnV9KSxjPW8rclswXS5sZW5ndGh9cmV0dXJuIGM8dC5sZW5ndGgmJihzLnB1c2goaT10LnNsaWNlKGMpKSxhLnB1c2goSlNPTi5zdHJpbmdpZnkoaSkpKSx7ZXhwcmVzc2lvbjphLmpvaW4oIisiKSx0b2tlbnM6c319fSh0LHFhKSk/Zj17dHlwZToyLGV4cHJlc3Npb246bC5leHByZXNzaW9uLHRva2VuczpsLnRva2Vucyx0ZXh0OnR9OiIgIj09PXQmJnUubGVuZ3RoJiYiICI9PT11W3UubGVuZ3RoLTFdLnRleHR8fChmPXt0eXBlOjMsdGV4dDp0fSksZiYmdS5wdXNoKGYpfX19LGNvbW1lbnQ6ZnVuY3Rpb24odCxlLG4pe2lmKHIpe3ZhciBvPXt0eXBlOjMsdGV4dDp0LGlzQ29tbWVudDohMH07ci5jaGlsZHJlbi5wdXNoKG8pfX19KSxufWZ1bmN0aW9uIG1zKHQsZSl7dmFyIG4scjsocj1IbyhuPXQsImtleSIpKSYmKG4ua2V5PXIpLHQucGxhaW49IXQua2V5JiYhdC5zY29wZWRTbG90cyYmIXQuYXR0cnNMaXN0Lmxlbmd0aCxmdW5jdGlvbih0KXt2YXIgZT1Ibyh0LCJyZWYiKTtlJiYodC5yZWY9ZSx0LnJlZkluRm9yPWZ1bmN0aW9uKHQpe3ZhciBlPXQ7Zm9yKDtlOyl7aWYodm9pZCAwIT09ZS5mb3IpcmV0dXJuITA7ZT1lLnBhcmVudH1yZXR1cm4hMX0odCkpfSh0KSxmdW5jdGlvbih0KXt2YXIgZTsidGVtcGxhdGUiPT09dC50YWc/KGU9Qm8odCwic2NvcGUiKSx0LnNsb3RTY29wZT1lfHxCbyh0LCJzbG90LXNjb3BlIikpOihlPUJvKHQsInNsb3Qtc2NvcGUiKSkmJih0LnNsb3RTY29wZT1lKTt2YXIgbj1Ibyh0LCJzbG90Iik7biYmKHQuc2xvdFRhcmdldD0nIiInPT09bj8nImRlZmF1bHQiJzpuLHQuc2xvdFRhcmdldER5bmFtaWM9ISghdC5hdHRyc01hcFsiOnNsb3QiXSYmIXQuYXR0cnNNYXBbInYtYmluZDpzbG90Il0pLCJ0ZW1wbGF0ZSI9PT10LnRhZ3x8dC5zbG90U2NvcGV8fE1vKHQsInNsb3QiLG4sZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5yYXdBdHRyc01hcFsiOiIrZV18fHQucmF3QXR0cnNNYXBbInYtYmluZDoiK2VdfHx0LnJhd0F0dHJzTWFwW2VdfSh0LCJzbG90IikpKTtpZigidGVtcGxhdGUiPT09dC50YWcpe2lmKGE9VW8odCx1cykpe3ZhciByPV9zKGEpLG89ci5uYW1lLGk9ci5keW5hbWljO3Quc2xvdFRhcmdldD1vLHQuc2xvdFRhcmdldER5bmFtaWM9aSx0LnNsb3RTY29wZT1hLnZhbHVlfHxwc319ZWxzZXt2YXIgYTtpZihhPVVvKHQsdXMpKXt2YXIgcz10LnNjb3BlZFNsb3RzfHwodC5zY29wZWRTbG90cz17fSksYz1fcyhhKSx1PWMubmFtZSxsPShpPWMuZHluYW1pYyxzW3VdPXZzKCJ0ZW1wbGF0ZSIsW10sdCkpO2wuc2xvdFRhcmdldD11LGwuc2xvdFRhcmdldER5bmFtaWM9aSxsLmNoaWxkcmVuPXQuY2hpbGRyZW4uZmlsdGVyKChmdW5jdGlvbih0KXtpZighdC5zbG90U2NvcGUpcmV0dXJuIHQucGFyZW50PWwsITB9KSksbC5zbG90U2NvcGU9YS52YWx1ZXx8cHMsdC5jaGlsZHJlbj1bXSx0LnBsYWluPSExfX19KHQpLGZ1bmN0aW9uKHQpeyJzbG90Ij09PXQudGFnJiYodC5zbG90TmFtZT1Ibyh0LCJuYW1lIikpfSh0KSxmdW5jdGlvbih0KXt2YXIgZTsoZT1Ibyh0LCJpcyIpKSYmKHQuY29tcG9uZW50PWUpO251bGwhPUJvKHQsImlubGluZS10ZW1wbGF0ZSIpJiYodC5pbmxpbmVUZW1wbGF0ZT0hMCl9KHQpO2Zvcih2YXIgbz0wO288V2EubGVuZ3RoO28rKyl0PVdhW29dKHQsZSl8fHQ7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlLG4scixvLGksYSxzLGMsdT10LmF0dHJzTGlzdDtmb3IoZT0wLG49dS5sZW5ndGg7ZTxuO2UrKylpZihyPW89dVtlXS5uYW1lLGk9dVtlXS52YWx1ZSxlcy50ZXN0KHIpKWlmKHQuaGFzQmluZGluZ3M9ITAsKGE9YnMoci5yZXBsYWNlKGVzLCIiKSkpJiYocj1yLnJlcGxhY2UoY3MsIiIpKSxzcy50ZXN0KHIpKXI9ci5yZXBsYWNlKHNzLCIiKSxpPWpvKGkpLChjPWlzLnRlc3QocikpJiYocj1yLnNsaWNlKDEsLTEpKSxhJiYoYS5wcm9wJiYhYyYmImlubmVySHRtbCI9PT0ocj13KHIpKSYmKHI9ImlubmVySFRNTCIpLGEuY2FtZWwmJiFjJiYocj13KHIpKSxhLnN5bmMmJihzPUtvKGksIiRldmVudCIpLGM/Rm8odCwnInVwZGF0ZToiKygnLmNvbmNhdChyLCIpIikscyxudWxsLCExLDAsdVtlXSwhMCk6KEZvKHQsInVwZGF0ZToiLmNvbmNhdCh3KHIpKSxzLG51bGwsITEsMCx1W2VdKSxrKHIpIT09dyhyKSYmRm8odCwidXBkYXRlOiIuY29uY2F0KGsocikpLHMsbnVsbCwhMSwwLHVbZV0pKSkpLGEmJmEucHJvcHx8IXQuY29tcG9uZW50JiZZYSh0LnRhZyx0LmF0dHJzTWFwLnR5cGUscik/RG8odCxyLGksdVtlXSxjKTpNbyh0LHIsaSx1W2VdLGMpO2Vsc2UgaWYodHMudGVzdChyKSlyPXIucmVwbGFjZSh0cywiIiksKGM9aXMudGVzdChyKSkmJihyPXIuc2xpY2UoMSwtMSkpLEZvKHQscixpLGEsITEsMCx1W2VdLGMpO2Vsc2V7dmFyIGw9KHI9ci5yZXBsYWNlKGVzLCIiKSkubWF0Y2goYXMpLGY9bCYmbFsxXTtjPSExLGYmJihyPXIuc2xpY2UoMCwtKGYubGVuZ3RoKzEpKSxpcy50ZXN0KGYpJiYoZj1mLnNsaWNlKDEsLTEpLGM9ITApKSxMbyh0LHIsbyxpLGYsYyxhLHVbZV0pfWVsc2UgTW8odCxyLEpTT04uc3RyaW5naWZ5KGkpLHVbZV0pLCF0LmNvbXBvbmVudCYmIm11dGVkIj09PXImJllhKHQudGFnLHQuYXR0cnNNYXAudHlwZSxyKSYmRG8odCxyLCJ0cnVlIix1W2VdKX0odCksdH1mdW5jdGlvbiBncyh0KXt2YXIgZTtpZihlPUJvKHQsInYtZm9yIikpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2gobnMpO2lmKCFlKXJldHVybjt2YXIgbj17fTtuLmZvcj1lWzJdLnRyaW0oKTt2YXIgcj1lWzFdLnRyaW0oKS5yZXBsYWNlKG9zLCIiKSxvPXIubWF0Y2gocnMpO28/KG4uYWxpYXM9ci5yZXBsYWNlKHJzLCIiKS50cmltKCksbi5pdGVyYXRvcjE9b1sxXS50cmltKCksb1syXSYmKG4uaXRlcmF0b3IyPW9bMl0udHJpbSgpKSk6bi5hbGlhcz1yO3JldHVybiBufShlKTtuJiZUKHQsbil9fWZ1bmN0aW9uIHlzKHQsZSl7dC5pZkNvbmRpdGlvbnN8fCh0LmlmQ29uZGl0aW9ucz1bXSksdC5pZkNvbmRpdGlvbnMucHVzaChlKX1mdW5jdGlvbiBfcyh0KXt2YXIgZT10Lm5hbWUucmVwbGFjZSh1cywiIik7cmV0dXJuIGV8fCIjIiE9PXQubmFtZVswXSYmKGU9ImRlZmF1bHQiKSxpcy50ZXN0KGUpP3tuYW1lOmUuc2xpY2UoMSwtMSksZHluYW1pYzohMH06e25hbWU6JyInLmNvbmNhdChlLCciJyksZHluYW1pYzohMX19ZnVuY3Rpb24gYnModCl7dmFyIGU9dC5tYXRjaChjcyk7aWYoZSl7dmFyIG49e307cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24odCl7blt0LnNsaWNlKDEpXT0hMH0pKSxufX1mdW5jdGlvbiAkcyh0KXtmb3IodmFyIGU9e30sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyllW3Rbbl0ubmFtZV09dFtuXS52YWx1ZTtyZXR1cm4gZX12YXIgd3M9L154bWxuczpOU1xkKy8seHM9L15OU1xkKzovO2Z1bmN0aW9uIENzKHQpe3JldHVybiB2cyh0LnRhZyx0LmF0dHJzTGlzdC5zbGljZSgpLHQucGFyZW50KX12YXIga3M9W2JhLHdhLHtwcmVUcmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKHQsZSl7aWYoImlucHV0Ij09PXQudGFnKXt2YXIgbj10LmF0dHJzTWFwO2lmKCFuWyJ2LW1vZGVsIl0pcmV0dXJuO3ZhciByPXZvaWQgMDtpZigoblsiOnR5cGUiXXx8blsidi1iaW5kOnR5cGUiXSkmJihyPUhvKHQsInR5cGUiKSksbi50eXBlfHxyfHwhblsidi1iaW5kIl18fChyPSIoIi5jb25jYXQoblsidi1iaW5kIl0sIikudHlwZSIpKSxyKXt2YXIgbz1Cbyh0LCJ2LWlmIiwhMCksaT1vPyImJigiLmNvbmNhdChvLCIpIik6IiIsYT1udWxsIT1Cbyh0LCJ2LWVsc2UiLCEwKSxzPUJvKHQsInYtZWxzZS1pZiIsITApLGM9Q3ModCk7Z3MoYyksSW8oYywidHlwZSIsImNoZWNrYm94IiksbXMoYyxlKSxjLnByb2Nlc3NlZD0hMCxjLmlmPSIoIi5jb25jYXQociwiKT09PSdjaGVja2JveCciKStpLHlzKGMse2V4cDpjLmlmLGJsb2NrOmN9KTt2YXIgdT1Dcyh0KTtCbyh1LCJ2LWZvciIsITApLElvKHUsInR5cGUiLCJyYWRpbyIpLG1zKHUsZSkseXMoYyx7ZXhwOiIoIi5jb25jYXQociwiKT09PSdyYWRpbyciKStpLGJsb2NrOnV9KTt2YXIgbD1Dcyh0KTtyZXR1cm4gQm8obCwidi1mb3IiLCEwKSxJbyhsLCI6dHlwZSIsciksbXMobCxlKSx5cyhjLHtleHA6byxibG9jazpsfSksYT9jLmVsc2U9ITA6cyYmKGMuZWxzZWlmPXMpLGN9fX19XTt2YXIgU3MsT3MsVHM9e21vZGVsOmZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLnZhbHVlLG89ZS5tb2RpZmllcnMsaT10LnRhZyxhPXQuYXR0cnNNYXAudHlwZTtpZih0LmNvbXBvbmVudClyZXR1cm4gVm8odCxyLG8pLCExO2lmKCJzZWxlY3QiPT09aSkhZnVuY3Rpb24odCxlLG4pe3ZhciByPW4mJm4ubnVtYmVyLG89J0FycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7JysicmV0dXJuICIuY29uY2F0KHI/Il9uKHZhbCkiOiJ2YWwiLCJ9KSIpLGk9IiRldmVudC50YXJnZXQubXVsdGlwbGUgPyAkJHNlbGVjdGVkVmFsIDogJCRzZWxlY3RlZFZhbFswXSIsYT0idmFyICQkc2VsZWN0ZWRWYWwgPSAiLmNvbmNhdChvLCI7Iik7YT0iIi5jb25jYXQoYSwiICIpLmNvbmNhdChLbyhlLGkpKSxGbyh0LCJjaGFuZ2UiLGEsbnVsbCwhMCl9KHQscixvKTtlbHNlIGlmKCJpbnB1dCI9PT1pJiYiY2hlY2tib3giPT09YSkhZnVuY3Rpb24odCxlLG4pe3ZhciByPW4mJm4ubnVtYmVyLG89SG8odCwidmFsdWUiKXx8Im51bGwiLGk9SG8odCwidHJ1ZS12YWx1ZSIpfHwidHJ1ZSIsYT1Ibyh0LCJmYWxzZS12YWx1ZSIpfHwiZmFsc2UiO0RvKHQsImNoZWNrZWQiLCJBcnJheS5pc0FycmF5KCIuY29uY2F0KGUsIikiKSsiP19pKCIuY29uY2F0KGUsIiwiKS5jb25jYXQobywiKT4tMSIpKygidHJ1ZSI9PT1pPyI6KCIuY29uY2F0KGUsIikiKToiOl9xKCIuY29uY2F0KGUsIiwiKS5jb25jYXQoaSwiKSIpKSksRm8odCwiY2hhbmdlIiwidmFyICQkYT0iLmNvbmNhdChlLCIsIikrIiQkZWw9JGV2ZW50LnRhcmdldCwiKyIkJGM9JCRlbC5jaGVja2VkPygiLmNvbmNhdChpLCIpOigiKS5jb25jYXQoYSwiKTsiKSsiaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsiKyJ2YXIgJCR2PSIuY29uY2F0KHI/Il9uKCIrbysiKSI6bywiLCIpKyIkJGk9X2koJCRhLCQkdik7IisiaWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKCIuY29uY2F0KEtvKGUsIiQkYS5jb25jYXQoWyQkdl0pIiksIil9IikrImVsc2V7JCRpPi0xJiYoIi5jb25jYXQoS28oZSwiJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSkiKSwiKX0iKSsifWVsc2V7Ii5jb25jYXQoS28oZSwiJCRjIiksIn0iKSxudWxsLCEwKX0odCxyLG8pO2Vsc2UgaWYoImlucHV0Ij09PWkmJiJyYWRpbyI9PT1hKSFmdW5jdGlvbih0LGUsbil7dmFyIHI9biYmbi5udW1iZXIsbz1Ibyh0LCJ2YWx1ZSIpfHwibnVsbCI7bz1yPyJfbigiLmNvbmNhdChvLCIpIik6byxEbyh0LCJjaGVja2VkIiwiX3EoIi5jb25jYXQoZSwiLCIpLmNvbmNhdChvLCIpIikpLEZvKHQsImNoYW5nZSIsS28oZSxvKSxudWxsLCEwKX0odCxyLG8pO2Vsc2UgaWYoImlucHV0Ij09PWl8fCJ0ZXh0YXJlYSI9PT1pKSFmdW5jdGlvbih0LGUsbil7dmFyIHI9dC5hdHRyc01hcC50eXBlLG89bnx8e30saT1vLmxhenksYT1vLm51bWJlcixzPW8udHJpbSxjPSFpJiYicmFuZ2UiIT09cix1PWk/ImNoYW5nZSI6InJhbmdlIj09PXI/WW86ImlucHV0IixsPSIkZXZlbnQudGFyZ2V0LnZhbHVlIjtzJiYobD0iJGV2ZW50LnRhcmdldC52YWx1ZS50cmltKCkiKTthJiYobD0iX24oIi5jb25jYXQobCwiKSIpKTt2YXIgZj1LbyhlLGwpO2MmJihmPSJpZigkZXZlbnQudGFyZ2V0LmNvbXBvc2luZylyZXR1cm47Ii5jb25jYXQoZikpO0RvKHQsInZhbHVlIiwiKCIuY29uY2F0KGUsIikiKSksRm8odCx1LGYsbnVsbCwhMCksKHN8fGEpJiZGbyh0LCJibHVyIiwiJGZvcmNlVXBkYXRlKCkiKX0odCxyLG8pO2Vsc2UgaWYoIUguaXNSZXNlcnZlZFRhZyhpKSlyZXR1cm4gVm8odCxyLG8pLCExO3JldHVybiEwfSx0ZXh0OmZ1bmN0aW9uKHQsZSl7ZS52YWx1ZSYmRG8odCwidGV4dENvbnRlbnQiLCJfcygiLmNvbmNhdChlLnZhbHVlLCIpIiksZSl9LGh0bWw6ZnVuY3Rpb24odCxlKXtlLnZhbHVlJiZEbyh0LCJpbm5lckhUTUwiLCJfcygiLmNvbmNhdChlLnZhbHVlLCIpIiksZSl9fSxBcz17ZXhwZWN0SFRNTDohMCxtb2R1bGVzOmtzLGRpcmVjdGl2ZXM6VHMsaXNQcmVUYWc6ZnVuY3Rpb24odCl7cmV0dXJuInByZSI9PT10fSxpc1VuYXJ5VGFnOkNhLG11c3RVc2VQcm9wOk1yLGNhbkJlTGVmdE9wZW5UYWc6a2EsaXNSZXNlcnZlZFRhZzpHcixnZXRUYWdOYW1lc3BhY2U6WHIsc3RhdGljS2V5czpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KGUuc3RhdGljS2V5c3x8W10pfSksW10pLmpvaW4oIiwiKX0oa3MpfSxqcz1iKChmdW5jdGlvbih0KXtyZXR1cm4gdigidHlwZSx0YWcsYXR0cnNMaXN0LGF0dHJzTWFwLHBsYWluLHBhcmVudCxjaGlsZHJlbixhdHRycyxzdGFydCxlbmQscmF3QXR0cnNNYXAiKyh0PyIsIit0OiIiKSl9KSk7ZnVuY3Rpb24gRXModCxlKXt0JiYoU3M9anMoZS5zdGF0aWNLZXlzfHwiIiksT3M9ZS5pc1Jlc2VydmVkVGFnfHxFLE5zKHQpLFBzKHQsITEpKX1mdW5jdGlvbiBOcyh0KXtpZih0LnN0YXRpYz1mdW5jdGlvbih0KXtpZigyPT09dC50eXBlKXJldHVybiExO2lmKDM9PT10LnR5cGUpcmV0dXJuITA7cmV0dXJuISghdC5wcmUmJih0Lmhhc0JpbmRpbmdzfHx0LmlmfHx0LmZvcnx8aCh0LnRhZyl8fCFPcyh0LnRhZyl8fGZ1bmN0aW9uKHQpe2Zvcig7dC5wYXJlbnQ7KXtpZigidGVtcGxhdGUiIT09KHQ9dC5wYXJlbnQpLnRhZylyZXR1cm4hMTtpZih0LmZvcilyZXR1cm4hMH1yZXR1cm4hMX0odCl8fCFPYmplY3Qua2V5cyh0KS5ldmVyeShTcykpKX0odCksMT09PXQudHlwZSl7aWYoIU9zKHQudGFnKSYmInNsb3QiIT09dC50YWcmJm51bGw9PXQuYXR0cnNNYXBbImlubGluZS10ZW1wbGF0ZSJdKXJldHVybjtmb3IodmFyIGU9MCxuPXQuY2hpbGRyZW4ubGVuZ3RoO2U8bjtlKyspe3ZhciByPXQuY2hpbGRyZW5bZV07TnMociksci5zdGF0aWN8fCh0LnN0YXRpYz0hMSl9aWYodC5pZkNvbmRpdGlvbnMpZm9yKGU9MSxuPXQuaWZDb25kaXRpb25zLmxlbmd0aDtlPG47ZSsrKXt2YXIgbz10LmlmQ29uZGl0aW9uc1tlXS5ibG9jaztOcyhvKSxvLnN0YXRpY3x8KHQuc3RhdGljPSExKX19fWZ1bmN0aW9uIFBzKHQsZSl7aWYoMT09PXQudHlwZSl7aWYoKHQuc3RhdGljfHx0Lm9uY2UpJiYodC5zdGF0aWNJbkZvcj1lKSx0LnN0YXRpYyYmdC5jaGlsZHJlbi5sZW5ndGgmJigxIT09dC5jaGlsZHJlbi5sZW5ndGh8fDMhPT10LmNoaWxkcmVuWzBdLnR5cGUpKXJldHVybiB2b2lkKHQuc3RhdGljUm9vdD0hMCk7aWYodC5zdGF0aWNSb290PSExLHQuY2hpbGRyZW4pZm9yKHZhciBuPTAscj10LmNoaWxkcmVuLmxlbmd0aDtuPHI7bisrKVBzKHQuY2hpbGRyZW5bbl0sZXx8ISF0LmZvcik7aWYodC5pZkNvbmRpdGlvbnMpZm9yKG49MSxyPXQuaWZDb25kaXRpb25zLmxlbmd0aDtuPHI7bisrKVBzKHQuaWZDb25kaXRpb25zW25dLmJsb2NrLGUpfX12YXIgRHM9L14oW1x3JF9dK3xcKFteKV0qP1wpKVxzKj0+fF5mdW5jdGlvbig/OlxzK1tcdyRdKyk/XHMqXCgvLE1zPS9cKFteKV0qP1wpOyokLyxJcz0vXltBLVphLXpfJF1bXHckXSooPzpcLltBLVphLXpfJF1bXHckXSp8XFsnW14nXSo/J118XFsiW14iXSo/Il18XFtcZCtdfFxbW0EtWmEtel8kXVtcdyRdKl0pKiQvLExzPXtlc2M6MjcsdGFiOjksZW50ZXI6MTMsc3BhY2U6MzIsdXA6MzgsbGVmdDozNyxyaWdodDozOSxkb3duOjQwLGRlbGV0ZTpbOCw0Nl19LFJzPXtlc2M6WyJFc2MiLCJFc2NhcGUiXSx0YWI6IlRhYiIsZW50ZXI6IkVudGVyIixzcGFjZTpbIiAiLCJTcGFjZWJhciJdLHVwOlsiVXAiLCJBcnJvd1VwIl0sbGVmdDpbIkxlZnQiLCJBcnJvd0xlZnQiXSxyaWdodDpbIlJpZ2h0IiwiQXJyb3dSaWdodCJdLGRvd246WyJEb3duIiwiQXJyb3dEb3duIl0sZGVsZXRlOlsiQmFja3NwYWNlIiwiRGVsZXRlIiwiRGVsIl19LEZzPWZ1bmN0aW9uKHQpe3JldHVybiJpZigiLmNvbmNhdCh0LCIpcmV0dXJuIG51bGw7Iil9LEhzPXtzdG9wOiIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IixwcmV2ZW50OiIkZXZlbnQucHJldmVudERlZmF1bHQoKTsiLHNlbGY6RnMoIiRldmVudC50YXJnZXQgIT09ICRldmVudC5jdXJyZW50VGFyZ2V0IiksY3RybDpGcygiISRldmVudC5jdHJsS2V5Iiksc2hpZnQ6RnMoIiEkZXZlbnQuc2hpZnRLZXkiKSxhbHQ6RnMoIiEkZXZlbnQuYWx0S2V5IiksbWV0YTpGcygiISRldmVudC5tZXRhS2V5IiksbGVmdDpGcygiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDAiKSxtaWRkbGU6RnMoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAxIikscmlnaHQ6RnMoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAyIil9O2Z1bmN0aW9uIEJzKHQsZSl7dmFyIG49ZT8ibmF0aXZlT246Ijoib246IixyPSIiLG89IiI7Zm9yKHZhciBpIGluIHQpe3ZhciBhPVVzKHRbaV0pO3RbaV0mJnRbaV0uZHluYW1pYz9vKz0iIi5jb25jYXQoaSwiLCIpLmNvbmNhdChhLCIsIik6cis9JyInLmNvbmNhdChpLCciOicpLmNvbmNhdChhLCIsIil9cmV0dXJuIHI9InsiLmNvbmNhdChyLnNsaWNlKDAsLTEpLCJ9Iiksbz9uKyJfZCgiLmNvbmNhdChyLCIsWyIpLmNvbmNhdChvLnNsaWNlKDAsLTEpLCJdKSIpOm4rcn1mdW5jdGlvbiBVcyh0KXtpZighdClyZXR1cm4iZnVuY3Rpb24oKXt9IjtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiJbIi5jb25jYXQodC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBVcyh0KX0pKS5qb2luKCIsIiksIl0iKTt2YXIgZT1Jcy50ZXN0KHQudmFsdWUpLG49RHMudGVzdCh0LnZhbHVlKSxyPUlzLnRlc3QodC52YWx1ZS5yZXBsYWNlKE1zLCIiKSk7aWYodC5tb2RpZmllcnMpe3ZhciBvPSIiLGk9IiIsYT1bXSxzPWZ1bmN0aW9uKGUpe2lmKEhzW2VdKWkrPUhzW2VdLExzW2VdJiZhLnB1c2goZSk7ZWxzZSBpZigiZXhhY3QiPT09ZSl7dmFyIG49dC5tb2RpZmllcnM7aSs9RnMoWyJjdHJsIiwic2hpZnQiLCJhbHQiLCJtZXRhIl0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hblt0XX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiIkZXZlbnQuIi5jb25jYXQodCwiS2V5Iil9KSkuam9pbigifHwiKSl9ZWxzZSBhLnB1c2goZSl9O2Zvcih2YXIgYyBpbiB0Lm1vZGlmaWVycylzKGMpO2EubGVuZ3RoJiYobys9ZnVuY3Rpb24odCl7cmV0dXJuImlmKCEkZXZlbnQudHlwZS5pbmRleE9mKCdrZXknKSYmIisiIi5jb25jYXQodC5tYXAoenMpLmpvaW4oIiYmIiksIilyZXR1cm4gbnVsbDsiKX0oYSkpLGkmJihvKz1pKTt2YXIgdT1lPyJyZXR1cm4gIi5jb25jYXQodC52YWx1ZSwiLmFwcGx5KG51bGwsIGFyZ3VtZW50cykiKTpuPyJyZXR1cm4gKCIuY29uY2F0KHQudmFsdWUsIikuYXBwbHkobnVsbCwgYXJndW1lbnRzKSIpOnI/InJldHVybiAiLmNvbmNhdCh0LnZhbHVlKTp0LnZhbHVlO3JldHVybiJmdW5jdGlvbigkZXZlbnQpeyIuY29uY2F0KG8pLmNvbmNhdCh1LCJ9Iil9cmV0dXJuIGV8fG4/dC52YWx1ZToiZnVuY3Rpb24oJGV2ZW50KXsiLmNvbmNhdChyPyJyZXR1cm4gIi5jb25jYXQodC52YWx1ZSk6dC52YWx1ZSwifSIpfWZ1bmN0aW9uIHpzKHQpe3ZhciBlPXBhcnNlSW50KHQsMTApO2lmKGUpcmV0dXJuIiRldmVudC5rZXlDb2RlIT09Ii5jb25jYXQoZSk7dmFyIG49THNbdF0scj1Sc1t0XTtyZXR1cm4iX2soJGV2ZW50LmtleUNvZGUsIisiIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCksIiwiKSsiIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkobiksIiwiKSsiJGV2ZW50LmtleSwiKyIiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyKSkrIikifXZhciBWcz17b246ZnVuY3Rpb24odCxlKXt0LndyYXBMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIl9nKCIuY29uY2F0KHQsIiwiKS5jb25jYXQoZS52YWx1ZSwiKSIpfX0sYmluZDpmdW5jdGlvbih0LGUpe3Qud3JhcERhdGE9ZnVuY3Rpb24obil7cmV0dXJuIl9iKCIuY29uY2F0KG4sIiwnIikuY29uY2F0KHQudGFnLCInLCIpLmNvbmNhdChlLnZhbHVlLCIsIikuY29uY2F0KGUubW9kaWZpZXJzJiZlLm1vZGlmaWVycy5wcm9wPyJ0cnVlIjoiZmFsc2UiKS5jb25jYXQoZS5tb2RpZmllcnMmJmUubW9kaWZpZXJzLnN5bmM/Iix0cnVlIjoiIiwiKSIpfX0sY2xvYWs6an0sS3M9ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXQsdGhpcy53YXJuPXQud2Fybnx8Tm8sdGhpcy50cmFuc2Zvcm1zPVBvKHQubW9kdWxlcywidHJhbnNmb3JtQ29kZSIpLHRoaXMuZGF0YUdlbkZucz1Qbyh0Lm1vZHVsZXMsImdlbkRhdGEiKSx0aGlzLmRpcmVjdGl2ZXM9VChUKHt9LFZzKSx0LmRpcmVjdGl2ZXMpO3ZhciBlPXQuaXNSZXNlcnZlZFRhZ3x8RTt0aGlzLm1heWJlQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3JldHVybiEhdC5jb21wb25lbnR8fCFlKHQudGFnKX0sdGhpcy5vbmNlSWQ9MCx0aGlzLnN0YXRpY1JlbmRlckZucz1bXSx0aGlzLnByZT0hMX07ZnVuY3Rpb24gSnModCxlKXt2YXIgbj1uZXcgS3MoZSkscj10PyJzY3JpcHQiPT09dC50YWc/Im51bGwiOnFzKHQsbik6J19jKCJkaXYiKSc7cmV0dXJue3JlbmRlcjoid2l0aCh0aGlzKXtyZXR1cm4gIi5jb25jYXQociwifSIpLHN0YXRpY1JlbmRlckZuczpuLnN0YXRpY1JlbmRlckZuc319ZnVuY3Rpb24gcXModCxlKXtpZih0LnBhcmVudCYmKHQucHJlPXQucHJlfHx0LnBhcmVudC5wcmUpLHQuc3RhdGljUm9vdCYmIXQuc3RhdGljUHJvY2Vzc2VkKXJldHVybiBXcyh0LGUpO2lmKHQub25jZSYmIXQub25jZVByb2Nlc3NlZClyZXR1cm4gWnModCxlKTtpZih0LmZvciYmIXQuZm9yUHJvY2Vzc2VkKXJldHVybiBZcyh0LGUpO2lmKHQuaWYmJiF0LmlmUHJvY2Vzc2VkKXJldHVybiBHcyh0LGUpO2lmKCJ0ZW1wbGF0ZSIhPT10LnRhZ3x8dC5zbG90VGFyZ2V0fHxlLnByZSl7aWYoInNsb3QiPT09dC50YWcpcmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG49dC5zbG90TmFtZXx8JyJkZWZhdWx0Iicscj1uYyh0LGUpLG89Il90KCIuY29uY2F0KG4pLmNvbmNhdChyPyIsZnVuY3Rpb24oKXtyZXR1cm4gIi5jb25jYXQociwifSIpOiIiKSxpPXQuYXR0cnN8fHQuZHluYW1pY0F0dHJzP2ljKCh0LmF0dHJzfHxbXSkuY29uY2F0KHQuZHluYW1pY0F0dHJzfHxbXSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57bmFtZTp3KHQubmFtZSksdmFsdWU6dC52YWx1ZSxkeW5hbWljOnQuZHluYW1pY319KSkpOm51bGwsYT10LmF0dHJzTWFwWyJ2LWJpbmQiXTshaSYmIWF8fHJ8fChvKz0iLG51bGwiKTtpJiYobys9IiwiLmNvbmNhdChpKSk7YSYmKG8rPSIiLmNvbmNhdChpPyIiOiIsbnVsbCIsIiwiKS5jb25jYXQoYSkpO3JldHVybiBvKyIpIn0odCxlKTt2YXIgbj12b2lkIDA7aWYodC5jb21wb25lbnQpbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS5pbmxpbmVUZW1wbGF0ZT9udWxsOm5jKGUsbiwhMCk7cmV0dXJuIl9jKCIuY29uY2F0KHQsIiwiKS5jb25jYXQoUXMoZSxuKSkuY29uY2F0KHI/IiwiLmNvbmNhdChyKToiIiwiKSIpfSh0LmNvbXBvbmVudCx0LGUpO2Vsc2V7dmFyIHI9dm9pZCAwLG89ZS5tYXliZUNvbXBvbmVudCh0KTsoIXQucGxhaW58fHQucHJlJiZvKSYmKHI9UXModCxlKSk7dmFyIGk9dm9pZCAwLGE9ZS5vcHRpb25zLmJpbmRpbmdzO28mJmEmJiExIT09YS5fX2lzU2NyaXB0U2V0dXAmJihpPWZ1bmN0aW9uKHQsZSl7dmFyIG49dyhlKSxyPXgobiksbz1mdW5jdGlvbihvKXtyZXR1cm4gdFtlXT09PW8/ZTp0W25dPT09bz9uOnRbcl09PT1vP3I6dm9pZCAwfSxpPW8oInNldHVwLWNvbnN0Iil8fG8oInNldHVwLXJlYWN0aXZlLWNvbnN0Iik7aWYoaSlyZXR1cm4gaTt2YXIgYT1vKCJzZXR1cC1sZXQiKXx8bygic2V0dXAtcmVmIil8fG8oInNldHVwLW1heWJlLXJlZiIpO2lmKGEpcmV0dXJuIGF9KGEsdC50YWcpKSxpfHwoaT0iJyIuY29uY2F0KHQudGFnLCInIikpO3ZhciBzPXQuaW5saW5lVGVtcGxhdGU/bnVsbDpuYyh0LGUsITApO249Il9jKCIuY29uY2F0KGkpLmNvbmNhdChyPyIsIi5jb25jYXQocik6IiIpLmNvbmNhdChzPyIsIi5jb25jYXQocyk6IiIsIikiKX1mb3IodmFyIGM9MDtjPGUudHJhbnNmb3Jtcy5sZW5ndGg7YysrKW49ZS50cmFuc2Zvcm1zW2NdKHQsbik7cmV0dXJuIG59cmV0dXJuIG5jKHQsZSl8fCJ2b2lkIDAifWZ1bmN0aW9uIFdzKHQsZSl7dC5zdGF0aWNQcm9jZXNzZWQ9ITA7dmFyIG49ZS5wcmU7cmV0dXJuIHQucHJlJiYoZS5wcmU9dC5wcmUpLGUuc3RhdGljUmVuZGVyRm5zLnB1c2goIndpdGgodGhpcyl7cmV0dXJuICIuY29uY2F0KHFzKHQsZSksIn0iKSksZS5wcmU9biwiX20oIi5jb25jYXQoZS5zdGF0aWNSZW5kZXJGbnMubGVuZ3RoLTEpLmNvbmNhdCh0LnN0YXRpY0luRm9yPyIsdHJ1ZSI6IiIsIikiKX1mdW5jdGlvbiBacyh0LGUpe2lmKHQub25jZVByb2Nlc3NlZD0hMCx0LmlmJiYhdC5pZlByb2Nlc3NlZClyZXR1cm4gR3ModCxlKTtpZih0LnN0YXRpY0luRm9yKXtmb3IodmFyIG49IiIscj10LnBhcmVudDtyOyl7aWYoci5mb3Ipe249ci5rZXk7YnJlYWt9cj1yLnBhcmVudH1yZXR1cm4gbj8iX28oIi5jb25jYXQocXModCxlKSwiLCIpLmNvbmNhdChlLm9uY2VJZCsrLCIsIikuY29uY2F0KG4sIikiKTpxcyh0LGUpfXJldHVybiBXcyh0LGUpfWZ1bmN0aW9uIEdzKHQsZSxuLHIpe3JldHVybiB0LmlmUHJvY2Vzc2VkPSEwLFhzKHQuaWZDb25kaXRpb25zLnNsaWNlKCksZSxuLHIpfWZ1bmN0aW9uIFhzKHQsZSxuLHIpe2lmKCF0Lmxlbmd0aClyZXR1cm4gcnx8Il9lKCkiO3ZhciBvPXQuc2hpZnQoKTtyZXR1cm4gby5leHA/IigiLmNvbmNhdChvLmV4cCwiKT8iKS5jb25jYXQoaShvLmJsb2NrKSwiOiIpLmNvbmNhdChYcyh0LGUsbixyKSk6IiIuY29uY2F0KGkoby5ibG9jaykpO2Z1bmN0aW9uIGkodCl7cmV0dXJuIG4/bih0LGUpOnQub25jZT9acyh0LGUpOnFzKHQsZSl9fWZ1bmN0aW9uIFlzKHQsZSxuLHIpe3ZhciBvPXQuZm9yLGk9dC5hbGlhcyxhPXQuaXRlcmF0b3IxPyIsIi5jb25jYXQodC5pdGVyYXRvcjEpOiIiLHM9dC5pdGVyYXRvcjI/IiwiLmNvbmNhdCh0Lml0ZXJhdG9yMik6IiI7cmV0dXJuIHQuZm9yUHJvY2Vzc2VkPSEwLCIiLmNvbmNhdChyfHwiX2wiLCIoKCIpLmNvbmNhdChvLCIpLCIpKyJmdW5jdGlvbigiLmNvbmNhdChpKS5jb25jYXQoYSkuY29uY2F0KHMsIil7IikrInJldHVybiAiLmNvbmNhdCgobnx8cXMpKHQsZSkpKyJ9KSJ9ZnVuY3Rpb24gUXModCxlKXt2YXIgbj0ieyIscj1mdW5jdGlvbih0LGUpe3ZhciBuPXQuZGlyZWN0aXZlcztpZighbilyZXR1cm47dmFyIHIsbyxpLGEscz0iZGlyZWN0aXZlczpbIixjPSExO2ZvcihyPTAsbz1uLmxlbmd0aDtyPG87cisrKXtpPW5bcl0sYT0hMDt2YXIgdT1lLmRpcmVjdGl2ZXNbaS5uYW1lXTt1JiYoYT0hIXUodCxpLGUud2FybikpLGEmJihjPSEwLHMrPSd7bmFtZToiJy5jb25jYXQoaS5uYW1lLCciLHJhd05hbWU6IicpLmNvbmNhdChpLnJhd05hbWUsJyInKS5jb25jYXQoaS52YWx1ZT8iLHZhbHVlOigiLmNvbmNhdChpLnZhbHVlLCIpLGV4cHJlc3Npb246IikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkudmFsdWUpKToiIikuY29uY2F0KGkuYXJnPyIsYXJnOiIuY29uY2F0KGkuaXNEeW5hbWljQXJnP2kuYXJnOiciJy5jb25jYXQoaS5hcmcsJyInKSk6IiIpLmNvbmNhdChpLm1vZGlmaWVycz8iLG1vZGlmaWVyczoiLmNvbmNhdChKU09OLnN0cmluZ2lmeShpLm1vZGlmaWVycykpOiIiLCJ9LCIpKX1pZihjKXJldHVybiBzLnNsaWNlKDAsLTEpKyJdIn0odCxlKTtyJiYobis9cisiLCIpLHQua2V5JiYobis9ImtleToiLmNvbmNhdCh0LmtleSwiLCIpKSx0LnJlZiYmKG4rPSJyZWY6Ii5jb25jYXQodC5yZWYsIiwiKSksdC5yZWZJbkZvciYmKG4rPSJyZWZJbkZvcjp0cnVlLCIpLHQucHJlJiYobis9InByZTp0cnVlLCIpLHQuY29tcG9uZW50JiYobis9J3RhZzoiJy5jb25jYXQodC50YWcsJyIsJykpO2Zvcih2YXIgbz0wO288ZS5kYXRhR2VuRm5zLmxlbmd0aDtvKyspbis9ZS5kYXRhR2VuRm5zW29dKHQpO2lmKHQuYXR0cnMmJihuKz0iYXR0cnM6Ii5jb25jYXQoaWModC5hdHRycyksIiwiKSksdC5wcm9wcyYmKG4rPSJkb21Qcm9wczoiLmNvbmNhdChpYyh0LnByb3BzKSwiLCIpKSx0LmV2ZW50cyYmKG4rPSIiLmNvbmNhdChCcyh0LmV2ZW50cywhMSksIiwiKSksdC5uYXRpdmVFdmVudHMmJihuKz0iIi5jb25jYXQoQnModC5uYXRpdmVFdmVudHMsITApLCIsIikpLHQuc2xvdFRhcmdldCYmIXQuc2xvdFNjb3BlJiYobis9InNsb3Q6Ii5jb25jYXQodC5zbG90VGFyZ2V0LCIsIikpLHQuc2NvcGVkU2xvdHMmJihuKz0iIi5jb25jYXQoZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuZm9yfHxPYmplY3Qua2V5cyhlKS5zb21lKChmdW5jdGlvbih0KXt2YXIgbj1lW3RdO3JldHVybiBuLnNsb3RUYXJnZXREeW5hbWljfHxuLmlmfHxuLmZvcnx8dGMobil9KSksbz0hIXQuaWY7aWYoIXIpZm9yKHZhciBpPXQucGFyZW50O2k7KXtpZihpLnNsb3RTY29wZSYmaS5zbG90U2NvcGUhPT1wc3x8aS5mb3Ipe3I9ITA7YnJlYWt9aS5pZiYmKG89ITApLGk9aS5wYXJlbnR9dmFyIGE9T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZWMoZVt0XSxuKX0pKS5qb2luKCIsIik7cmV0dXJuInNjb3BlZFNsb3RzOl91KFsiLmNvbmNhdChhLCJdIikuY29uY2F0KHI/IixudWxsLHRydWUiOiIiKS5jb25jYXQoIXImJm8/IixudWxsLGZhbHNlLCIuY29uY2F0KGZ1bmN0aW9uKHQpe3ZhciBlPTUzODEsbj10Lmxlbmd0aDtmb3IoO247KWU9MzMqZV50LmNoYXJDb2RlQXQoLS1uKTtyZXR1cm4gZT4+PjB9KGEpKToiIiwiKSIpfSh0LHQuc2NvcGVkU2xvdHMsZSksIiwiKSksdC5tb2RlbCYmKG4rPSJtb2RlbDp7dmFsdWU6Ii5jb25jYXQodC5tb2RlbC52YWx1ZSwiLGNhbGxiYWNrOiIpLmNvbmNhdCh0Lm1vZGVsLmNhbGxiYWNrLCIsZXhwcmVzc2lvbjoiKS5jb25jYXQodC5tb2RlbC5leHByZXNzaW9uLCJ9LCIpKSx0LmlubGluZVRlbXBsYXRlKXt2YXIgaT1mdW5jdGlvbih0LGUpe3ZhciBuPXQuY2hpbGRyZW5bMF07aWYobiYmMT09PW4udHlwZSl7dmFyIHI9SnMobixlLm9wdGlvbnMpO3JldHVybiJpbmxpbmVUZW1wbGF0ZTp7cmVuZGVyOmZ1bmN0aW9uKCl7Ii5jb25jYXQoci5yZW5kZXIsIn0sc3RhdGljUmVuZGVyRm5zOlsiKS5jb25jYXQoci5zdGF0aWNSZW5kZXJGbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4iZnVuY3Rpb24oKXsiLmNvbmNhdCh0LCJ9Iil9KSkuam9pbigiLCIpLCJdfSIpfX0odCxlKTtpJiYobis9IiIuY29uY2F0KGksIiwiKSl9cmV0dXJuIG49bi5yZXBsYWNlKC8sJC8sIiIpKyJ9Iix0LmR5bmFtaWNBdHRycyYmKG49Il9iKCIuY29uY2F0KG4sJywiJykuY29uY2F0KHQudGFnLCciLCcpLmNvbmNhdChpYyh0LmR5bmFtaWNBdHRycyksIikiKSksdC53cmFwRGF0YSYmKG49dC53cmFwRGF0YShuKSksdC53cmFwTGlzdGVuZXJzJiYobj10LndyYXBMaXN0ZW5lcnMobikpLG59ZnVuY3Rpb24gdGModCl7cmV0dXJuIDE9PT10LnR5cGUmJigic2xvdCI9PT10LnRhZ3x8dC5jaGlsZHJlbi5zb21lKHRjKSl9ZnVuY3Rpb24gZWModCxlKXt2YXIgbj10LmF0dHJzTWFwWyJzbG90LXNjb3BlIl07aWYodC5pZiYmIXQuaWZQcm9jZXNzZWQmJiFuKXJldHVybiBHcyh0LGUsZWMsIm51bGwiKTtpZih0LmZvciYmIXQuZm9yUHJvY2Vzc2VkKXJldHVybiBZcyh0LGUsZWMpO3ZhciByPXQuc2xvdFNjb3BlPT09cHM/IiI6U3RyaW5nKHQuc2xvdFNjb3BlKSxvPSJmdW5jdGlvbigiLmNvbmNhdChyLCIpeyIpKyJyZXR1cm4gIi5jb25jYXQoInRlbXBsYXRlIj09PXQudGFnP3QuaWYmJm4/IigiLmNvbmNhdCh0LmlmLCIpPyIpLmNvbmNhdChuYyh0LGUpfHwidW5kZWZpbmVkIiwiOnVuZGVmaW5lZCIpOm5jKHQsZSl8fCJ1bmRlZmluZWQiOnFzKHQsZSksIn0iKSxpPXI/IiI6Iixwcm94eTp0cnVlIjtyZXR1cm4ie2tleToiLmNvbmNhdCh0LnNsb3RUYXJnZXR8fCciZGVmYXVsdCInLCIsZm46IikuY29uY2F0KG8pLmNvbmNhdChpLCJ9Iil9ZnVuY3Rpb24gbmModCxlLG4scixvKXt2YXIgaT10LmNoaWxkcmVuO2lmKGkubGVuZ3RoKXt2YXIgYT1pWzBdO2lmKDE9PT1pLmxlbmd0aCYmYS5mb3ImJiJ0ZW1wbGF0ZSIhPT1hLnRhZyYmInNsb3QiIT09YS50YWcpe3ZhciBzPW4/ZS5tYXliZUNvbXBvbmVudChhKT8iLDEiOiIsMCI6IiI7cmV0dXJuIiIuY29uY2F0KChyfHxxcykoYSxlKSkuY29uY2F0KHMpfXZhciBjPW4/ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49MCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl07aWYoMT09PW8udHlwZSl7aWYocmMobyl8fG8uaWZDb25kaXRpb25zJiZvLmlmQ29uZGl0aW9ucy5zb21lKChmdW5jdGlvbih0KXtyZXR1cm4gcmModC5ibG9jayl9KSkpe249MjticmVha30oZShvKXx8by5pZkNvbmRpdGlvbnMmJm8uaWZDb25kaXRpb25zLnNvbWUoKGZ1bmN0aW9uKHQpe3JldHVybiBlKHQuYmxvY2spfSkpKSYmKG49MSl9fXJldHVybiBufShpLGUubWF5YmVDb21wb25lbnQpOjAsdT1vfHxvYztyZXR1cm4iWyIuY29uY2F0KGkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdSh0LGUpfSkpLmpvaW4oIiwiKSwiXSIpLmNvbmNhdChjPyIsIi5jb25jYXQoYyk6IiIpfX1mdW5jdGlvbiByYyh0KXtyZXR1cm4gdm9pZCAwIT09dC5mb3J8fCJ0ZW1wbGF0ZSI9PT10LnRhZ3x8InNsb3QiPT09dC50YWd9ZnVuY3Rpb24gb2ModCxlKXtyZXR1cm4gMT09PXQudHlwZT9xcyh0LGUpOjM9PT10LnR5cGUmJnQuaXNDb21tZW50P2Z1bmN0aW9uKHQpe3JldHVybiJfZSgiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0LnRleHQpLCIpIil9KHQpOmZ1bmN0aW9uKHQpe3JldHVybiJfdigiLmNvbmNhdCgyPT09dC50eXBlP3QuZXhwcmVzc2lvbjphYyhKU09OLnN0cmluZ2lmeSh0LnRleHQpKSwiKSIpfSh0KX1mdW5jdGlvbiBpYyh0KXtmb3IodmFyIGU9IiIsbj0iIixyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPXRbcl0saT1hYyhvLnZhbHVlKTtvLmR5bmFtaWM/bis9IiIuY29uY2F0KG8ubmFtZSwiLCIpLmNvbmNhdChpLCIsIik6ZSs9JyInLmNvbmNhdChvLm5hbWUsJyI6JykuY29uY2F0KGksIiwiKX1yZXR1cm4gZT0ieyIuY29uY2F0KGUuc2xpY2UoMCwtMSksIn0iKSxuPyJfZCgiLmNvbmNhdChlLCIsWyIpLmNvbmNhdChuLnNsaWNlKDAsLTEpLCJdKSIpOmV9ZnVuY3Rpb24gYWModCl7cmV0dXJuIHQucmVwbGFjZSgvXHUyMDI4L2csIlxcdTIwMjgiKS5yZXBsYWNlKC9cdTIwMjkvZywiXFx1MjAyOSIpfWZ1bmN0aW9uIHNjKHQsZSl7dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24odCl9Y2F0Y2gobil7cmV0dXJuIGUucHVzaCh7ZXJyOm4sY29kZTp0fSksan19ZnVuY3Rpb24gY2ModCl7dmFyIGU9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZnVuY3Rpb24obixyLG8peyhyPVQoe30scikpLndhcm4sZGVsZXRlIHIud2Fybjt2YXIgaT1yLmRlbGltaXRlcnM/U3RyaW5nKHIuZGVsaW1pdGVycykrbjpuO2lmKGVbaV0pcmV0dXJuIGVbaV07dmFyIGE9dChuLHIpLHM9e30sYz1bXTtyZXR1cm4gcy5yZW5kZXI9c2MoYS5yZW5kZXIsYykscy5zdGF0aWNSZW5kZXJGbnM9YS5zdGF0aWNSZW5kZXJGbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gc2ModCxjKX0pKSxlW2ldPXN9fW5ldyBSZWdFeHAoIlxcYiIrImRvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3Qsc3VwZXIsdGhyb3csd2hpbGUseWllbGQsZGVsZXRlLGV4cG9ydCxpbXBvcnQscmV0dXJuLHN3aXRjaCxkZWZhdWx0LGV4dGVuZHMsZmluYWxseSxjb250aW51ZSxkZWJ1Z2dlcixmdW5jdGlvbixhcmd1bWVudHMiLnNwbGl0KCIsIikuam9pbigiXFxifFxcYiIpKyJcXGIiKSxuZXcgUmVnRXhwKCJcXGIiKyJkZWxldGUsdHlwZW9mLHZvaWQiLnNwbGl0KCIsIikuam9pbigiXFxzKlxcKFteXFwpXSpcXCl8XFxiIikrIlxccypcXChbXlxcKV0qXFwpIik7dmFyIHVjLGxjLGZjPSh1Yz1mdW5jdGlvbih0LGUpe3ZhciBuPWhzKHQudHJpbSgpLGUpOyExIT09ZS5vcHRpbWl6ZSYmRXMobixlKTt2YXIgcj1KcyhuLGUpO3JldHVybnthc3Q6bixyZW5kZXI6ci5yZW5kZXIsc3RhdGljUmVuZGVyRm5zOnIuc3RhdGljUmVuZGVyRm5zfX0sZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLG4pe3ZhciByPU9iamVjdC5jcmVhdGUodCksbz1bXSxpPVtdO2lmKG4pZm9yKHZhciBhIGluIG4ubW9kdWxlcyYmKHIubW9kdWxlcz0odC5tb2R1bGVzfHxbXSkuY29uY2F0KG4ubW9kdWxlcykpLG4uZGlyZWN0aXZlcyYmKHIuZGlyZWN0aXZlcz1UKE9iamVjdC5jcmVhdGUodC5kaXJlY3RpdmVzfHxudWxsKSxuLmRpcmVjdGl2ZXMpKSxuKSJtb2R1bGVzIiE9PWEmJiJkaXJlY3RpdmVzIiE9PWEmJihyW2FdPW5bYV0pO3Iud2Fybj1mdW5jdGlvbih0LGUsbil7KG4/aTpvKS5wdXNoKHQpfTt2YXIgcz11YyhlLnRyaW0oKSxyKTtyZXR1cm4gcy5lcnJvcnM9byxzLnRpcHM9aSxzfXJldHVybntjb21waWxlOmUsY29tcGlsZVRvRnVuY3Rpb25zOmNjKGUpfX0pLGRjPWZjKEFzKS5jb21waWxlVG9GdW5jdGlvbnM7ZnVuY3Rpb24gcGModCl7cmV0dXJuKGxjPWxjfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuaW5uZXJIVE1MPXQ/JzxhIGhyZWY9IlxuIi8+JzonPGRpdiBhPSJcbiIvPicsbGMuaW5uZXJIVE1MLmluZGV4T2YoIiYjMTA7Iik+MH12YXIgdmM9ISFKJiZwYyghMSksaGM9ISFKJiZwYyghMCksbWM9YigoZnVuY3Rpb24odCl7dmFyIGU9dG8odCk7cmV0dXJuIGUmJmUuaW5uZXJIVE1MfSkpLGdjPUNyLnByb3RvdHlwZS4kbW91bnQ7cmV0dXJuIENyLnByb3RvdHlwZS4kbW91bnQ9ZnVuY3Rpb24odCxlKXtpZigodD10JiZ0byh0KSk9PT1kb2N1bWVudC5ib2R5fHx0PT09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXJldHVybiB0aGlzO3ZhciBuPXRoaXMuJG9wdGlvbnM7aWYoIW4ucmVuZGVyKXt2YXIgcj1uLnRlbXBsYXRlO2lmKHIpaWYoInN0cmluZyI9PXR5cGVvZiByKSIjIj09PXIuY2hhckF0KDApJiYocj1tYyhyKSk7ZWxzZXtpZighci5ub2RlVHlwZSlyZXR1cm4gdGhpcztyPXIuaW5uZXJIVE1MfWVsc2UgdCYmKHI9ZnVuY3Rpb24odCl7aWYodC5vdXRlckhUTUwpcmV0dXJuIHQub3V0ZXJIVE1MO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmFwcGVuZENoaWxkKHQuY2xvbmVOb2RlKCEwKSksZS5pbm5lckhUTUx9KHQpKTtpZihyKXt2YXIgbz1kYyhyLHtvdXRwdXRTb3VyY2VSYW5nZTohMSxzaG91bGREZWNvZGVOZXdsaW5lczp2YyxzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6aGMsZGVsaW1pdGVyczpuLmRlbGltaXRlcnMsY29tbWVudHM6bi5jb21tZW50c30sdGhpcyksaT1vLnJlbmRlcixhPW8uc3RhdGljUmVuZGVyRm5zO24ucmVuZGVyPWksbi5zdGF0aWNSZW5kZXJGbnM9YX19cmV0dXJuIGdjLmNhbGwodGhpcyx0LGUpfSxDci5jb21waWxlPWRjLFQoQ3IsRm4pLENyLmVmZmVjdD1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBWbihjdCx0LGose3N5bmM6ITB9KTtlJiYobi51cGRhdGU9ZnVuY3Rpb24oKXtlKChmdW5jdGlvbigpe3JldHVybiBuLnJ1bigpfSkpfSl9LENyfSkpOw=="></script>
 <script crossorigin="anonymous" src="data:application/javascript;base64,KGZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZSgidnVlIikpOiJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSx0KToib2JqZWN0Ij09PXR5cGVvZiBleHBvcnRzP2V4cG9ydHNbInZ1ZUNvbXBhcmVJbWFnZSJdPXQocmVxdWlyZSgidnVlIikpOmVbInZ1ZUNvbXBhcmVJbWFnZSJdPXQoZVsiVnVlIl0pfSkoInVuZGVmaW5lZCIhPT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKGkpe2lmKHRbaV0pcmV0dXJuIHRbaV0uZXhwb3J0czt2YXIgcj10W2ldPXtpOmksbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtpXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxuKSxyLmw9ITAsci5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LGkpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDppfSl9LG4ucj1mdW5jdGlvbihlKXsidW5kZWZpbmVkIiE9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sbi50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1uKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIGk9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIoaSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImRlZmF1bHQiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnQmJiJzdHJpbmciIT10eXBlb2YgZSlmb3IodmFyIHIgaW4gZSluLmQoaSxyLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGVbImRlZmF1bHQiXX06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIG4uZCh0LCJhIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD0iIixuKG4ucz0iZmIxNSIpfSh7IjA2Y2YiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCI4M2FiIikscj1uKCJkMWU3Iiksbz1uKCI1YzZjIiksYT1uKCJmYzZhIikscz1uKCJjMDRlIiksYz1uKCI1MTM1IiksdT1uKCIwY2ZiIiksZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1pP2Q6ZnVuY3Rpb24oZSx0KXtpZihlPWEoZSksdD1zKHQsITApLHUpdHJ5e3JldHVybiBkKGUsdCl9Y2F0Y2gobil7fWlmKGMoZSx0KSlyZXR1cm4gbyghci5mLmNhbGwoZSx0KSxlW3RdKX19LCIwY2ZiIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiODNhYiIpLHI9bigiZDAzOSIpLG89bigiY2MxMiIpO2UuZXhwb3J0cz0haSYmIXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KSl9LCIxYmU0IjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiZDA2NiIpO2UuZXhwb3J0cz1pKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwiMWQ4MCI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIitlKTtyZXR1cm4gZX19LCIyMTNkIjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpPW4oIjNkZDQiKSxyPW4ubihpKTtyLmF9LCIyM2NiIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiYTY5MSIpLHI9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pKGUpO3JldHVybiBuPDA/cihuK3QsMCk6byhuLHQpfX0sIjI0MWMiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCJjYTg0Iikscj1uKCI3ODM5Iiksbz1yLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gaShlLG8pfX0sIjI0ZmIiOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShlLHQpe3ZhciBuPWVbMV18fCIiLGk9ZVszXTtpZighaSlyZXR1cm4gbjtpZih0JiYiZnVuY3Rpb24iPT09dHlwZW9mIGJ0b2Epe3ZhciBvPXIoaSksYT1pLnNvdXJjZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iLyojIHNvdXJjZVVSTD0iLmNvbmNhdChpLnNvdXJjZVJvb3QpLmNvbmNhdChlLCIgKi8iKX0pKTtyZXR1cm5bbl0uY29uY2F0KGEpLmNvbmNhdChbb10pLmpvaW4oIlxuIil9cmV0dXJuW25dLmpvaW4oIlxuIil9ZnVuY3Rpb24gcihlKXt2YXIgdD1idG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKSxuPSJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiLmNvbmNhdCh0KTtyZXR1cm4iLyojICIuY29uY2F0KG4sIiAqLyIpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49aSh0LGUpO3JldHVybiB0WzJdPyJAbWVkaWEgIi5jb25jYXQodFsyXSwieyIpLmNvbmNhdChuLCJ9Iik6bn0pKS5qb2luKCIiKX0sdC5pPWZ1bmN0aW9uKGUsbil7InN0cmluZyI9PT10eXBlb2YgZSYmKGU9W1tudWxsLGUsIiJdXSk7Zm9yKHZhciBpPXt9LHI9MDtyPHRoaXMubGVuZ3RoO3IrKyl7dmFyIG89dGhpc1tyXVswXTtudWxsIT1vJiYoaVtvXT0hMCl9Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPWVbYV07bnVsbCE9c1swXSYmaVtzWzBdXXx8KG4mJiFzWzJdP3NbMl09bjpuJiYoc1syXT0iKCIuY29uY2F0KHNbMl0sIikgYW5kICgiKS5jb25jYXQobiwiKSIpKSx0LnB1c2gocykpfX0sdH19LCIyYWQ2IjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHI7KGZ1bmN0aW9uKG8sYSl7aT1hLHI9ImZ1bmN0aW9uIj09PXR5cGVvZiBpP2kuY2FsbCh0LG4sdCxlKTppLHZvaWQgMD09PXJ8fChlLmV4cG9ydHM9cil9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdywoZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cpcmV0dXJuIG51bGw7dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCksdD1lLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ZS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGUud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbih0KXtyZXR1cm4gZS5zZXRUaW1lb3V0KHQsMjApfTtmdW5jdGlvbiBuKGUsdCl7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLGk9IltvYmplY3QgQXJyYXldIj09PW58fCJbb2JqZWN0IE5vZGVMaXN0XSI9PT1ufHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09bnx8IltvYmplY3QgT2JqZWN0XSI9PT1ufHwidW5kZWZpbmVkIiE9PXR5cGVvZiBqUXVlcnkmJmUgaW5zdGFuY2VvZiBqUXVlcnl8fCJ1bmRlZmluZWQiIT09dHlwZW9mIEVsZW1lbnRzJiZlIGluc3RhbmNlb2YgRWxlbWVudHMscj0wLG89ZS5sZW5ndGg7aWYoaSlmb3IoO3I8bztyKyspdChlW3JdKTtlbHNlIHQoZSl9ZnVuY3Rpb24gaShlKXtpZighZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpcmV0dXJue3dpZHRoOmUub2Zmc2V0V2lkdGgsaGVpZ2h0OmUub2Zmc2V0SGVpZ2h0fTt2YXIgdD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybnt3aWR0aDpNYXRoLnJvdW5kKHQud2lkdGgpLGhlaWdodDpNYXRoLnJvdW5kKHQuaGVpZ2h0KX19ZnVuY3Rpb24gcihlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Uuc3R5bGVbbl09dFtuXX0pKX12YXIgbz1mdW5jdGlvbihlLGEpe2Z1bmN0aW9uIHMoKXt2YXIgZSx0LG49W107dGhpcy5hZGQ9ZnVuY3Rpb24oZSl7bi5wdXNoKGUpfSx0aGlzLmNhbGw9ZnVuY3Rpb24oaSl7Zm9yKGU9MCx0PW4ubGVuZ3RoO2U8dDtlKyspbltlXS5jYWxsKHRoaXMsaSl9LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKGkpe3ZhciByPVtdO2ZvcihlPTAsdD1uLmxlbmd0aDtlPHQ7ZSsrKW5bZV0hPT1pJiZyLnB1c2gobltlXSk7bj1yfSx0aGlzLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBuLmxlbmd0aH19ZnVuY3Rpb24gYyhlLG4pe2lmKGUpaWYoZS5yZXNpemVkQXR0YWNoZWQpZS5yZXNpemVkQXR0YWNoZWQuYWRkKG4pO2Vsc2V7ZS5yZXNpemVkQXR0YWNoZWQ9bmV3IHMsZS5yZXNpemVkQXR0YWNoZWQuYWRkKG4pLGUucmVzaXplU2Vuc29yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUucmVzaXplU2Vuc29yLmRpcj0ibHRyIixlLnJlc2l6ZVNlbnNvci5jbGFzc05hbWU9InJlc2l6ZS1zZW5zb3IiO3ZhciBvPXtwb2ludGVyRXZlbnRzOiJub25lIixwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjBweCIsdG9wOiIwcHgiLHJpZ2h0OiIwcHgiLGJvdHRvbToiMHB4IixvdmVyZmxvdzoiaGlkZGVuIix6SW5kZXg6Ii0xIix2aXNpYmlsaXR5OiJoaWRkZW4iLG1heFdpZHRoOiIxMDAlIn0sYT17cG9zaXRpb246ImFic29sdXRlIixsZWZ0OiIwcHgiLHRvcDoiMHB4Iix0cmFuc2l0aW9uOiIwcyJ9O3IoZS5yZXNpemVTZW5zb3Isbyk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5jbGFzc05hbWU9InJlc2l6ZS1zZW5zb3ItZXhwYW5kIixyKGMsbyk7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cih1LGEpLGMuYXBwZW5kQ2hpbGQodSk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5jbGFzc05hbWU9InJlc2l6ZS1zZW5zb3Itc2hyaW5rIixyKGQsbyk7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cihsLGEpLHIobCx7d2lkdGg6IjIwMCUiLGhlaWdodDoiMjAwJSJ9KSxkLmFwcGVuZENoaWxkKGwpLGUucmVzaXplU2Vuc29yLmFwcGVuZENoaWxkKGMpLGUucmVzaXplU2Vuc29yLmFwcGVuZENoaWxkKGQpLGUuYXBwZW5kQ2hpbGQoZS5yZXNpemVTZW5zb3IpO3ZhciBmLGgscD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSxtPXA/cC5nZXRQcm9wZXJ0eVZhbHVlKCJwb3NpdGlvbiIpOm51bGw7ImFic29sdXRlIiE9PW0mJiJyZWxhdGl2ZSIhPT1tJiYiZml4ZWQiIT09bSYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIHY9aShlKSxnPTAseT0wLGI9ITAseD0wLHc9ZnVuY3Rpb24oKXt2YXIgdD1lLm9mZnNldFdpZHRoLG49ZS5vZmZzZXRIZWlnaHQ7dS5zdHlsZS53aWR0aD10KzEwKyJweCIsdS5zdHlsZS5oZWlnaHQ9bisxMCsicHgiLGMuc2Nyb2xsTGVmdD10KzEwLGMuc2Nyb2xsVG9wPW4rMTAsZC5zY3JvbGxMZWZ0PXQrMTAsZC5zY3JvbGxUb3A9bisxMH0sUz1mdW5jdGlvbigpe2lmKGIpe3ZhciBuPTA9PT1lLm9mZnNldFdpZHRoJiYwPT09ZS5vZmZzZXRIZWlnaHQ7aWYobilyZXR1cm4gdm9pZCh4fHwoeD10KChmdW5jdGlvbigpe3g9MCxTKCl9KSkpKTtiPSExfXcoKX07ZS5yZXNpemVTZW5zb3IucmVzZXRTZW5zb3I9Uzt2YXIgRT1mdW5jdGlvbigpe2g9MCxmJiYoZz12LndpZHRoLHk9di5oZWlnaHQsZS5yZXNpemVkQXR0YWNoZWQmJmUucmVzaXplZEF0dGFjaGVkLmNhbGwodikpfSxPPWZ1bmN0aW9uKCl7dj1pKGUpLGY9di53aWR0aCE9PWd8fHYuaGVpZ2h0IT09eSxmJiYhaCYmKGg9dChFKSksUygpfSxDPWZ1bmN0aW9uKGUsdCxuKXtlLmF0dGFjaEV2ZW50P2UuYXR0YWNoRXZlbnQoIm9uIit0LG4pOmUuYWRkRXZlbnRMaXN0ZW5lcih0LG4pfTtDKGMsInNjcm9sbCIsTyksQyhkLCJzY3JvbGwiLE8pLHQoUyl9fW4oZSwoZnVuY3Rpb24oZSl7YyhlLGEpfSkpLHRoaXMuZGV0YWNoPWZ1bmN0aW9uKHQpe28uZGV0YWNoKGUsdCl9LHRoaXMucmVzZXQ9ZnVuY3Rpb24oKXtlLnJlc2l6ZVNlbnNvci5yZXNldFNlbnNvcigpfX07aWYoby5yZXNldD1mdW5jdGlvbihlKXtuKGUsKGZ1bmN0aW9uKGUpe2UucmVzaXplU2Vuc29yLnJlc2V0U2Vuc29yKCl9KSl9LG8uZGV0YWNoPWZ1bmN0aW9uKGUsdCl7bihlLChmdW5jdGlvbihlKXtlJiYoZS5yZXNpemVkQXR0YWNoZWQmJiJmdW5jdGlvbiI9PT10eXBlb2YgdCYmKGUucmVzaXplZEF0dGFjaGVkLnJlbW92ZSh0KSxlLnJlc2l6ZWRBdHRhY2hlZC5sZW5ndGgoKSl8fGUucmVzaXplU2Vuc29yJiYoZS5jb250YWlucyhlLnJlc2l6ZVNlbnNvcikmJmUucmVtb3ZlQ2hpbGQoZS5yZXNpemVTZW5zb3IpLGRlbGV0ZSBlLnJlc2l6ZVNlbnNvcixkZWxldGUgZS5yZXNpemVkQXR0YWNoZWQpKX0pKX0sInVuZGVmaW5lZCIhPT10eXBlb2YgTXV0YXRpb25PYnNlcnZlcil7dmFyIGE9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpZm9yKHZhciBuPWVbdF0uYWRkZWROb2RlcyxpPTA7aTxuLmxlbmd0aDtpKyspbltpXS5yZXNpemVTZW5zb3ImJm8ucmVzZXQobltpXSl9KSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsKGZ1bmN0aW9uKGUpe2Eub2JzZXJ2ZShkb2N1bWVudC5ib2R5LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pfSkpfXJldHVybiBvfSkpfSwiMmU1NiI6ZnVuY3Rpb24oZSx0LG4pe3Q9ZS5leHBvcnRzPW4oIjI0ZmIiKSghMSksdC5wdXNoKFtlLmksJy52Y2ktY29udGFpbmVyW2RhdGEtdi0xZTVlZGEyMF17LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7b3ZlcmZsb3c6aGlkZGVufS5sZWZ0LWltYWdlW2RhdGEtdi0xZTVlZGEyMF17ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTstby1vYmplY3QtZml0OmNvdmVyO29iamVjdC1maXQ6Y292ZXI7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwJX0ubGVmdC1sYWJlbFtkYXRhLXYtMWU1ZWRhMjBde3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtwYWRkaW5nOjEwcHh9LnJpZ2h0LWltYWdlW2RhdGEtdi0xZTVlZGEyMF17ZGlzcGxheTpibG9jaztoZWlnaHQ6YXV0bzt3aWR0aDoxMDAlfS5yaWdodC1sYWJlbFtkYXRhLXYtMWU1ZWRhMjBde3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7cGFkZGluZzoxMHB4fS52Y2ktc2xpZGVyW2RhdGEtdi0xZTVlZGEyMF17LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7ZGlzcGxheTotd2Via2l0LWJveDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstd2Via2l0LWJveC1vcmllbnQ6dmVydGljYWw7LXdlYmtpdC1ib3gtZGlyZWN0aW9uOm5vcm1hbDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtoZWlnaHQ6MTAwJTstd2Via2l0LWJveC1wYWNrOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowfS52Y2ktc2xpZGVyIC5saW5lW2RhdGEtdi0xZTVlZGEyMF17YmFja2dyb3VuZDojZmZmOy13ZWJraXQtYm94LWZsZXg6MDstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvO2hlaWdodDoxMDAlfS52Y2ktc2xpZGVyIC5oYW5kbGVbZGF0YS12LTFlNWVkYTIwXSwudmNpLXNsaWRlciAubGluZVtkYXRhLXYtMWU1ZWRhMjBdey13ZWJraXQtYm94LXNoYWRvdzowIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLC4yKSwwIDJweCAycHggMCByZ2JhKDAsMCwwLC4xNCksMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwuMTIpO2JveC1zaGFkb3c6MCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwuMiksMCAycHggMnB4IDAgcmdiYSgwLDAsMCwuMTQpLDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsLjEyKX0udmNpLXNsaWRlciAuaGFuZGxlW2RhdGEtdi0xZTVlZGEyMF17LXdlYmtpdC1ib3gtYWxpZ246Y2VudGVyOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7Ym9yZGVyLXJhZGl1czoxMDAlOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5Oi13ZWJraXQtYm94O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy13ZWJraXQtYm94LWZsZXg6MTstbXMtZmxleDoxIDAgYXV0bztmbGV4OjEgMCBhdXRvOy13ZWJraXQtYm94LXBhY2s6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnZjaS1zbGlkZXIgLmxlZnQtYXJyb3dbZGF0YS12LTFlNWVkYTIwXSwudmNpLXNsaWRlciAucmlnaHQtYXJyb3dbZGF0YS12LTFlNWVkYTIwXXtoZWlnaHQ6IjBweCI7d2lkdGg6IjBweCJ9JywiIl0pfSwiMzdlOCI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjgzYWIiKSxyPW4oIjliZjIiKSxvPW4oIjgyNWEiKSxhPW4oImRmNzUiKTtlLmV4cG9ydHM9aT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe28oZSk7dmFyIG4saT1hKHQpLHM9aS5sZW5ndGgsYz0wO3doaWxlKHM+YylyLmYoZSxuPWlbYysrXSx0W25dKTtyZXR1cm4gZX19LCIzYmJlIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiODYxZCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighaShlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcoZSkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiBlfX0sIjNkZDQiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCIyZTU2Iik7InN0cmluZyI9PT10eXBlb2YgaSYmKGk9W1tlLmksaSwiIl1dKSxpLmxvY2FscyYmKGUuZXhwb3J0cz1pLmxvY2Fscyk7dmFyIHI9bigiNDk5ZSIpLmRlZmF1bHQ7cigiMjQwM2VkMWUiLGksITAse3NvdXJjZU1hcDohMSxzaGFkb3dNb2RlOiExfSl9LCI0MjhmIjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oImRhODQiKX0sIjQ0YWQiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCJkMDM5Iikscj1uKCJjNmI2Iiksbz0iIi5zcGxpdDtlLmV4cG9ydHM9aSgoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0KCJ6IikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PXIoZSk/by5jYWxsKGUsIiIpOk9iamVjdChlKX06T2JqZWN0fSwiNDk5ZSI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciBuPVtdLGk9e30scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbz10W3JdLGE9b1swXSxzPW9bMV0sYz1vWzJdLHU9b1szXSxkPXtpZDplKyI6IityLGNzczpzLG1lZGlhOmMsc291cmNlTWFwOnV9O2lbYV0/aVthXS5wYXJ0cy5wdXNoKGQpOm4ucHVzaChpW2FdPXtpZDphLHBhcnRzOltkXX0pfXJldHVybiBufW4ucih0KSxuLmQodCwiZGVmYXVsdCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9InVuZGVmaW5lZCIhPT10eXBlb2YgZG9jdW1lbnQ7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgREVCVUcmJkRFQlVHJiYhcil0aHJvdyBuZXcgRXJyb3IoInZ1ZS1zdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudC4gVXNlIHsgdGFyZ2V0OiAnbm9kZScgfSBpbiB5b3VyIFdlYnBhY2sgY29uZmlnIHRvIGluZGljYXRlIGEgc2VydmVyLXJlbmRlcmluZyBlbnZpcm9ubWVudC4iKTt2YXIgbz17fSxhPXImJihkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKSxzPW51bGwsYz0wLHU9ITEsZD1mdW5jdGlvbigpe30sbD1udWxsLGY9ImRhdGEtdnVlLXNzci1pZCIsaD0idW5kZWZpbmVkIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJi9tc2llIFs2LTldXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtmdW5jdGlvbiBwKGUsdCxuLHIpe3U9bixsPXJ8fHt9O3ZhciBhPWkoZSx0KTtyZXR1cm4gbShhKSxmdW5jdGlvbih0KXtmb3IodmFyIG49W10scj0wO3I8YS5sZW5ndGg7cisrKXt2YXIgcz1hW3JdLGM9b1tzLmlkXTtjLnJlZnMtLSxuLnB1c2goYyl9dD8oYT1pKGUsdCksbShhKSk6YT1bXTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXtjPW5bcl07aWYoMD09PWMucmVmcyl7Zm9yKHZhciB1PTA7dTxjLnBhcnRzLmxlbmd0aDt1KyspYy5wYXJ0c1t1XSgpO2RlbGV0ZSBvW2MuaWRdfX19fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF0saT1vW24uaWRdO2lmKGkpe2kucmVmcysrO2Zvcih2YXIgcj0wO3I8aS5wYXJ0cy5sZW5ndGg7cisrKWkucGFydHNbcl0obi5wYXJ0c1tyXSk7Zm9yKDtyPG4ucGFydHMubGVuZ3RoO3IrKylpLnBhcnRzLnB1c2goZyhuLnBhcnRzW3JdKSk7aS5wYXJ0cy5sZW5ndGg+bi5wYXJ0cy5sZW5ndGgmJihpLnBhcnRzLmxlbmd0aD1uLnBhcnRzLmxlbmd0aCl9ZWxzZXt2YXIgYT1bXTtmb3Iocj0wO3I8bi5wYXJ0cy5sZW5ndGg7cisrKWEucHVzaChnKG4ucGFydHNbcl0pKTtvW24uaWRdPXtpZDpuLmlkLHJlZnM6MSxwYXJ0czphfX19fWZ1bmN0aW9uIHYoKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3JldHVybiBlLnR5cGU9InRleHQvY3NzIixhLmFwcGVuZENoaWxkKGUpLGV9ZnVuY3Rpb24gZyhlKXt2YXIgdCxuLGk9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic3R5bGVbIitmKyd+PSInK2UuaWQrJyJdJyk7aWYoaSl7aWYodSlyZXR1cm4gZDtpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSl9aWYoaCl7dmFyIHI9YysrO2k9c3x8KHM9digpKSx0PWIuYmluZChudWxsLGksciwhMSksbj1iLmJpbmQobnVsbCxpLHIsITApfWVsc2UgaT12KCksdD14LmJpbmQobnVsbCxpKSxuPWZ1bmN0aW9uKCl7aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpfTtyZXR1cm4gdChlKSxmdW5jdGlvbihpKXtpZihpKXtpZihpLmNzcz09PWUuY3NzJiZpLm1lZGlhPT09ZS5tZWRpYSYmaS5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47dChlPWkpfWVsc2UgbigpfX12YXIgeT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBlW3RdPW4sZS5maWx0ZXIoQm9vbGVhbikuam9pbigiXG4iKX19KCk7ZnVuY3Rpb24gYihlLHQsbixpKXt2YXIgcj1uPyIiOmkuY3NzO2lmKGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD15KHQscik7ZWxzZXt2YXIgbz1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSxhPWUuY2hpbGROb2RlczthW3RdJiZlLnJlbW92ZUNoaWxkKGFbdF0pLGEubGVuZ3RoP2UuaW5zZXJ0QmVmb3JlKG8sYVt0XSk6ZS5hcHBlbmRDaGlsZChvKX19ZnVuY3Rpb24geChlLHQpe3ZhciBuPXQuY3NzLGk9dC5tZWRpYSxyPXQuc291cmNlTWFwO2lmKGkmJmUuc2V0QXR0cmlidXRlKCJtZWRpYSIsaSksbC5zc3JJZCYmZS5zZXRBdHRyaWJ1dGUoZix0LmlkKSxyJiYobis9IlxuLyojIHNvdXJjZVVSTD0iK3Iuc291cmNlc1swXSsiICovIixuKz0iXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrIiAqLyIpLGUuc3R5bGVTaGVldCllLnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7d2hpbGUoZS5maXJzdENoaWxkKWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19fSwiNGQ2NCI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oImZjNmEiKSxyPW4oIjUwYzQiKSxvPW4oIjIzY2IiKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIHMsYz1pKHQpLHU9cihjLmxlbmd0aCksZD1vKGEsdSk7aWYoZSYmbiE9bil7d2hpbGUodT5kKWlmKHM9Y1tkKytdLHMhPXMpcmV0dXJuITB9ZWxzZSBmb3IoO3U+ZDtkKyspaWYoKGV8fGQgaW4gYykmJmNbZF09PT1uKXJldHVybiBlfHxkfHwwO3JldHVybiFlJiYtMX19O2UuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LCI1MGM0IjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiYTY5MSIpLHI9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/cihpKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSw1MTM1OmZ1bmN0aW9uKGUsdCl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0sNTY5MjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiYzQzMCIpLHI9bigiYzZjZCIpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcltlXXx8KHJbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMy4yIixtb2RlOmk/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sNTg5OTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0iXHRcblx2XGZcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFx1MjAyOFx1MjAyOVx1ZmVmZiJ9LCI1OGE4IjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiMWQ4MCIpLHI9bigiNTg5OSIpLG89IlsiK3IrIl0iLGE9UmVnRXhwKCJeIitvK28rIioiKSxzPVJlZ0V4cChvK28rIiokIiksYz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49U3RyaW5nKGkodCkpO3JldHVybiAxJmUmJihuPW4ucmVwbGFjZShhLCIiKSksMiZlJiYobj1uLnJlcGxhY2UocywiIikpLG59fTtlLmV4cG9ydHM9e3N0YXJ0OmMoMSksZW5kOmMoMiksdHJpbTpjKDMpfX0sIjVjNmMiOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sIjY5ZjMiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8sYT1uKCI3ZjlhIikscz1uKCJkYTg0IiksYz1uKCI4NjFkIiksdT1uKCI5MTEyIiksZD1uKCI1MTM1IiksbD1uKCJmNzcyIiksZj1uKCJkMDEyIiksaD1zLldlYWtNYXAscD1mdW5jdGlvbihlKXtyZXR1cm4gbyhlKT9yKGUpOmkoZSx7fSl9LG09ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO2lmKCFjKHQpfHwobj1yKHQpKS50eXBlIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIitlKyIgcmVxdWlyZWQiKTtyZXR1cm4gbn19O2lmKGEpe3ZhciB2PW5ldyBoLGc9di5nZXQseT12LmhhcyxiPXYuc2V0O2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYi5jYWxsKHYsZSx0KSx0fSxyPWZ1bmN0aW9uKGUpe3JldHVybiBnLmNhbGwodixlKXx8e319LG89ZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2FsbCh2LGUpfX1lbHNle3ZhciB4PWwoInN0YXRlIik7Zlt4XT0hMCxpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUoZSx4LHQpLHR9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSx4KT9lW3hdOnt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUseCl9fWUuZXhwb3J0cz17c2V0OmksZ2V0OnIsaGFzOm8sZW5mb3JjZTpwLGdldHRlckZvcjptfX0sIjZlZWIiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCJkYTg0Iikscj1uKCI1NjkyIiksbz1uKCI5MTEyIiksYT1uKCI1MTM1Iikscz1uKCJjZTRlIiksYz1uKCI5ZTgxIiksdT1uKCI2OWYzIiksZD11LmdldCxsPXUuZW5mb3JjZSxmPVN0cmluZyhjKS5zcGxpdCgidG9TdHJpbmciKTtyKCJpbnNwZWN0U291cmNlIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGMuY2FsbChlKX0pKSwoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBjPSEhciYmISFyLnVuc2FmZSx1PSEhciYmISFyLmVudW1lcmFibGUsZD0hIXImJiEhci5ub1RhcmdldEdldDsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKCJzdHJpbmciIT10eXBlb2YgdHx8YShuLCJuYW1lIil8fG8obiwibmFtZSIsdCksbChuKS5zb3VyY2U9Zi5qb2luKCJzdHJpbmciPT10eXBlb2YgdD90OiIiKSksZSE9PWk/KGM/IWQmJmVbdF0mJih1PSEwKTpkZWxldGUgZVt0XSx1P2VbdF09bjpvKGUsdCxuKSk6dT9lW3RdPW46cyh0LG4pfSkoRnVuY3Rpb24ucHJvdG90eXBlLCJ0b1N0cmluZyIsKGZ1bmN0aW9uKCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMmJmQodGhpcykuc291cmNlfHxjLmNhbGwodGhpcyl9KSl9LDcxNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjg2MWQiKSxyPW4oImQyYmIiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLGE7cmV0dXJuIHImJiJmdW5jdGlvbiI9PXR5cGVvZihvPXQuY29uc3RydWN0b3IpJiZvIT09biYmaShhPW8ucHJvdG90eXBlKSYmYSE9PW4ucHJvdG90eXBlJiZyKGUsYSksZX19LDc4Mzk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9WyJjb25zdHJ1Y3RvciIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwidG9Mb2NhbGVTdHJpbmciLCJ0b1N0cmluZyIsInZhbHVlT2YiXX0sIjdjNzMiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCI4MjVhIikscj1uKCIzN2U4Iiksbz1uKCI3ODM5IiksYT1uKCJkMDEyIikscz1uKCIxYmU0IiksYz1uKCJjYzEyIiksdT1uKCJmNzcyIiksZD11KCJJRV9QUk9UTyIpLGw9InByb3RvdHlwZSIsZj1mdW5jdGlvbigpe30saD1mdW5jdGlvbigpe3ZhciBlLHQ9YygiaWZyYW1lIiksbj1vLmxlbmd0aCxpPSI8IixyPSJzY3JpcHQiLGE9Ij4iLHU9ImphdmEiK3IrIjoiO3Quc3R5bGUuZGlzcGxheT0ibm9uZSIscy5hcHBlbmRDaGlsZCh0KSx0LnNyYz1TdHJpbmcodSksZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsZS5vcGVuKCksZS53cml0ZShpK3IrYSsiZG9jdW1lbnQuRj1PYmplY3QiK2krIi8iK3IrYSksZS5jbG9zZSgpLGg9ZS5GO3doaWxlKG4tLSlkZWxldGUgaFtsXVtvW25dXTtyZXR1cm4gaCgpfTtlLmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbnVsbCE9PWU/KGZbbF09aShlKSxuPW5ldyBmLGZbbF09bnVsbCxuW2RdPWUpOm49aCgpLHZvaWQgMD09PXQ/bjpyKG4sdCl9LGFbZF09ITB9LCI3ZjlhIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiZGE4NCIpLHI9bigiOWU4MSIpLG89aS5XZWFrTWFwO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT09dHlwZW9mIG8mJi9uYXRpdmUgY29kZS8udGVzdChyLmNhbGwobykpfSwiODI1YSI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjg2MWQiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIWkoZSkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gZX19LCI4M2FiIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiZDAzOSIpO2UuZXhwb3J0cz0haSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sIjg2MWQiOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09PXR5cGVvZiBlfX0sIjg3ZDQiOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9e1Jlc2l6ZVNlbnNvcjpuKCIyYWQ2IiksRWxlbWVudFF1ZXJpZXM6bigiYWU3MiIpfX0sIjhiYmYiOmZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9LCI5MGUzIjpmdW5jdGlvbihlLHQpe3ZhciBuPTAsaT1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PWU/IiI6ZSkrIilfIisoKytuK2kpLnRvU3RyaW5nKDM2KX19LDkxMTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjgzYWIiKSxyPW4oIjliZjIiKSxvPW4oIjVjNmMiKTtlLmV4cG9ydHM9aT9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LCI5NGNhIjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiZDAzOSIpLHI9LyN8XC5wcm90b3R5cGVcLi8sbz1mdW5jdGlvbihlLHQpe3ZhciBuPXNbYShlKV07cmV0dXJuIG49PXV8fG4hPWMmJigiZnVuY3Rpb24iPT10eXBlb2YgdD9pKHQpOiEhdCl9LGE9by5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKHIsIi4iKS50b0xvd2VyQ2FzZSgpfSxzPW8uZGF0YT17fSxjPW8uTkFUSVZFPSJOIix1PW8uUE9MWUZJTEw9IlAiO2UuZXhwb3J0cz1vfSwiOWJmMiI6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjgzYWIiKSxyPW4oIjBjZmIiKSxvPW4oIjgyNWEiKSxhPW4oImMwNGUiKSxzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt0LmY9aT9zOmZ1bmN0aW9uKGUsdCxuKXtpZihvKGUpLHQ9YSh0LCEwKSxvKG4pLHIpdHJ5e3JldHVybiBzKGUsdCxuKX1jYXRjaChpKXt9aWYoImdldCJpbiBufHwic2V0ImluIG4pdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCIpO3JldHVybiJ2YWx1ZSJpbiBuJiYoZVt0XT1uLnZhbHVlKSxlfX0sIjllODEiOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCI1NjkyIik7ZS5leHBvcnRzPWkoIm5hdGl2ZS1mdW5jdGlvbi10by1zdHJpbmciLEZ1bmN0aW9uLnRvU3RyaW5nKX0sYTY5MTpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY2VpbCxpPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/aTpuKShlKX19LGE5ZTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1uKCI4M2FiIikscj1uKCJkYTg0Iiksbz1uKCI5NGNhIiksYT1uKCI2ZWViIikscz1uKCI1MTM1IiksYz1uKCJjNmI2IiksdT1uKCI3MTU2IiksZD1uKCJjMDRlIiksbD1uKCJkMDM5IiksZj1uKCI3YzczIiksaD1uKCIyNDFjIikuZixwPW4oIjA2Y2YiKS5mLG09bigiOWJmMiIpLmYsdj1uKCI1OGE4IikudHJpbSxnPSJOdW1iZXIiLHk9cltnXSxiPXkucHJvdG90eXBlLHg9YyhmKGIpKT09Zyx3PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLG8sYSxzLGMsdT1kKGUsITEpO2lmKCJzdHJpbmciPT10eXBlb2YgdSYmdS5sZW5ndGg+MilpZih1PXYodSksdD11LmNoYXJDb2RlQXQoMCksNDM9PT10fHw0NT09PXQpe2lmKG49dS5jaGFyQ29kZUF0KDIpLDg4PT09bnx8MTIwPT09bilyZXR1cm4gTmFOfWVsc2UgaWYoNDg9PT10KXtzd2l0Y2godS5jaGFyQ29kZUF0KDEpKXtjYXNlIDY2OmNhc2UgOTg6aT0yLHI9NDk7YnJlYWs7Y2FzZSA3OTpjYXNlIDExMTppPTgscj01NTticmVhaztkZWZhdWx0OnJldHVybit1fWZvcihvPXUuc2xpY2UoMiksYT1vLmxlbmd0aCxzPTA7czxhO3MrKylpZihjPW8uY2hhckNvZGVBdChzKSxjPDQ4fHxjPnIpcmV0dXJuIE5hTjtyZXR1cm4gcGFyc2VJbnQobyxpKX1yZXR1cm4rdX07aWYobyhnLCF5KCIgMG8xIil8fCF5KCIwYjEiKXx8eSgiKzB4MSIpKSl7Zm9yKHZhciBTLEU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aDwxPzA6ZSxuPXRoaXM7cmV0dXJuIG4gaW5zdGFuY2VvZiBFJiYoeD9sKChmdW5jdGlvbigpe2IudmFsdWVPZi5jYWxsKG4pfSkpOmMobikhPWcpP3UobmV3IHkodyh0KSksbixFKTp3KHQpfSxPPWk/aCh5KToiTUFYX1ZBTFVFLE1JTl9WQUxVRSxOYU4sTkVHQVRJVkVfSU5GSU5JVFksUE9TSVRJVkVfSU5GSU5JVFksRVBTSUxPTixpc0Zpbml0ZSxpc0ludGVnZXIsaXNOYU4saXNTYWZlSW50ZWdlcixNQVhfU0FGRV9JTlRFR0VSLE1JTl9TQUZFX0lOVEVHRVIscGFyc2VGbG9hdCxwYXJzZUludCxpc0ludGVnZXIiLnNwbGl0KCIsIiksQz0wO08ubGVuZ3RoPkM7QysrKXMoeSxTPU9bQ10pJiYhcyhFLFMpJiZtKEUsUyxwKHksUykpO0UucHJvdG90eXBlPWIsYi5jb25zdHJ1Y3Rvcj1FLGEocixnLEUpfX0sYWU3MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBpLHIsbzsoZnVuY3Rpb24oYSxzKXtyPVtuKCIyYWQ2IildLGk9cyxvPSJmdW5jdGlvbiI9PT10eXBlb2YgaT9pLmFwcGx5KHQscik6aSx2b2lkIDA9PT1vfHwoZS5leHBvcnRzPW8pfSkoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKCl7dmFyIHQsbj17fSxpPVtdO2Z1bmN0aW9uIHIoZSl7ZXx8KGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTt2YXIgdD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmZvbnRTaXplO3JldHVybiBwYXJzZUZsb2F0KHQpfHwxNn1mdW5jdGlvbiBvKGUpe2lmKCFlLmdldEJvdW5kaW5nQ2xpZW50UmVjdClyZXR1cm57d2lkdGg6ZS5vZmZzZXRXaWR0aCxoZWlnaHQ6ZS5vZmZzZXRIZWlnaHR9O3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJue3dpZHRoOk1hdGgucm91bmQodC53aWR0aCksaGVpZ2h0Ok1hdGgucm91bmQodC5oZWlnaHQpfX1mdW5jdGlvbiBhKGUsdCl7dmFyIG49dC5zcGxpdCgvXGQvKSxpPW5bbi5sZW5ndGgtMV07c3dpdGNoKHQ9cGFyc2VGbG9hdCh0KSxpKXtjYXNlInB4IjpyZXR1cm4gdDtjYXNlImVtIjpyZXR1cm4gdCpyKGUpO2Nhc2UicmVtIjpyZXR1cm4gdCpyKCk7Y2FzZSJ2dyI6cmV0dXJuIHQqZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLzEwMDtjYXNlInZoIjpyZXR1cm4gdCpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LzEwMDtjYXNlInZtaW4iOmNhc2Uidm1heCI6dmFyIG89ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLzEwMCxhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQvMTAwLHM9TWF0aFsidm1pbiI9PT1pPyJtaW4iOiJtYXgiXTtyZXR1cm4gdCpzKG8sYSk7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gcyhlLHQpe3ZhciBpLHIscyxjLHUsZCxsLGY7dGhpcy5lbGVtZW50PWU7dmFyIGg9WyJtaW4td2lkdGgiLCJtaW4taGVpZ2h0IiwibWF4LXdpZHRoIiwibWF4LWhlaWdodCJdO3RoaXMuY2FsbD1mdW5jdGlvbigpe2ZvcihpIGluIHM9byh0aGlzLmVsZW1lbnQpLGQ9e30sblt0XSluW3RdLmhhc093blByb3BlcnR5KGkpJiYocj1uW3RdW2ldLGM9YSh0aGlzLmVsZW1lbnQsci52YWx1ZSksdT0id2lkdGgiPT09ci5wcm9wZXJ0eT9zLndpZHRoOnMuaGVpZ2h0LGY9ci5tb2RlKyItIityLnByb3BlcnR5LGw9IiIsIm1pbiI9PT1yLm1vZGUmJnU+PWMmJihsKz1yLnZhbHVlKSwibWF4Ij09PXIubW9kZSYmdTw9YyYmKGwrPXIudmFsdWUpLGRbZl18fChkW2ZdPSIiKSxsJiYtMT09PSgiICIrZFtmXSsiICIpLmluZGV4T2YoIiAiK2wrIiAiKSYmKGRbZl0rPSIgIitsKSk7Zm9yKHZhciBlIGluIGgpaC5oYXNPd25Qcm9wZXJ0eShlKSYmKGRbaFtlXV0/dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShoW2VdLGRbaFtlXV0uc3Vic3RyKDEpKTp0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGhbZV0pKX19ZnVuY3Rpb24gYyh0LG4pe3QuZWxlbWVudFF1ZXJpZXNTZXR1cEluZm9ybWF0aW9ufHwodC5lbGVtZW50UXVlcmllc1NldHVwSW5mb3JtYXRpb249bmV3IHModCxuKSksdC5lbGVtZW50UXVlcmllc1NlbnNvcnx8KHQuZWxlbWVudFF1ZXJpZXNTZW5zb3I9bmV3IGUodCwoZnVuY3Rpb24oKXt0LmVsZW1lbnRRdWVyaWVzU2V0dXBJbmZvcm1hdGlvbi5jYWxsKCl9KSkpfWZ1bmN0aW9uIHUoZSxyLG8sYSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgbltlXSl7bltlXT1bXTt2YXIgcz1pLmxlbmd0aDt0LmlubmVySFRNTCs9IlxuIitlKyIge2FuaW1hdGlvbjogMC4xcyBlbGVtZW50LXF1ZXJpZXM7fSIsdC5pbm5lckhUTUwrPSJcbiIrZSsiID4gLnJlc2l6ZS1zZW5zb3Ige21pbi13aWR0aDogIitzKyJweDt9IixpLnB1c2goZSl9bltlXS5wdXNoKHttb2RlOnIscHJvcGVydHk6byx2YWx1ZTphfSl9ZnVuY3Rpb24gZChlKXt2YXIgdDtpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsJiYodD1lP2UucXVlcnlTZWxlY3RvckFsbC5iaW5kKGUpOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCkpLHR8fCJ1bmRlZmluZWQiPT09dHlwZW9mICQkfHwodD0kJCksdHx8InVuZGVmaW5lZCI9PT10eXBlb2YgalF1ZXJ5fHwodD1qUXVlcnkpLCF0KXRocm93Ik5vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwsIGpRdWVyeSBvciBNb290b29scydzICQkIGZvdW5kLiI7cmV0dXJuIHR9ZnVuY3Rpb24gbChlKXt2YXIgdD1kKGUpO2Zvcih2YXIgaSBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkoaSkpZm9yKHZhciByPXQoaSxlKSxvPTAsYT1yLmxlbmd0aDtvPGE7bysrKWMocltvXSxpKX1mdW5jdGlvbiBmKHQpe3ZhciBuPVtdLGk9W10scj1bXSxvPTAsYT0tMSxzPVtdO2Zvcih2YXIgYyBpbiB0LmNoaWxkcmVuKWlmKHQuY2hpbGRyZW4uaGFzT3duUHJvcGVydHkoYykmJnQuY2hpbGRyZW5bY10udGFnTmFtZSYmImltZyI9PT10LmNoaWxkcmVuW2NdLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7bi5wdXNoKHQuY2hpbGRyZW5bY10pO3ZhciB1PXQuY2hpbGRyZW5bY10uZ2V0QXR0cmlidXRlKCJtaW4td2lkdGgiKXx8dC5jaGlsZHJlbltjXS5nZXRBdHRyaWJ1dGUoImRhdGEtbWluLXdpZHRoIiksZD10LmNoaWxkcmVuW2NdLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKXx8dC5jaGlsZHJlbltjXS5nZXRBdHRyaWJ1dGUoInVybCIpO3IucHVzaChkKTt2YXIgbD17bWluV2lkdGg6dX07aS5wdXNoKGwpLHU/dC5jaGlsZHJlbltjXS5zdHlsZS5kaXNwbGF5PSJub25lIjoobz1uLmxlbmd0aC0xLHQuY2hpbGRyZW5bY10uc3R5bGUuZGlzcGxheT0iYmxvY2siKX1mdW5jdGlvbiBmKCl7dmFyIGUsYz0hMTtmb3IoZSBpbiBuKW4uaGFzT3duUHJvcGVydHkoZSkmJmlbZV0ubWluV2lkdGgmJnQub2Zmc2V0V2lkdGg+aVtlXS5taW5XaWR0aCYmKGM9ZSk7aWYoY3x8KGM9byksYSE9PWMpaWYoc1tjXSluW2FdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLG5bY10uc3R5bGUuZGlzcGxheT0iYmxvY2siLGE9YztlbHNle3ZhciB1PW5ldyBJbWFnZTt1Lm9ubG9hZD1mdW5jdGlvbigpe25bY10uc3JjPXJbY10sblthXS5zdHlsZS5kaXNwbGF5PSJub25lIixuW2NdLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixzW2NdPSEwLGE9Y30sdS5zcmM9cltjXX1lbHNlIG5bY10uc3JjPXJbY119YT1vLHQucmVzaXplU2Vuc29ySW5zdGFuY2U9bmV3IGUodCxmKSxmKCl9ZnVuY3Rpb24gaCgpe2Zvcih2YXIgZT1kKCksdD1lKCJbZGF0YS1yZXNwb25zaXZlLWltYWdlXSxbcmVzcG9uc2l2ZS1pbWFnZV0iKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWYodFtuXSl9dmFyIHA9Lyw/W1xzXHRdKihbXixcbl0qPykoKD86XFtbXHNcdF0qPyg/Om1pbnxtYXgpLSg/OndpZHRofGhlaWdodClbXHNcdF0qP1t+JFxeXT89W1xzXHRdKj8iW14iXSo/Iltcc1x0XSo/XSkrKShbXixcblxzXHtdKikvZ2ltLG09L1xbW1xzXHRdKj8obWlufG1heCktKHdpZHRofGhlaWdodClbXHNcdF0qP1t+JFxeXT89W1xzXHRdKj8iKFteIl0qPykiW1xzXHRdKj9dL2dpbTtmdW5jdGlvbiB2KGUpe3ZhciB0LG4saSxyO2U9ZS5yZXBsYWNlKC8nL2csJyInKTt3aGlsZShudWxsIT09KHQ9cC5leGVjKGUpKSl7bj10WzFdK3RbM10saT10WzJdO3doaWxlKG51bGwhPT0ocj1tLmV4ZWMoaSkpKXUobixyWzFdLHJbMl0sclszXSl9fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9IiI7aWYoZSlpZigic3RyaW5nIj09PXR5cGVvZiBlKWU9ZS50b0xvd2VyQ2FzZSgpLC0xPT09ZS5pbmRleE9mKCJtaW4td2lkdGgiKSYmLTE9PT1lLmluZGV4T2YoIm1heC13aWR0aCIpfHx2KGUpO2Vsc2UgZm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7bisrKTE9PT1lW25dLnR5cGU/KHQ9ZVtuXS5zZWxlY3RvclRleHR8fGVbbl0uY3NzVGV4dCwtMSE9PXQuaW5kZXhPZigibWluLWhlaWdodCIpfHwtMSE9PXQuaW5kZXhPZigibWF4LWhlaWdodCIpP3YodCk6LTE9PT10LmluZGV4T2YoIm1pbi13aWR0aCIpJiYtMT09PXQuaW5kZXhPZigibWF4LXdpZHRoIil8fHYodCkpOjQ9PT1lW25dLnR5cGU/ZyhlW25dLmNzc1J1bGVzfHxlW25dLnJ1bGVzKTozPT09ZVtuXS50eXBlJiZlW25dLnN0eWxlU2hlZXQuaGFzT3duUHJvcGVydHkoImNzc1J1bGVzIikmJmcoZVtuXS5zdHlsZVNoZWV0LmNzc1J1bGVzKX12YXIgeT0hMTt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt2YXIgbj0iYW5pbWF0aW9uc3RhcnQiOyJ1bmRlZmluZWQiIT09dHlwZW9mIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVsid2Via2l0QW5pbWF0aW9uTmFtZSJdP249IndlYmtpdEFuaW1hdGlvblN0YXJ0IjoidW5kZWZpbmVkIiE9PXR5cGVvZiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGVbIk1vekFuaW1hdGlvbk5hbWUiXT9uPSJtb3phbmltYXRpb25zdGFydCI6InVuZGVmaW5lZCIhPT10eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlWyJPQW5pbWF0aW9uTmFtZSJdJiYobj0ib2FuaW1hdGlvbnN0YXJ0IiksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKG4sKGZ1bmN0aW9uKHQpe3ZhciBuPXQudGFyZ2V0LHI9biYmd2luZG93LmdldENvbXB1dGVkU3R5bGUobixudWxsKSxvPXImJnIuZ2V0UHJvcGVydHlWYWx1ZSgiYW5pbWF0aW9uLW5hbWUiKSxhPW8mJi0xIT09by5pbmRleE9mKCJlbGVtZW50LXF1ZXJpZXMiKTtpZihhKXtuLmVsZW1lbnRRdWVyaWVzU2Vuc29yPW5ldyBlKG4sKGZ1bmN0aW9uKCl7bi5lbGVtZW50UXVlcmllc1NldHVwSW5mb3JtYXRpb24mJm4uZWxlbWVudFF1ZXJpZXNTZXR1cEluZm9ybWF0aW9uLmNhbGwoKX0pKTt2YXIgcz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuLnJlc2l6ZVNlbnNvcixudWxsKSx1PXMuZ2V0UHJvcGVydHlWYWx1ZSgibWluLXdpZHRoIik7dT1wYXJzZUludCh1LnJlcGxhY2UoInB4IiwiIikpLGModC50YXJnZXQsaVt1XSl9fSkpLHl8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksdC50eXBlPSJ0ZXh0L2NzcyIsdC5pbm5lckhUTUw9IltyZXNwb25zaXZlLWltYWdlXSA+IGltZywgW2RhdGEtcmVzcG9uc2l2ZS1pbWFnZV0ge292ZXJmbG93OiBoaWRkZW47IHBhZGRpbmc6IDA7IH0gW3Jlc3BvbnNpdmUtaW1hZ2VdID4gaW1nLCBbZGF0YS1yZXNwb25zaXZlLWltYWdlXSA+IGltZyB7d2lkdGg6IDEwMCU7fSIsdC5pbm5lckhUTUwrPSJcbkBrZXlmcmFtZXMgZWxlbWVudC1xdWVyaWVzIHsgMCUgeyB2aXNpYmlsaXR5OiBpbmhlcml0OyB9IH0iLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQodCkseT0hMCk7Zm9yKHZhciByPTAsbz1kb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7cjxvO3IrKyl0cnl7ZG9jdW1lbnQuc3R5bGVTaGVldHNbcl0uaHJlZiYmMD09PWRvY3VtZW50LnN0eWxlU2hlZXRzW3JdLmhyZWYuaW5kZXhPZigiZmlsZTovLyIpJiZjb25zb2xlLndhcm4oIkNzc0VsZW1lbnRRdWVyaWVzOiB1bmFibGUgdG8gcGFyc2UgbG9jYWwgY3NzIGZpbGVzLCAiK2RvY3VtZW50LnN0eWxlU2hlZXRzW3JdLmhyZWYpLGcoZG9jdW1lbnQuc3R5bGVTaGVldHNbcl0uY3NzUnVsZXN8fGRvY3VtZW50LnN0eWxlU2hlZXRzW3JdLnJ1bGVzfHxkb2N1bWVudC5zdHlsZVNoZWV0c1tyXS5jc3NUZXh0KX1jYXRjaChhKXt9aCgpfSx0aGlzLmZpbmRFbGVtZW50UXVlcmllc0VsZW1lbnRzPWZ1bmN0aW9uKGUpe2woZSl9LHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5pbml0KCl9fTt0LnVwZGF0ZT1mdW5jdGlvbigpe3QuaW5zdGFuY2UudXBkYXRlKCl9LHQuZGV0YWNoPWZ1bmN0aW9uKGUpe2UuZWxlbWVudFF1ZXJpZXNTZXR1cEluZm9ybWF0aW9uPyhlLmVsZW1lbnRRdWVyaWVzU2Vuc29yLmRldGFjaCgpLGRlbGV0ZSBlLmVsZW1lbnRRdWVyaWVzU2V0dXBJbmZvcm1hdGlvbixkZWxldGUgZS5lbGVtZW50UXVlcmllc1NlbnNvcik6ZS5yZXNpemVTZW5zb3JJbnN0YW5jZSYmKGUucmVzaXplU2Vuc29ySW5zdGFuY2UuZGV0YWNoKCksZGVsZXRlIGUucmVzaXplU2Vuc29ySW5zdGFuY2UpfSx0LmluaXQ9ZnVuY3Rpb24oKXt0Lmluc3RhbmNlfHwodC5pbnN0YW5jZT1uZXcgdCksdC5pbnN0YW5jZS5pbml0KCl9O3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsZSwhMSk7ZWxzZSBpZigvS0hUTUx8V2ViS2l0fGlDYWIvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKXZhciB0PXNldEludGVydmFsKChmdW5jdGlvbigpey9sb2FkZWR8Y29tcGxldGUvaS50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpJiYoZSgpLGNsZWFySW50ZXJ2YWwodCkpfSksMTApO2Vsc2Ugd2luZG93Lm9ubG9hZD1lfTtyZXR1cm4gdC5maW5kRWxlbWVudFF1ZXJpZXNFbGVtZW50cz1mdW5jdGlvbihlKXt0Lmluc3RhbmNlLmZpbmRFbGVtZW50UXVlcmllc0VsZW1lbnRzKGUpfSx0Lmxpc3Rlbj1mdW5jdGlvbigpe24odC5pbml0KX0sdH0pKX0sYzA0ZTpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiODYxZCIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFpKGUpKXJldHVybiBlO3ZhciBuLHI7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFpKHI9bi5jYWxsKGUpKSlyZXR1cm4gcjtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhaShyPW4uY2FsbChlKSkpcmV0dXJuIHI7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhaShyPW4uY2FsbChlKSkpcmV0dXJuIHI7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LGM0MzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ITF9LGM2YjY6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbChlKS5zbGljZSg4LC0xKX19LGM2Y2Q6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oImRhODQiKSxyPW4oImNlNGUiKSxvPSJfX2NvcmUtanNfc2hhcmVkX18iLGE9aVtvXXx8cihvLHt9KTtlLmV4cG9ydHM9YX0sYzhiYTpmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKX1jYXRjaChpKXsib2JqZWN0Ij09PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGNhODQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjUxMzUiKSxyPW4oImZjNmEiKSxvPW4oIjRkNjQiKS5pbmRleE9mLGE9bigiZDAxMiIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLHM9cihlKSxjPTAsdT1bXTtmb3IobiBpbiBzKSFpKGEsbikmJmkocyxuKSYmdS5wdXNoKG4pO3doaWxlKHQubGVuZ3RoPmMpaShzLG49dFtjKytdKSYmKH5vKHUsbil8fHUucHVzaChuKSk7cmV0dXJuIHV9fSxjYzEyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCJkYTg0Iikscj1uKCI4NjFkIiksbz1pLmRvY3VtZW50LGE9cihvKSYmcihvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSxjZTRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCJkYTg0Iikscj1uKCI5MTEyIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e3IoaSxlLHQpfWNhdGNoKG4pe2lbZV09dH1yZXR1cm4gdH19LGQwMTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LGQwMzk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LGQwNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjQyOGYiKSxyPW4oImRhODQiKSxvPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28oaVtlXSl8fG8ocltlXSk6aVtlXSYmaVtlXVt0XXx8cltlXSYmcltlXVt0XX19LGQxZTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1yJiYhaS5jYWxsKHsxOjJ9LDEpO3QuZj1vP2Z1bmN0aW9uKGUpe3ZhciB0PXIodGhpcyxlKTtyZXR1cm4hIXQmJnQuZW51bWVyYWJsZX06aX0sZDJiYjpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiODI1YSIpLHI9bigiM2JiZSIpO2UuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oKXt2YXIgZSx0PSExLG49e307dHJ5e2U9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsZS5jYWxsKG4sW10pLHQ9biBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKG8pe31yZXR1cm4gZnVuY3Rpb24obixvKXtyZXR1cm4gaShuKSxyKG8pLHQ/ZS5jYWxsKG4sbyk6bi5fX3Byb3RvX189byxufX0oKTp2b2lkIDApfSxkYTg0OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHRoaXMsbigiYzhiYSIpKX0sZGY3NTpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigiY2E4NCIpLHI9bigiNzgzOSIpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSxyKX19LGY2ZmQ6ZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24oZSl7dmFyIHQ9ImN1cnJlbnRTY3JpcHQiLG49ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7dCBpbiBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtnZXQ6ZnVuY3Rpb24oKXt0cnl7dGhyb3cgbmV3IEVycm9yfWNhdGNoKGkpe3ZhciBlLHQ9KC8uKmF0IFteXChdKlwoKC4qKTouKzouK1wpJC9naS5leGVjKGkuc3RhY2spfHxbITFdKVsxXTtmb3IoZSBpbiBuKWlmKG5bZV0uc3JjPT10fHwiaW50ZXJhY3RpdmUiPT1uW2VdLnJlYWR5U3RhdGUpcmV0dXJuIG5bZV07cmV0dXJuIG51bGx9fX0pfSkoZG9jdW1lbnQpfSxmNzcyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKCI1NjkyIikscj1uKCI5MGUzIiksbz1pKCJrZXlzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1yKGUpKX19LGZiMTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaTsobi5yKHQpLCJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdykmJihuKCJmNmZkIiksKGk9d2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHQpJiYoaT1pLnNyYy5tYXRjaCgvKC4rXC8pW14vXStcLmpzKFw/LiopPyQvKSkmJihuLnA9aVsxXSkpO3ZhciByPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuJGNyZWF0ZUVsZW1lbnQsbj1lLl9zZWxmLl9jfHx0O3JldHVybiBuKCJkaXYiLHtyZWY6ImNvbnRhaW5lclJlZiIsc3RhdGljQ2xhc3M6InZjaS1jb250YWluZXIifSxbbigiaW1nIix7cmVmOiJsZWZ0SW1hZ2VSZWYiLHN0YXRpY0NsYXNzOiJsZWZ0LWltYWdlIixzdHlsZTplLmxlZnRJbWFnZVN0eWxlLGF0dHJzOnthbHQ6ZS5sZWZ0SW1hZ2VBbHQsc3JjOmUubGVmdEltYWdlfX0pLG4oImRpdiIse3N0YXRpY0NsYXNzOiJsZWZ0LWxhYmVsIixzdHlsZTplLmxlZnRJbWFnZVN0eWxlfSxbZS5fdihlLl9zKGUubGVmdExhYmVsKSldKSxuKCJpbWciLHtyZWY6InJpZ2h0SW1hZ2VSZWYiLHN0YXRpY0NsYXNzOiJyaWdodC1pbWFnZSIsYXR0cnM6e2FsdDplLnJpZ2h0SW1hZ2VBbHQsc3JjOmUucmlnaHRJbWFnZX19KSxuKCJkaXYiLHtyZWY6InJpZ2h0TGFiZWxSZWYiLHN0YXRpY0NsYXNzOiJyaWdodC1sYWJlbCIsc3R5bGU6ZS5yaWdodExhYmVsU3R5bGV9LFtlLl92KGUuX3MoZS5yaWdodExhYmVsKSldKSxuKCJkaXYiLHtzdGF0aWNDbGFzczoidmNpLXNsaWRlciIsc3R5bGU6ZS5zbGlkZXJTdHlsZX0sW24oImRpdiIse3N0YXRpY0NsYXNzOiJsaW5lIixzdHlsZTplLnNsaWRlckxpbmVTdHlsZX0pLG4oImRpdiIse3N0YXRpY0NsYXNzOiJoYW5kbGUiLHN0eWxlOmUuc2xpZGVySGFuZGxlU3R5bGV9LFtuKCJkaXYiLHtzdGF0aWNDbGFzczoibGVmdC1hcnJvdyIsc3R5bGU6ZS5zbGlkZXJMZWZ0QXJyb3dTdHlsZX0pLG4oImRpdiIse3N0YXRpY0NsYXNzOiJyaWdodC1hcnJvdyIsc3R5bGU6ZS5zbGlkZXJSaWdodEFycm93U3R5bGV9KV0pLG4oImRpdiIse3N0YXRpY0NsYXNzOiJsaW5lIixzdHlsZTplLnNsaWRlckxpbmVTdHlsZX0pXSldKX0sbz1bXSxhPShuKCJhOWUzIiksbigiOGJiZiIpKSxzPW4ubihhKSxjPW4oIjg3ZDQiKSx1PXMuYS5leHRlbmQoe21vdW50ZWQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO25ldyBjWyJSZXNpemVTZW5zb3IiXSh0aGlzLiRyZWZzLmNvbnRhaW5lclJlZiwoZnVuY3Rpb24oKXtlLmdldEFuZFNldEltYWdlV2lkdGgoKX0pKTt2YXIgdD10aGlzLiRyZWZzLmNvbnRhaW5lclJlZjt0LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLHRoaXMuc3RhcnRTbGlkaW5nKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHRoaXMuZmluaXNoU2xpZGluZyksdGhpcy5ob3Zlcj8odC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWVudGVyIix0aGlzLnN0YXJ0U2xpZGluZyksdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIix0aGlzLmZpbmlzaFNsaWRpbmcpKToodC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLHRoaXMuc3RhcnRTbGlkaW5nKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy5maW5pc2hTbGlkaW5nKSl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZpbmlzaFNsaWRpbmcoKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy5maW5pc2hTbGlkaW5nKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHRoaXMuZmluaXNoU2xpZGluZyl9LHByb3BzOntsZWZ0SW1hZ2U6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6IiJ9LGxlZnRJbWFnZUFsdDp7dHlwZTpTdHJpbmcsZGVmYXVsdDpudWxsfSxsZWZ0TGFiZWw6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6IiJ9LHJpZ2h0SW1hZ2U6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6IiJ9LHJpZ2h0SW1hZ2VBbHQ6e3R5cGU6U3RyaW5nLGRlZmF1bHQ6bnVsbH0scmlnaHRMYWJlbDp7dHlwZTpTdHJpbmcsZGVmYXVsdDoiIn0saG92ZXI6e3R5cGU6Qm9vbGVhbixkZWZhdWx0OiExfSxoYW5kbGVTaXplOnt0eXBlOk51bWJlcixkZWZhdWx0OjQwfSxzbGlkZXJMaW5lV2lkdGg6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6Mn0sc2xpZGVyUG9zaXRpb25QZXJjZW50YWdlOnt0eXBlOk51bWJlcixkZWZhdWx0Oi41fX0sbWV0aG9kczp7Z2V0QW5kU2V0SW1hZ2VXaWR0aDpmdW5jdGlvbigpe3RoaXMuaW1hZ2VXaWR0aD10aGlzLiRyZWZzLnJpZ2h0SW1hZ2VSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsdGhpcy5yaWdodExhYmVsV2lkdGg9dGhpcy4kcmVmcy5yaWdodExhYmVsUmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofSxzdGFydFNsaWRpbmc6ZnVuY3Rpb24oZSl7InRvdWNoZXMiaW4gZXx8ZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudXBkYXRlU2xpZGVyUG9zaXRpb24oZSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdGhpcy51cGRhdGVTbGlkZXJQb3NpdGlvbiksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsdGhpcy51cGRhdGVTbGlkZXJQb3NpdGlvbil9LGZpbmlzaFNsaWRpbmc6ZnVuY3Rpb24oKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLnVwZGF0ZVNsaWRlclBvc2l0aW9uKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidG91Y2htb3ZlIix0aGlzLnVwZGF0ZVNsaWRlclBvc2l0aW9uKX0sdXBkYXRlU2xpZGVyUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8d2luZG93LmV2ZW50LG49dC50b3VjaGVzP3QudG91Y2hlc1swXS5wYWdlWDp0LnBhZ2VYLGk9bi13aW5kb3cucGFnZVhPZmZzZXQscj10aGlzLiRyZWZzLnJpZ2h0SW1hZ2VSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLXIubGVmdCxhPTArdGhpcy5zbGlkZXJMaW5lV2lkdGgvMixzPXRoaXMuaW1hZ2VXaWR0aC10aGlzLnNsaWRlckxpbmVXaWR0aC8yO288YSYmKG89YSksbz5zJiYobz1zKSx0aGlzLnBvc2l0aW9uUGN0PW8vdGhpcy5pbWFnZVdpZHRofX0sZGF0YTpmdW5jdGlvbigpe3JldHVybntwb3NpdGlvblBjdDp0aGlzLnNsaWRlclBvc2l0aW9uUGVyY2VudGFnZXx8LjUsaW1hZ2VXaWR0aDowfX0sY29tcHV0ZWQ6e2xlZnRJbWFnZVN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJue2NsaXA6InJlY3QoYXV0bywgIi5jb25jYXQodGhpcy5pbWFnZVdpZHRoKnRoaXMucG9zaXRpb25QY3QsInB4LCBhdXRvLCBhdXRvKSIpfX0scmlnaHRMYWJlbFN0eWxlOmZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5tYXgoMCx0aGlzLnJpZ2h0TGFiZWxXaWR0aCt0aGlzLmltYWdlV2lkdGgqKHRoaXMucG9zaXRpb25QY3QtMSkpO3JldHVybntjbGlwOiJyZWN0KGF1dG8sIGF1dG8sIGF1dG8sICIuY29uY2F0KGUsInB4KSIpfX0sc2xpZGVyU3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm57Y3Vyc29yOiF0aGlzLmhvdmVyJiYiZXctcmVzaXplIixsZWZ0OnRoaXMuaW1hZ2VXaWR0aCp0aGlzLnBvc2l0aW9uUGN0LXRoaXMuaGFuZGxlU2l6ZS8yKyJweCIsd2lkdGg6IiIuY29uY2F0KHRoaXMuaGFuZGxlU2l6ZSwicHgiKX19LHNsaWRlckxpbmVTdHlsZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDoiIi5jb25jYXQodGhpcy5zbGlkZXJMaW5lV2lkdGgsInB4Iil9fSxzbGlkZXJIYW5kbGVTdHlsZTpmdW5jdGlvbigpe3JldHVybntib3JkZXI6IiIuY29uY2F0KHRoaXMuc2xpZGVyTGluZVdpZHRoLCJweCBzb2xpZCB3aGl0ZSIpLGhlaWdodDoiIi5jb25jYXQodGhpcy5oYW5kbGVTaXplLCJweCIpLHdpZHRoOiIiLmNvbmNhdCh0aGlzLmhhbmRsZVNpemUsInB4Iil9fSxzbGlkZXJMZWZ0QXJyb3dTdHlsZTpmdW5jdGlvbigpe3JldHVybntib3JkZXI6Imluc2V0ICIuY29uY2F0KC4xNSp0aGlzLmhhbmRsZVNpemUsInB4IHJnYmEoMCwwLDAsMCkiKSxib3JkZXJSaWdodDoiIi5jb25jYXQoLjE1KnRoaXMuaGFuZGxlU2l6ZSwicHggc29saWQgd2hpdGUiKSxtYXJnaW5MZWZ0OiItIi5jb25jYXQoLjI1KnRoaXMuaGFuZGxlU2l6ZSwicHgiKSxtYXJnaW5SaWdodDoiIi5jb25jYXQoLjI1KnRoaXMuaGFuZGxlU2l6ZSwicHgiKX19LHNsaWRlclJpZ2h0QXJyb3dTdHlsZTpmdW5jdGlvbigpe3JldHVybntib3JkZXI6Imluc2V0ICIuY29uY2F0KC4xNSp0aGlzLmhhbmRsZVNpemUsInB4IHJnYmEoMCwwLDAsMCkiKSxib3JkZXJMZWZ0OiIiLmNvbmNhdCguMTUqdGhpcy5oYW5kbGVTaXplLCJweCBzb2xpZCB3aGl0ZSIpLG1hcmdpblJpZ2h0OiItIi5jb25jYXQoLjI1KnRoaXMuaGFuZGxlU2l6ZSwicHgiKX19fX0pLGQ9dTtuKCIyMTNkIik7ZnVuY3Rpb24gbChlLHQsbixpLHIsbyxhLHMpe3ZhciBjLHU9ImZ1bmN0aW9uIj09PXR5cGVvZiBlP2Uub3B0aW9uczplO2lmKHQmJih1LnJlbmRlcj10LHUuc3RhdGljUmVuZGVyRm5zPW4sdS5fY29tcGlsZWQ9ITApLGkmJih1LmZ1bmN0aW9uYWw9ITApLG8mJih1Ll9zY29wZUlkPSJkYXRhLXYtIitvKSxhPyhjPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy4kdm5vZGUmJnRoaXMuJHZub2RlLnNzckNvbnRleHR8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC4kdm5vZGUmJnRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0LGV8fCJ1bmRlZmluZWQiPT09dHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX198fChlPV9fVlVFX1NTUl9DT05URVhUX18pLHImJnIuY2FsbCh0aGlzLGUpLGUmJmUuX3JlZ2lzdGVyZWRDb21wb25lbnRzJiZlLl9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQoYSl9LHUuX3NzclJlZ2lzdGVyPWMpOnImJihjPXM/ZnVuY3Rpb24oKXtyLmNhbGwodGhpcyx0aGlzLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpfTpyKSxjKWlmKHUuZnVuY3Rpb25hbCl7dS5faW5qZWN0U3R5bGVzPWM7dmFyIGQ9dS5yZW5kZXI7dS5yZW5kZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5jYWxsKHQpLGQoZSx0KX19ZWxzZXt2YXIgbD11LmJlZm9yZUNyZWF0ZTt1LmJlZm9yZUNyZWF0ZT1sP1tdLmNvbmNhdChsLGMpOltjXX1yZXR1cm57ZXhwb3J0czplLG9wdGlvbnM6dX19dmFyIGY9bChkLHIsbywhMSxudWxsLCIxZTVlZGEyMCIsbnVsbCksaD1mLmV4cG9ydHM7dFsiZGVmYXVsdCJdPWh9LGZjNmE6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oIjQ0YWQiKSxyPW4oIjFkODAiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkocihlKSl9fX0pWyJkZWZhdWx0Il19KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPXZ1ZUNvbXBhcmVJbWFnZS51bWQubWluLmpzLm1hcA=="></script>
 
 <script src="data:application/javascript;base64,LyohCiAqIENvbXByZXNzb3IuanMgdjEuMS4xCiAqIGh0dHBzOi8vZmVuZ3l1YW5jaGVuLmdpdGh1Yi5pby9jb21wcmVzc29yanMKICoKICogQ29weXJpZ2h0IDIwMTgtcHJlc2VudCBDaGVuIEZlbmd5dWFuCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKgogKiBEYXRlOiAyMDIxLTEwLTA1VDAyOjMyOjQwLjIxMloKICovCgooZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkgewogIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDoKICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOgogIChnbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5Db21wcmVzc29yID0gZmFjdG9yeSgpKTsKfSkodGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnOwoKICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKCiAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgewogICAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogICAgfQoKICAgIHJldHVybiBrZXlzOwogIH0KCiAgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7CiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICAgIGlmIChpICUgMikgewogICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgICB9IGVsc2UgewogICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGFyZ2V0OwogIH0KCiAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgewogICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsKICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOwogICAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgewogICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7CiAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgICByZXR1cm4gQ29uc3RydWN0b3I7CiAgfQoKICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoa2V5IGluIG9iaikgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfQoKICBmdW5jdGlvbiBfZXh0ZW5kcygpIHsKICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsKICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9OwoKICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KCiAgdmFyIGNhbnZhc1RvQmxvYiA9IHtleHBvcnRzOiB7fX07CgogIC8qCiAgICogSmF2YVNjcmlwdCBDYW52YXMgdG8gQmxvYgogICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtQ2FudmFzLXRvLUJsb2IKICAgKgogICAqIENvcHlyaWdodCAyMDEyLCBTZWJhc3RpYW4gVHNjaGFuCiAgICogaHR0cHM6Ly9ibHVlaW1wLm5ldAogICAqCiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOgogICAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUCiAgICoKICAgKiBCYXNlZCBvbiBzdGFja292ZXJmbG93IHVzZXIgU3RvaXZlJ3MgY29kZSBzbmlwcGV0OgogICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xLzQ5OTg5MDgKICAgKi8KCiAgKGZ1bmN0aW9uIChtb2R1bGUpIHsKICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgIHJldHVybjsKICB9CgogICAgKGZ1bmN0aW9uICh3aW5kb3cpIHsKCiAgICAgIHZhciBDYW52YXNQcm90b3R5cGUgPSB3aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQgJiYgd2luZG93LkhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZTsKCiAgICAgIHZhciBoYXNCbG9iQ29uc3RydWN0b3IgPSB3aW5kb3cuQmxvYiAmJiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKG5ldyBCbG9iKCkpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0oKTsKCiAgICAgIHZhciBoYXNBcnJheUJ1ZmZlclZpZXdTdXBwb3J0ID0gaGFzQmxvYkNvbnN0cnVjdG9yICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uICgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtuZXcgVWludDhBcnJheSgxMDApXSkuc2l6ZSA9PT0gMTAwOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0oKTsKCiAgICAgIHZhciBCbG9iQnVpbGRlciA9IHdpbmRvdy5CbG9iQnVpbGRlciB8fCB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHwgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8IHdpbmRvdy5NU0Jsb2JCdWlsZGVyOwogICAgICB2YXIgZGF0YVVSSVBhdHRlcm4gPSAvXmRhdGE6KCguKj8pKDtjaGFyc2V0PS4qPyk/KSg7YmFzZTY0KT8sLzsKCiAgICAgIHZhciBkYXRhVVJMdG9CbG9iID0gKGhhc0Jsb2JDb25zdHJ1Y3RvciB8fCBCbG9iQnVpbGRlcikgJiYgd2luZG93LmF0b2IgJiYgd2luZG93LkFycmF5QnVmZmVyICYmIHdpbmRvdy5VaW50OEFycmF5ICYmIGZ1bmN0aW9uIChkYXRhVVJJKSB7CiAgICAgICAgdmFyIG1hdGNoZXMsIG1lZGlhVHlwZSwgaXNCYXNlNjQsIGRhdGFTdHJpbmcsIGJ5dGVTdHJpbmcsIGFycmF5QnVmZmVyLCBpbnRBcnJheSwgaSwgYmI7IC8vIFBhcnNlIHRoZSBkYXRhVVJJIGNvbXBvbmVudHMgYXMgcGVyIFJGQyAyMzk3CgogICAgICAgIG1hdGNoZXMgPSBkYXRhVVJJLm1hdGNoKGRhdGFVUklQYXR0ZXJuKTsKCiAgICAgICAgaWYgKCFtYXRjaGVzKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZGF0YSBVUkknKTsKICAgICAgICB9IC8vIERlZmF1bHQgdG8gdGV4dC9wbGFpbjtjaGFyc2V0PVVTLUFTQ0lJCgoKICAgICAgICBtZWRpYVR5cGUgPSBtYXRjaGVzWzJdID8gbWF0Y2hlc1sxXSA6ICd0ZXh0L3BsYWluJyArIChtYXRjaGVzWzNdIHx8ICc7Y2hhcnNldD1VUy1BU0NJSScpOwogICAgICAgIGlzQmFzZTY0ID0gISFtYXRjaGVzWzRdOwogICAgICAgIGRhdGFTdHJpbmcgPSBkYXRhVVJJLnNsaWNlKG1hdGNoZXNbMF0ubGVuZ3RoKTsKCiAgICAgICAgaWYgKGlzQmFzZTY0KSB7CiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NCB0byByYXcgYmluYXJ5IGRhdGEgaGVsZCBpbiBhIHN0cmluZzoKICAgICAgICAgIGJ5dGVTdHJpbmcgPSBhdG9iKGRhdGFTdHJpbmcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBDb252ZXJ0IGJhc2U2NC9VUkxFbmNvZGVkIGRhdGEgY29tcG9uZW50IHRvIHJhdyBiaW5hcnk6CiAgICAgICAgICBieXRlU3RyaW5nID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGFTdHJpbmcpOwogICAgICAgIH0gLy8gV3JpdGUgdGhlIGJ5dGVzIG9mIHRoZSBzdHJpbmcgdG8gYW4gQXJyYXlCdWZmZXI6CgoKICAgICAgICBhcnJheUJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7CiAgICAgICAgaW50QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICBpbnRBcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTsKICAgICAgICB9IC8vIFdyaXRlIHRoZSBBcnJheUJ1ZmZlciAob3IgQXJyYXlCdWZmZXJWaWV3KSB0byBhIGJsb2I6CgoKICAgICAgICBpZiAoaGFzQmxvYkNvbnN0cnVjdG9yKSB7CiAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW2hhc0FycmF5QnVmZmVyVmlld1N1cHBvcnQgPyBpbnRBcnJheSA6IGFycmF5QnVmZmVyXSwgewogICAgICAgICAgICB0eXBlOiBtZWRpYVR5cGUKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTsKICAgICAgICBiYi5hcHBlbmQoYXJyYXlCdWZmZXIpOwogICAgICAgIHJldHVybiBiYi5nZXRCbG9iKG1lZGlhVHlwZSk7CiAgICAgIH07CgogICAgICBpZiAod2luZG93LkhUTUxDYW52YXNFbGVtZW50ICYmICFDYW52YXNQcm90b3R5cGUudG9CbG9iKSB7CiAgICAgICAgaWYgKENhbnZhc1Byb3RvdHlwZS5tb3pHZXRBc0ZpbGUpIHsKICAgICAgICAgIENhbnZhc1Byb3RvdHlwZS50b0Jsb2IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHR5cGUsIHF1YWxpdHkpIHsKICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAocXVhbGl0eSAmJiBDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkx0b0Jsb2Ioc2VsZi50b0RhdGFVUkwodHlwZSwgcXVhbGl0eSkpKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZi5tb3pHZXRBc0ZpbGUoJ2Jsb2InLCB0eXBlKSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIGlmIChDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHsKICAgICAgICAgIGlmIChDYW52YXNQcm90b3R5cGUubXNUb0Jsb2IpIHsKICAgICAgICAgICAgQ2FudmFzUHJvdG90eXBlLnRvQmxvYiA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdHlwZSwgcXVhbGl0eSkgewogICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmICgodHlwZSAmJiB0eXBlICE9PSAnaW1hZ2UvcG5nJyB8fCBxdWFsaXR5KSAmJiBDYW52YXNQcm90b3R5cGUudG9EYXRhVVJMICYmIGRhdGFVUkx0b0Jsb2IpIHsKICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZi5tc1RvQmxvYih0eXBlKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBDYW52YXNQcm90b3R5cGUudG9CbG9iID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7CiAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YVVSTHRvQmxvYihzZWxmLnRvRGF0YVVSTCh0eXBlLCBxdWFsaXR5KSkpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkYXRhVVJMdG9CbG9iOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5kYXRhVVJMdG9CbG9iID0gZGF0YVVSTHRvQmxvYjsKICAgICAgfQogICAgfSkod2luZG93KTsKICB9KShjYW52YXNUb0Jsb2IpOwoKICB2YXIgdG9CbG9iID0gY2FudmFzVG9CbG9iLmV4cG9ydHM7CgogIHZhciBpc0Jsb2IgPSBmdW5jdGlvbiBpc0Jsb2IodmFsdWUpIHsKICAgIGlmICh0eXBlb2YgQmxvYiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQmxvYl0nOwogIH07CgogIHZhciBERUZBVUxUUyA9IHsKICAgIC8qKgogICAgICogSW5kaWNhdGVzIGlmIG91dHB1dCB0aGUgb3JpZ2luYWwgaW1hZ2UgaW5zdGVhZCBvZiB0aGUgY29tcHJlc3NlZCBvbmUKICAgICAqIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvbXByZXNzZWQgaW1hZ2UgaXMgZ3JlYXRlciB0aGFuIHRoZSBvcmlnaW5hbCBvbmUncwogICAgICogQHR5cGUge2Jvb2xlYW59CiAgICAgKi8KICAgIHN0cmljdDogdHJ1ZSwKCiAgICAvKioKICAgICAqIEluZGljYXRlcyBpZiByZWFkIHRoZSBpbWFnZSdzIEV4aWYgT3JpZW50YXRpb24gaW5mb3JtYXRpb24sCiAgICAgKiBhbmQgdGhlbiByb3RhdGUgb3IgZmxpcCB0aGUgaW1hZ2UgYXV0b21hdGljYWxseS4KICAgICAqIEB0eXBlIHtib29sZWFufQogICAgICovCiAgICBjaGVja09yaWVudGF0aW9uOiB0cnVlLAoKICAgIC8qKgogICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGUgb3V0cHV0IGltYWdlLgogICAgICogQHR5cGUge251bWJlcn0KICAgICAqLwogICAgbWF4V2lkdGg6IEluZmluaXR5LAoKICAgIC8qKgogICAgICogVGhlIG1heCBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS4KICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgKi8KICAgIG1heEhlaWdodDogSW5maW5pdHksCgogICAgLyoqCiAgICAgKiBUaGUgbWluIHdpZHRoIG9mIHRoZSBvdXRwdXQgaW1hZ2UuCiAgICAgKiBAdHlwZSB7bnVtYmVyfQogICAgICovCiAgICBtaW5XaWR0aDogMCwKCiAgICAvKioKICAgICAqIFRoZSBtaW4gaGVpZ2h0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuCiAgICAgKiBAdHlwZSB7bnVtYmVyfQogICAgICovCiAgICBtaW5IZWlnaHQ6IDAsCgogICAgLyoqCiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG91dHB1dCBpbWFnZS4KICAgICAqIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBuYXR1cmFsIHdpZHRoIG9mIHRoZSBzb3VyY2UgaW1hZ2Ugd2lsbCBiZSB1c2VkLgogICAgICogQHR5cGUge251bWJlcn0KICAgICAqLwogICAgd2lkdGg6IHVuZGVmaW5lZCwKCiAgICAvKioKICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG91dHB1dCBpbWFnZS4KICAgICAqIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBuYXR1cmFsIGhlaWdodCBvZiB0aGUgc291cmNlIGltYWdlIHdpbGwgYmUgdXNlZC4KICAgICAqIEB0eXBlIHtudW1iZXJ9CiAgICAgKi8KICAgIGhlaWdodDogdW5kZWZpbmVkLAoKICAgIC8qKgogICAgICogU2V0cyBob3cgdGhlIHNpemUgb2YgdGhlIGltYWdlIHNob3VsZCBiZSByZXNpemVkIHRvIHRoZSBjb250YWluZXIKICAgICAqIHNwZWNpZmllZCBieSB0aGUgYHdpZHRoYCBhbmQgYGhlaWdodGAgb3B0aW9ucy4KICAgICAqIEB0eXBlIHtzdHJpbmd9CiAgICAgKi8KICAgIHJlc2l6ZTogJ25vbmUnLAoKICAgIC8qKgogICAgICogVGhlIHF1YWxpdHkgb2YgdGhlIG91dHB1dCBpbWFnZS4KICAgICAqIEl0IG11c3QgYmUgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIGAxYCwKICAgICAqIGFuZCBvbmx5IGF2YWlsYWJsZSBmb3IgYGltYWdlL2pwZWdgIGFuZCBgaW1hZ2Uvd2VicGAgaW1hZ2VzLgogICAgICogQ2hlY2sgb3V0IHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvdG9CbG9iIGNhbnZhcy50b0Jsb2J9LgogICAgICogQHR5cGUge251bWJlcn0KICAgICAqLwogICAgcXVhbGl0eTogMC44LAoKICAgIC8qKgogICAgICogVGhlIG1pbWUgdHlwZSBvZiB0aGUgb3V0cHV0IGltYWdlLgogICAgICogQnkgZGVmYXVsdCwgdGhlIG9yaWdpbmFsIG1pbWUgdHlwZSBvZiB0aGUgc291cmNlIGltYWdlIGZpbGUgd2lsbCBiZSB1c2VkLgogICAgICogQHR5cGUge3N0cmluZ30KICAgICAqLwogICAgbWltZVR5cGU6ICdhdXRvJywKCiAgICAvKioKICAgICAqIEZpbGVzIHdob3NlIGZpbGUgdHlwZSBpcyBpbmNsdWRlZCBpbiB0aGlzIGxpc3QsCiAgICAgKiBhbmQgd2hvc2UgZmlsZSBzaXplIGV4Y2VlZHMgdGhlIGBjb252ZXJ0U2l6ZWAgdmFsdWUgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gSlBFR3MuCiAgICAgKiBAdHlwZSB7c3RyaW5n772cQXJyYXl9CiAgICAgKi8KICAgIGNvbnZlcnRUeXBlczogWydpbWFnZS9wbmcnXSwKCiAgICAvKioKICAgICAqIFBORyBmaWxlcyBvdmVyIHRoaXMgc2l6ZSAoNSBNQiBieSBkZWZhdWx0KSB3aWxsIGJlIGNvbnZlcnRlZCB0byBKUEVHcy4KICAgICAqIFRvIGRpc2FibGUgdGhpcywganVzdCBzZXQgdGhlIHZhbHVlIHRvIGBJbmZpbml0eWAuCiAgICAgKiBAdHlwZSB7bnVtYmVyfQogICAgICovCiAgICBjb252ZXJ0U2l6ZTogNTAwMDAwMCwKCiAgICAvKioKICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYmVmb3JlIGRyYXcgdGhlIGltYWdlIGludG8gdGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uCiAgICAgKiBAdHlwZSB7RnVuY3Rpb259CiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCAtIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBvZiB0aGUgY2FudmFzLgogICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gVGhlIGNhbnZhcyBmb3IgY29tcHJlc3Npb24uCiAgICAgKiBAZXhhbXBsZQogICAgICogZnVuY3Rpb24gKGNvbnRleHQsIGNhbnZhcykgewogICAgICogICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJzsKICAgICAqIH0KICAgICAqLwogICAgYmVmb3JlRHJhdzogbnVsbCwKCiAgICAvKioKICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgYWZ0ZXIgZHJldyB0aGUgaW1hZ2UgaW50byB0aGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi4KICAgICAqIEB0eXBlIHtGdW5jdGlvbn0KICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IC0gVGhlIDJkIHJlbmRlcmluZyBjb250ZXh0IG9mIHRoZSBjYW52YXMuCiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGZvciBjb21wcmVzc2lvbi4KICAgICAqIEBleGFtcGxlCiAgICAgKiBmdW5jdGlvbiAoY29udGV4dCwgY2FudmFzKSB7CiAgICAgKiAgIGNvbnRleHQuZmlsdGVyID0gJ2dyYXlzY2FsZSgxMDAlKSc7CiAgICAgKiB9CiAgICAgKi8KICAgIGRyZXc6IG51bGwsCgogICAgLyoqCiAgICAgKiBUaGUgaG9vayBmdW5jdGlvbiB0byBleGVjdXRlIHdoZW4gc3VjY2VzcyB0byBjb21wcmVzcyB0aGUgaW1hZ2UuCiAgICAgKiBAdHlwZSB7RnVuY3Rpb259CiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgLSBUaGUgY29tcHJlc3NlZCBpbWFnZSBGaWxlIG9iamVjdC4KICAgICAqIEBleGFtcGxlCiAgICAgKiBmdW5jdGlvbiAoZmlsZSkgewogICAgICogICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAqIH0KICAgICAqLwogICAgc3VjY2VzczogbnVsbCwKCiAgICAvKioKICAgICAqIFRoZSBob29rIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgd2hlbiBmYWlsIHRvIGNvbXByZXNzIHRoZSBpbWFnZS4KICAgICAqIEB0eXBlIHtGdW5jdGlvbn0KICAgICAqIEBwYXJhbSB7RXJyb3J9IGVyciAtIEFuIEVycm9yIG9iamVjdC4KICAgICAqIEBleGFtcGxlCiAgICAgKiBmdW5jdGlvbiAoZXJyKSB7CiAgICAgKiAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTsKICAgICAqIH0KICAgICAqLwogICAgZXJyb3I6IG51bGwKICB9OwoKICB2YXIgSVNfQlJPV1NFUiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnOwogIHZhciBXSU5ET1cgPSBJU19CUk9XU0VSID8gd2luZG93IDoge307CgogIC8qKgogICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIHBvc2l0aXZlIG51bWJlci4KICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNoZWNrLgogICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBwb3NpdGl2ZSBudW1iZXIsIGVsc2UgYGZhbHNlYC4KICAgKi8KCiAgdmFyIGlzUG9zaXRpdmVOdW1iZXIgPSBmdW5jdGlvbiBpc1Bvc2l0aXZlTnVtYmVyKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWUgPiAwICYmIHZhbHVlIDwgSW5maW5pdHk7CiAgfTsKICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7CiAgLyoqCiAgICogQ29udmVydCBhcnJheS1saWtlIG9yIGl0ZXJhYmxlIG9iamVjdCB0byBhbiBhcnJheS4KICAgKiBAcGFyYW0geyp9IHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvbnZlcnQuCiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5LgogICAqLwoKICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7CiAgICByZXR1cm4gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odmFsdWUpIDogc2xpY2UuY2FsbCh2YWx1ZSk7CiAgfQogIHZhciBSRUdFWFBfSU1BR0VfVFlQRSA9IC9eaW1hZ2VcLy4rJC87CiAgLyoqCiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIHZhbHVlIGlzIGEgbWltZSB0eXBlIG9mIGltYWdlLgogICAqIEBwYXJhbSB7Kn0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBnaXZlbiBpcyBhIG1pbWUgdHlwZSBvZiBpbWFnZSwgZWxzZSBgZmFsc2VgLgogICAqLwoKICBmdW5jdGlvbiBpc0ltYWdlVHlwZSh2YWx1ZSkgewogICAgcmV0dXJuIFJFR0VYUF9JTUFHRV9UWVBFLnRlc3QodmFsdWUpOwogIH0KICAvKioKICAgKiBDb252ZXJ0IGltYWdlIHR5cGUgdG8gZXh0ZW5zaW9uLgogICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBpbWFnZSB0eXBlIHRvIGNvbnZlcnQuCiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdGhlIGltYWdlIGV4dGVuc2lvbi4KICAgKi8KCiAgZnVuY3Rpb24gaW1hZ2VUeXBlVG9FeHRlbnNpb24odmFsdWUpIHsKICAgIHZhciBleHRlbnNpb24gPSBpc0ltYWdlVHlwZSh2YWx1ZSkgPyB2YWx1ZS5zdWJzdHIoNikgOiAnJzsKCiAgICBpZiAoZXh0ZW5zaW9uID09PSAnanBlZycpIHsKICAgICAgZXh0ZW5zaW9uID0gJ2pwZyc7CiAgICB9CgogICAgcmV0dXJuICIuIi5jb25jYXQoZXh0ZW5zaW9uKTsKICB9CiAgdmFyIGZyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7CiAgLyoqCiAgICogR2V0IHN0cmluZyBmcm9tIGNoYXIgY29kZSBpbiBkYXRhIHZpZXcuCiAgICogQHBhcmFtIHtEYXRhVmlld30gZGF0YVZpZXcgLSBUaGUgZGF0YSB2aWV3IGZvciByZWFkLgogICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFRoZSBzdGFydCBpbmRleC4KICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIHJlYWQgbGVuZ3RoLgogICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZWFkIHJlc3VsdC4KICAgKi8KCiAgZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBzdGFydCwgbGVuZ3RoKSB7CiAgICB2YXIgc3RyID0gJyc7CiAgICB2YXIgaTsKICAgIGxlbmd0aCArPSBzdGFydDsKCiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7CiAgICAgIHN0ciArPSBmcm9tQ2hhckNvZGUoZGF0YVZpZXcuZ2V0VWludDgoaSkpOwogICAgfQoKICAgIHJldHVybiBzdHI7CiAgfQogIHZhciBidG9hID0gV0lORE9XLmJ0b2E7CiAgLyoqCiAgICogVHJhbnNmb3JtIGFycmF5IGJ1ZmZlciB0byBEYXRhIFVSTC4KICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gdHJhbnNmb3JtLgogICAqIEBwYXJhbSB7c3RyaW5nfSBtaW1lVHlwZSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIERhdGEgVVJMLgogICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgRGF0YSBVUkwuCiAgICovCgogIGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9EYXRhVVJMKGFycmF5QnVmZmVyLCBtaW1lVHlwZSkgewogICAgdmFyIGNodW5rcyA9IFtdOwogICAgdmFyIGNodW5rU2l6ZSA9IDgxOTI7CiAgICB2YXIgdWludDggPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcik7CgogICAgd2hpbGUgKHVpbnQ4Lmxlbmd0aCA+IDApIHsKICAgICAgLy8gWFhYOiBCYWJlbCdzIGB0b0NvbnN1bWFibGVBcnJheWAgaGVscGVyIHdpbGwgdGhyb3cgZXJyb3IgaW4gSUUgb3IgU2FmYXJpIDkKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWQKICAgICAgY2h1bmtzLnB1c2goZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHRvQXJyYXkodWludDguc3ViYXJyYXkoMCwgY2h1bmtTaXplKSkpKTsKICAgICAgdWludDggPSB1aW50OC5zdWJhcnJheShjaHVua1NpemUpOwogICAgfQoKICAgIHJldHVybiAiZGF0YToiLmNvbmNhdChtaW1lVHlwZSwgIjtiYXNlNjQsIikuY29uY2F0KGJ0b2EoY2h1bmtzLmpvaW4oJycpKSk7CiAgfQogIC8qKgogICAqIEdldCBvcmllbnRhdGlvbiB2YWx1ZSBmcm9tIGdpdmVuIGFycmF5IGJ1ZmZlci4KICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciAtIFRoZSBhcnJheSBidWZmZXIgdG8gcmVhZC4KICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmVhZCBvcmllbnRhdGlvbiB2YWx1ZS4KICAgKi8KCiAgZnVuY3Rpb24gcmVzZXRBbmRHZXRPcmllbnRhdGlvbihhcnJheUJ1ZmZlcikgewogICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTsKICAgIHZhciBvcmllbnRhdGlvbjsgLy8gSWdub3JlcyByYW5nZSBlcnJvciB3aGVuIHRoZSBpbWFnZSBkb2VzIG5vdCBoYXZlIGNvcnJlY3QgRXhpZiBpbmZvcm1hdGlvbgoKICAgIHRyeSB7CiAgICAgIHZhciBsaXR0bGVFbmRpYW47CiAgICAgIHZhciBhcHAxU3RhcnQ7CiAgICAgIHZhciBpZmRTdGFydDsgLy8gT25seSBoYW5kbGUgSlBFRyBpbWFnZSAoc3RhcnQgYnkgMHhGRkQ4KQoKICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQ4KDApID09PSAweEZGICYmIGRhdGFWaWV3LmdldFVpbnQ4KDEpID09PSAweEQ4KSB7CiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGFWaWV3LmJ5dGVMZW5ndGg7CiAgICAgICAgdmFyIG9mZnNldCA9IDI7CgogICAgICAgIHdoaWxlIChvZmZzZXQgKyAxIDwgbGVuZ3RoKSB7CiAgICAgICAgICBpZiAoZGF0YVZpZXcuZ2V0VWludDgob2Zmc2V0KSA9PT0gMHhGRiAmJiBkYXRhVmlldy5nZXRVaW50OChvZmZzZXQgKyAxKSA9PT0gMHhFMSkgewogICAgICAgICAgICBhcHAxU3RhcnQgPSBvZmZzZXQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIG9mZnNldCArPSAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGFwcDFTdGFydCkgewogICAgICAgIHZhciBleGlmSURDb2RlID0gYXBwMVN0YXJ0ICsgNDsKICAgICAgICB2YXIgdGlmZk9mZnNldCA9IGFwcDFTdGFydCArIDEwOwoKICAgICAgICBpZiAoZ2V0U3RyaW5nRnJvbUNoYXJDb2RlKGRhdGFWaWV3LCBleGlmSURDb2RlLCA0KSA9PT0gJ0V4aWYnKSB7CiAgICAgICAgICB2YXIgZW5kaWFubmVzcyA9IGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0KTsKICAgICAgICAgIGxpdHRsZUVuZGlhbiA9IGVuZGlhbm5lc3MgPT09IDB4NDk0OTsKCiAgICAgICAgICBpZiAobGl0dGxlRW5kaWFuIHx8IGVuZGlhbm5lc3MgPT09IDB4NEQ0RAogICAgICAgICAgLyogYmlnRW5kaWFuICovCiAgICAgICAgICApIHsKICAgICAgICAgICAgaWYgKGRhdGFWaWV3LmdldFVpbnQxNih0aWZmT2Zmc2V0ICsgMiwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMDJBKSB7CiAgICAgICAgICAgICAgdmFyIGZpcnN0SUZET2Zmc2V0ID0gZGF0YVZpZXcuZ2V0VWludDMyKHRpZmZPZmZzZXQgKyA0LCBsaXR0bGVFbmRpYW4pOwoKICAgICAgICAgICAgICBpZiAoZmlyc3RJRkRPZmZzZXQgPj0gMHgwMDAwMDAwOCkgewogICAgICAgICAgICAgICAgaWZkU3RhcnQgPSB0aWZmT2Zmc2V0ICsgZmlyc3RJRkRPZmZzZXQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaWZkU3RhcnQpIHsKICAgICAgICB2YXIgX2xlbmd0aCA9IGRhdGFWaWV3LmdldFVpbnQxNihpZmRTdGFydCwgbGl0dGxlRW5kaWFuKTsKCiAgICAgICAgdmFyIF9vZmZzZXQ7CgogICAgICAgIHZhciBpOwoKICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX2xlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgICBfb2Zmc2V0ID0gaWZkU3RhcnQgKyBpICogMTIgKyAyOwoKICAgICAgICAgIGlmIChkYXRhVmlldy5nZXRVaW50MTYoX29mZnNldCwgbGl0dGxlRW5kaWFuKSA9PT0gMHgwMTEyCiAgICAgICAgICAvKiBPcmllbnRhdGlvbiAqLwogICAgICAgICAgKSB7CiAgICAgICAgICAgIC8vIDggaXMgdGhlIG9mZnNldCBvZiB0aGUgY3VycmVudCB0YWcncyB2YWx1ZQogICAgICAgICAgICBfb2Zmc2V0ICs9IDg7IC8vIEdldCB0aGUgb3JpZ2luYWwgb3JpZW50YXRpb24gdmFsdWUKCiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gZGF0YVZpZXcuZ2V0VWludDE2KF9vZmZzZXQsIGxpdHRsZUVuZGlhbik7IC8vIE92ZXJyaWRlIHRoZSBvcmllbnRhdGlvbiB3aXRoIGl0cyBkZWZhdWx0IHZhbHVlCgogICAgICAgICAgICBkYXRhVmlldy5zZXRVaW50MTYoX29mZnNldCwgMSwgbGl0dGxlRW5kaWFuKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIG9yaWVudGF0aW9uID0gMTsKICAgIH0KCiAgICByZXR1cm4gb3JpZW50YXRpb247CiAgfQogIC8qKgogICAqIFBhcnNlIEV4aWYgT3JpZW50YXRpb24gdmFsdWUuCiAgICogQHBhcmFtIHtudW1iZXJ9IG9yaWVudGF0aW9uIC0gVGhlIG9yaWVudGF0aW9uIHRvIHBhcnNlLgogICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBwYXJzZWQgcmVzdWx0LgogICAqLwoKICBmdW5jdGlvbiBwYXJzZU9yaWVudGF0aW9uKG9yaWVudGF0aW9uKSB7CiAgICB2YXIgcm90YXRlID0gMDsKICAgIHZhciBzY2FsZVggPSAxOwogICAgdmFyIHNjYWxlWSA9IDE7CgogICAgc3dpdGNoIChvcmllbnRhdGlvbikgewogICAgICAvLyBGbGlwIGhvcml6b250YWwKICAgICAgY2FzZSAyOgogICAgICAgIHNjYWxlWCA9IC0xOwogICAgICAgIGJyZWFrOwogICAgICAvLyBSb3RhdGUgbGVmdCAxODDCsAoKICAgICAgY2FzZSAzOgogICAgICAgIHJvdGF0ZSA9IC0xODA7CiAgICAgICAgYnJlYWs7CiAgICAgIC8vIEZsaXAgdmVydGljYWwKCiAgICAgIGNhc2UgNDoKICAgICAgICBzY2FsZVkgPSAtMTsKICAgICAgICBicmVhazsKICAgICAgLy8gRmxpcCB2ZXJ0aWNhbCBhbmQgcm90YXRlIHJpZ2h0IDkwwrAKCiAgICAgIGNhc2UgNToKICAgICAgICByb3RhdGUgPSA5MDsKICAgICAgICBzY2FsZVkgPSAtMTsKICAgICAgICBicmVhazsKICAgICAgLy8gUm90YXRlIHJpZ2h0IDkwwrAKCiAgICAgIGNhc2UgNjoKICAgICAgICByb3RhdGUgPSA5MDsKICAgICAgICBicmVhazsKICAgICAgLy8gRmxpcCBob3Jpem9udGFsIGFuZCByb3RhdGUgcmlnaHQgOTDCsAoKICAgICAgY2FzZSA3OgogICAgICAgIHJvdGF0ZSA9IDkwOwogICAgICAgIHNjYWxlWCA9IC0xOwogICAgICAgIGJyZWFrOwogICAgICAvLyBSb3RhdGUgbGVmdCA5MMKwCgogICAgICBjYXNlIDg6CiAgICAgICAgcm90YXRlID0gLTkwOwogICAgICAgIGJyZWFrOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHJvdGF0ZTogcm90YXRlLAogICAgICBzY2FsZVg6IHNjYWxlWCwKICAgICAgc2NhbGVZOiBzY2FsZVkKICAgIH07CiAgfQogIHZhciBSRUdFWFBfREVDSU1BTFMgPSAvXC5cZCooPzowfDkpezEyfVxkKiQvOwogIC8qKgogICAqIE5vcm1hbGl6ZSBkZWNpbWFsIG51bWJlci4KICAgKiBDaGVjayBvdXQge0BsaW5rIGh0dHBzOi8vMC4zMDAwMDAwMDAwMDAwMDAwNC5jb20vfQogICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBub3JtYWxpemUuCiAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lcz0xMDAwMDAwMDAwMDBdIC0gVGhlIHRpbWVzIGZvciBub3JtYWxpemluZy4KICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBub3JtYWxpemVkIG51bWJlci4KICAgKi8KCiAgZnVuY3Rpb24gbm9ybWFsaXplRGVjaW1hbE51bWJlcih2YWx1ZSkgewogICAgdmFyIHRpbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwMDAwMDAwMDA7CiAgICByZXR1cm4gUkVHRVhQX0RFQ0lNQUxTLnRlc3QodmFsdWUpID8gTWF0aC5yb3VuZCh2YWx1ZSAqIHRpbWVzKSAvIHRpbWVzIDogdmFsdWU7CiAgfQogIC8qKgogICAqIEdldCB0aGUgbWF4IHNpemVzIGluIGEgcmVjdGFuZ2xlIHVuZGVyIHRoZSBnaXZlbiBhc3BlY3QgcmF0aW8uCiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgb3JpZ2luYWwgc2l6ZXMuCiAgICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlPSdjb250YWluJ10gLSBUaGUgYWRqdXN0IHR5cGUuCiAgICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdCBzaXplcy4KICAgKi8KCiAgZnVuY3Rpb24gZ2V0QWRqdXN0ZWRTaXplcyhfcmVmKSB7CiAgICB2YXIgYXNwZWN0UmF0aW8gPSBfcmVmLmFzcGVjdFJhdGlvLAogICAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LAogICAgICAgIHdpZHRoID0gX3JlZi53aWR0aDsKICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnbm9uZSc7CiAgICB2YXIgaXNWYWxpZFdpZHRoID0gaXNQb3NpdGl2ZU51bWJlcih3aWR0aCk7CiAgICB2YXIgaXNWYWxpZEhlaWdodCA9IGlzUG9zaXRpdmVOdW1iZXIoaGVpZ2h0KTsKCiAgICBpZiAoaXNWYWxpZFdpZHRoICYmIGlzVmFsaWRIZWlnaHQpIHsKICAgICAgdmFyIGFkanVzdGVkV2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbzsKCiAgICAgIGlmICgodHlwZSA9PT0gJ2NvbnRhaW4nIHx8IHR5cGUgPT09ICdub25lJykgJiYgYWRqdXN0ZWRXaWR0aCA+IHdpZHRoIHx8IHR5cGUgPT09ICdjb3ZlcicgJiYgYWRqdXN0ZWRXaWR0aCA8IHdpZHRoKSB7CiAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbzsKICAgICAgfSBlbHNlIHsKICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGlzVmFsaWRXaWR0aCkgewogICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvOwogICAgfSBlbHNlIGlmIChpc1ZhbGlkSGVpZ2h0KSB7CiAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgd2lkdGg6IHdpZHRoLAogICAgICBoZWlnaHQ6IGhlaWdodAogICAgfTsKICB9CgogIHZhciBBcnJheUJ1ZmZlciQxID0gV0lORE9XLkFycmF5QnVmZmVyLAogICAgICBGaWxlUmVhZGVyID0gV0lORE9XLkZpbGVSZWFkZXI7CiAgdmFyIFVSTCA9IFdJTkRPVy5VUkwgfHwgV0lORE9XLndlYmtpdFVSTDsKICB2YXIgUkVHRVhQX0VYVEVOU0lPTiA9IC9cLlx3KyQvOwogIHZhciBBbm90aGVyQ29tcHJlc3NvciA9IFdJTkRPVy5Db21wcmVzc29yOwogIC8qKgogICAqIENyZWF0ZXMgYSBuZXcgaW1hZ2UgY29tcHJlc3Nvci4KICAgKiBAY2xhc3MKICAgKi8KCiAgdmFyIENvbXByZXNzb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgLyoqCiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgQ29tcHJlc3Nvci4KICAgICAqIEBwYXJhbSB7RmlsZXxCbG9ifSBmaWxlIC0gVGhlIHRhcmdldCBpbWFnZSBmaWxlIGZvciBjb21wcmVzc2luZy4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgY29tcHJlc3NpbmcuCiAgICAgKi8KICAgIGZ1bmN0aW9uIENvbXByZXNzb3IoZmlsZSwgb3B0aW9ucykgewogICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcHJlc3Nvcik7CgogICAgICB0aGlzLmZpbGUgPSBmaWxlOwogICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7CiAgICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBERUZBVUxUUyksIG9wdGlvbnMpOwogICAgICB0aGlzLmFib3J0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5yZXN1bHQgPSBudWxsOwogICAgICB0aGlzLmluaXQoKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoQ29tcHJlc3NvciwgW3sKICAgICAga2V5OiAiaW5pdCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLAogICAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zOwoKICAgICAgICBpZiAoIWlzQmxvYihmaWxlKSkgewogICAgICAgICAgdGhpcy5mYWlsKG5ldyBFcnJvcignVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBGaWxlIG9yIEJsb2Igb2JqZWN0LicpKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBtaW1lVHlwZSA9IGZpbGUudHlwZTsKCiAgICAgICAgaWYgKCFpc0ltYWdlVHlwZShtaW1lVHlwZSkpIHsKICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIEZpbGUgb3IgQmxvYiBvYmplY3QuJykpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFVUkwgfHwgIUZpbGVSZWFkZXIpIHsKICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjdXJyZW50IGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBpbWFnZSBjb21wcmVzc2lvbi4nKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIUFycmF5QnVmZmVyJDEpIHsKICAgICAgICAgIG9wdGlvbnMuY2hlY2tPcmllbnRhdGlvbiA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKFVSTCAmJiAhb3B0aW9ucy5jaGVja09yaWVudGF0aW9uKSB7CiAgICAgICAgICB0aGlzLmxvYWQoewogICAgICAgICAgICB1cmw6IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgIHZhciBjaGVja09yaWVudGF0aW9uID0gb3B0aW9ucy5jaGVja09yaWVudGF0aW9uICYmIG1pbWVUeXBlID09PSAnaW1hZ2UvanBlZyc7CiAgICAgICAgICB0aGlzLnJlYWRlciA9IHJlYWRlcjsKCiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0OwogICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7fTsKCiAgICAgICAgICAgIGlmIChjaGVja09yaWVudGF0aW9uKSB7CiAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIG9yaWVudGF0aW9uIHZhbHVlIHRvIGl0cyBkZWZhdWx0IHZhbHVlIDEKICAgICAgICAgICAgICAvLyBhcyBzb21lIGlPUyBicm93c2VycyB3aWxsIHJlbmRlciBpbWFnZSB3aXRoIGl0cyBvcmllbnRhdGlvbgogICAgICAgICAgICAgIHZhciBvcmllbnRhdGlvbiA9IHJlc2V0QW5kR2V0T3JpZW50YXRpb24ocmVzdWx0KTsKCiAgICAgICAgICAgICAgaWYgKG9yaWVudGF0aW9uID4gMSB8fCAhVVJMKSB7CiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBVUkwgd2hpY2ggaGFzIHRoZSBkZWZhdWx0IG9yaWVudGF0aW9uIHZhbHVlCiAgICAgICAgICAgICAgICBkYXRhLnVybCA9IGFycmF5QnVmZmVyVG9EYXRhVVJMKHJlc3VsdCwgbWltZVR5cGUpOwoKICAgICAgICAgICAgICAgIGlmIChvcmllbnRhdGlvbiA+IDEpIHsKICAgICAgICAgICAgICAgICAgX2V4dGVuZHMoZGF0YSwgcGFyc2VPcmllbnRhdGlvbihvcmllbnRhdGlvbikpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkYXRhLnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGRhdGEudXJsID0gcmVzdWx0OwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpcy5sb2FkKGRhdGEpOwogICAgICAgICAgfTsKCiAgICAgICAgICByZWFkZXIub25hYm9ydCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMuZmFpbChuZXcgRXJyb3IoJ0Fib3J0ZWQgdG8gcmVhZCB0aGUgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gcmVhZCB0aGUgaW1hZ2Ugd2l0aCBGaWxlUmVhZGVyLicpKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMucmVhZGVyID0gbnVsbDsKICAgICAgICAgIH07CgogICAgICAgICAgaWYgKGNoZWNrT3JpZW50YXRpb24pIHsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImxvYWQiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZChkYXRhKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHZhciBmaWxlID0gdGhpcy5maWxlLAogICAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2U7CgogICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5kcmF3KF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkYXRhKSwge30sIHsKICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiBpbWFnZS5uYXR1cmFsV2lkdGgsCiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQ6IGltYWdlLm5hdHVyYWxIZWlnaHQKICAgICAgICAgIH0pKTsKICAgICAgICB9OwoKICAgICAgICBpbWFnZS5vbmFib3J0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmZhaWwobmV3IEVycm9yKCdBYm9ydGVkIHRvIGxvYWQgdGhlIGltYWdlLicpKTsKICAgICAgICB9OwoKICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmZhaWwobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCB0aGUgaW1hZ2UuJykpOwogICAgICAgIH07IC8vIE1hdGNoIGFsbCBicm93c2VycyB0aGF0IHVzZSBXZWJLaXQgYXMgdGhlIGxheW91dCBlbmdpbmUgaW4gaU9TIGRldmljZXMsCiAgICAgICAgLy8gc3VjaCBhcyBTYWZhcmkgZm9yIGlPUywgQ2hyb21lIGZvciBpT1MsIGFuZCBpbi1hcHAgYnJvd3NlcnMuCgoKICAgICAgICBpZiAoV0lORE9XLm5hdmlnYXRvciAmJiAvKD86aVBhZHxpUGhvbmV8aVBvZCkuKj9BcHBsZVdlYktpdC9pLnRlc3QoV0lORE9XLm5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgICAgICAvLyBGaXggdGhlIGBUaGUgb3BlcmF0aW9uIGlzIGluc2VjdXJlYCBlcnJvciAoIzU3KQogICAgICAgICAgaW1hZ2UuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJzsKICAgICAgICB9CgogICAgICAgIGltYWdlLmFsdCA9IGZpbGUubmFtZTsKICAgICAgICBpbWFnZS5zcmMgPSBkYXRhLnVybDsKICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJkcmF3IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXcoX3JlZjIpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIG5hdHVyYWxXaWR0aCA9IF9yZWYyLm5hdHVyYWxXaWR0aCwKICAgICAgICAgICAgbmF0dXJhbEhlaWdodCA9IF9yZWYyLm5hdHVyYWxIZWlnaHQsCiAgICAgICAgICAgIF9yZWYyJHJvdGF0ZSA9IF9yZWYyLnJvdGF0ZSwKICAgICAgICAgICAgcm90YXRlID0gX3JlZjIkcm90YXRlID09PSB2b2lkIDAgPyAwIDogX3JlZjIkcm90YXRlLAogICAgICAgICAgICBfcmVmMiRzY2FsZVggPSBfcmVmMi5zY2FsZVgsCiAgICAgICAgICAgIHNjYWxlWCA9IF9yZWYyJHNjYWxlWCA9PT0gdm9pZCAwID8gMSA6IF9yZWYyJHNjYWxlWCwKICAgICAgICAgICAgX3JlZjIkc2NhbGVZID0gX3JlZjIuc2NhbGVZLAogICAgICAgICAgICBzY2FsZVkgPSBfcmVmMiRzY2FsZVkgPT09IHZvaWQgMCA/IDEgOiBfcmVmMiRzY2FsZVk7CiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsCiAgICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSwKICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgICB2YXIgaXM5MERlZ3JlZXNSb3RhdGVkID0gTWF0aC5hYnMocm90YXRlKSAlIDE4MCA9PT0gOTA7CiAgICAgICAgdmFyIHJlc2l6YWJsZSA9IChvcHRpb25zLnJlc2l6ZSA9PT0gJ2NvbnRhaW4nIHx8IG9wdGlvbnMucmVzaXplID09PSAnY292ZXInKSAmJiBpc1Bvc2l0aXZlTnVtYmVyKG9wdGlvbnMud2lkdGgpICYmIGlzUG9zaXRpdmVOdW1iZXIob3B0aW9ucy5oZWlnaHQpOwogICAgICAgIHZhciBtYXhXaWR0aCA9IE1hdGgubWF4KG9wdGlvbnMubWF4V2lkdGgsIDApIHx8IEluZmluaXR5OwogICAgICAgIHZhciBtYXhIZWlnaHQgPSBNYXRoLm1heChvcHRpb25zLm1heEhlaWdodCwgMCkgfHwgSW5maW5pdHk7CiAgICAgICAgdmFyIG1pbldpZHRoID0gTWF0aC5tYXgob3B0aW9ucy5taW5XaWR0aCwgMCkgfHwgMDsKICAgICAgICB2YXIgbWluSGVpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5taW5IZWlnaHQsIDApIHx8IDA7CiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDsKICAgICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoLAogICAgICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodDsKCiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkgewogICAgICAgICAgdmFyIF9yZWYzID0gW21heEhlaWdodCwgbWF4V2lkdGhdOwogICAgICAgICAgbWF4V2lkdGggPSBfcmVmM1swXTsKICAgICAgICAgIG1heEhlaWdodCA9IF9yZWYzWzFdOwogICAgICAgICAgdmFyIF9yZWY0ID0gW21pbkhlaWdodCwgbWluV2lkdGhdOwogICAgICAgICAgbWluV2lkdGggPSBfcmVmNFswXTsKICAgICAgICAgIG1pbkhlaWdodCA9IF9yZWY0WzFdOwogICAgICAgICAgdmFyIF9yZWY1ID0gW2hlaWdodCwgd2lkdGhdOwogICAgICAgICAgd2lkdGggPSBfcmVmNVswXTsKICAgICAgICAgIGhlaWdodCA9IF9yZWY1WzFdOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc2l6YWJsZSkgewogICAgICAgICAgYXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodDsKICAgICAgICB9CgogICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplcyA9IGdldEFkanVzdGVkU2l6ZXMoewogICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLAogICAgICAgICAgd2lkdGg6IG1heFdpZHRoLAogICAgICAgICAgaGVpZ2h0OiBtYXhIZWlnaHQKICAgICAgICB9LCAnY29udGFpbicpOwoKICAgICAgICBtYXhXaWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzLndpZHRoOwogICAgICAgIG1heEhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzLmhlaWdodDsKCiAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzMiA9IGdldEFkanVzdGVkU2l6ZXMoewogICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLAogICAgICAgICAgd2lkdGg6IG1pbldpZHRoLAogICAgICAgICAgaGVpZ2h0OiBtaW5IZWlnaHQKICAgICAgICB9LCAnY292ZXInKTsKCiAgICAgICAgbWluV2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczIud2lkdGg7CiAgICAgICAgbWluSGVpZ2h0ID0gX2dldEFkanVzdGVkU2l6ZXMyLmhlaWdodDsKCiAgICAgICAgaWYgKHJlc2l6YWJsZSkgewogICAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzMyA9IGdldEFkanVzdGVkU2l6ZXMoewogICAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sCiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQKICAgICAgICAgIH0sIG9wdGlvbnMucmVzaXplKTsKCiAgICAgICAgICB3aWR0aCA9IF9nZXRBZGp1c3RlZFNpemVzMy53aWR0aDsKICAgICAgICAgIGhlaWdodCA9IF9nZXRBZGp1c3RlZFNpemVzMy5oZWlnaHQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczQgPSBnZXRBZGp1c3RlZFNpemVzKHsKICAgICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLAogICAgICAgICAgICB3aWR0aDogd2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgICAgICB9KTsKCiAgICAgICAgICB2YXIgX2dldEFkanVzdGVkU2l6ZXM0JHdpID0gX2dldEFkanVzdGVkU2l6ZXM0LndpZHRoOwogICAgICAgICAgd2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczQkd2kgPT09IHZvaWQgMCA/IG5hdHVyYWxXaWR0aCA6IF9nZXRBZGp1c3RlZFNpemVzNCR3aTsKICAgICAgICAgIHZhciBfZ2V0QWRqdXN0ZWRTaXplczQkaGUgPSBfZ2V0QWRqdXN0ZWRTaXplczQuaGVpZ2h0OwogICAgICAgICAgaGVpZ2h0ID0gX2dldEFkanVzdGVkU2l6ZXM0JGhlID09PSB2b2lkIDAgPyBuYXR1cmFsSGVpZ2h0IDogX2dldEFkanVzdGVkU2l6ZXM0JGhlOwogICAgICAgIH0KCiAgICAgICAgd2lkdGggPSBNYXRoLmZsb29yKG5vcm1hbGl6ZURlY2ltYWxOdW1iZXIoTWF0aC5taW4oTWF0aC5tYXgod2lkdGgsIG1pbldpZHRoKSwgbWF4V2lkdGgpKSk7CiAgICAgICAgaGVpZ2h0ID0gTWF0aC5mbG9vcihub3JtYWxpemVEZWNpbWFsTnVtYmVyKE1hdGgubWluKE1hdGgubWF4KGhlaWdodCwgbWluSGVpZ2h0KSwgbWF4SGVpZ2h0KSkpOwogICAgICAgIHZhciBkZXN0WCA9IC13aWR0aCAvIDI7CiAgICAgICAgdmFyIGRlc3RZID0gLWhlaWdodCAvIDI7CiAgICAgICAgdmFyIGRlc3RXaWR0aCA9IHdpZHRoOwogICAgICAgIHZhciBkZXN0SGVpZ2h0ID0gaGVpZ2h0OwogICAgICAgIHZhciBwYXJhbXMgPSBbXTsKCiAgICAgICAgaWYgKHJlc2l6YWJsZSkgewogICAgICAgICAgdmFyIHNyY1ggPSAwOwogICAgICAgICAgdmFyIHNyY1kgPSAwOwogICAgICAgICAgdmFyIHNyY1dpZHRoID0gbmF0dXJhbFdpZHRoOwogICAgICAgICAgdmFyIHNyY0hlaWdodCA9IG5hdHVyYWxIZWlnaHQ7CgogICAgICAgICAgdmFyIF9nZXRBZGp1c3RlZFNpemVzNSA9IGdldEFkanVzdGVkU2l6ZXMoewogICAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sCiAgICAgICAgICAgIHdpZHRoOiBuYXR1cmFsV2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogbmF0dXJhbEhlaWdodAogICAgICAgICAgfSwgewogICAgICAgICAgICBjb250YWluOiAnY292ZXInLAogICAgICAgICAgICBjb3ZlcjogJ2NvbnRhaW4nCiAgICAgICAgICB9W29wdGlvbnMucmVzaXplXSk7CgogICAgICAgICAgc3JjV2lkdGggPSBfZ2V0QWRqdXN0ZWRTaXplczUud2lkdGg7CiAgICAgICAgICBzcmNIZWlnaHQgPSBfZ2V0QWRqdXN0ZWRTaXplczUuaGVpZ2h0OwogICAgICAgICAgc3JjWCA9IChuYXR1cmFsV2lkdGggLSBzcmNXaWR0aCkgLyAyOwogICAgICAgICAgc3JjWSA9IChuYXR1cmFsSGVpZ2h0IC0gc3JjSGVpZ2h0KSAvIDI7CiAgICAgICAgICBwYXJhbXMucHVzaChzcmNYLCBzcmNZLCBzcmNXaWR0aCwgc3JjSGVpZ2h0KTsKICAgICAgICB9CgogICAgICAgIHBhcmFtcy5wdXNoKGRlc3RYLCBkZXN0WSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KTsKCiAgICAgICAgaWYgKGlzOTBEZWdyZWVzUm90YXRlZCkgewogICAgICAgICAgdmFyIF9yZWY2ID0gW2hlaWdodCwgd2lkdGhdOwogICAgICAgICAgd2lkdGggPSBfcmVmNlswXTsKICAgICAgICAgIGhlaWdodCA9IF9yZWY2WzFdOwogICAgICAgIH0KCiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDsKCiAgICAgICAgaWYgKCFpc0ltYWdlVHlwZShvcHRpb25zLm1pbWVUeXBlKSkgewogICAgICAgICAgb3B0aW9ucy5taW1lVHlwZSA9IGZpbGUudHlwZTsKICAgICAgICB9CgogICAgICAgIHZhciBmaWxsU3R5bGUgPSAndHJhbnNwYXJlbnQnOyAvLyBDb252ZXJ0cyBQTkcgZmlsZXMgb3ZlciB0aGUgYGNvbnZlcnRTaXplYCB0byBKUEVHcy4KCiAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IG9wdGlvbnMuY29udmVydFNpemUgJiYgb3B0aW9ucy5jb252ZXJ0VHlwZXMuaW5kZXhPZihvcHRpb25zLm1pbWVUeXBlKSA+PSAwKSB7CiAgICAgICAgICBvcHRpb25zLm1pbWVUeXBlID0gJ2ltYWdlL2pwZWcnOwogICAgICAgIH0KCiAgICAgICAgaWYgKG9wdGlvbnMubWltZVR5cGUgPT09ICdpbWFnZS9qcGVnJykgewogICAgICAgICAgZmlsbFN0eWxlID0gJyNmZmYnOwogICAgICAgIH0gLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgZmlsbCBjb2xvciAoIzAwMCwgYmxhY2spCgoKICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTsKICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwoKICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVEcmF3KSB7CiAgICAgICAgICBvcHRpb25zLmJlZm9yZURyYXcuY2FsbCh0aGlzLCBjb250ZXh0LCBjYW52YXMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuYWJvcnRlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29udGV4dC5zYXZlKCk7CiAgICAgICAgY29udGV4dC50cmFuc2xhdGUod2lkdGggLyAyLCBoZWlnaHQgLyAyKTsKICAgICAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGUgKiBNYXRoLlBJIC8gMTgwKTsKICAgICAgICBjb250ZXh0LnNjYWxlKHNjYWxlWCwgc2NhbGVZKTsKICAgICAgICBjb250ZXh0LmRyYXdJbWFnZS5hcHBseShjb250ZXh0LCBbaW1hZ2VdLmNvbmNhdChwYXJhbXMpKTsKICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTsKCiAgICAgICAgaWYgKG9wdGlvbnMuZHJldykgewogICAgICAgICAgb3B0aW9ucy5kcmV3LmNhbGwodGhpcywgY29udGV4dCwgY2FudmFzKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBkb25lID0gZnVuY3Rpb24gZG9uZShyZXN1bHQpIHsKICAgICAgICAgIGlmICghX3RoaXMzLmFib3J0ZWQpIHsKICAgICAgICAgICAgX3RoaXMzLmRvbmUoewogICAgICAgICAgICAgIG5hdHVyYWxXaWR0aDogbmF0dXJhbFdpZHRoLAogICAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQ6IG5hdHVyYWxIZWlnaHQsCiAgICAgICAgICAgICAgcmVzdWx0OiByZXN1bHQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKGNhbnZhcy50b0Jsb2IpIHsKICAgICAgICAgIGNhbnZhcy50b0Jsb2IoZG9uZSwgb3B0aW9ucy5taW1lVHlwZSwgb3B0aW9ucy5xdWFsaXR5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9uZSh0b0Jsb2IoY2FudmFzLnRvRGF0YVVSTChvcHRpb25zLm1pbWVUeXBlLCBvcHRpb25zLnF1YWxpdHkpKSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCB7CiAgICAgIGtleTogImRvbmUiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gZG9uZShfcmVmNykgewogICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBfcmVmNy5uYXR1cmFsV2lkdGgsCiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBfcmVmNy5uYXR1cmFsSGVpZ2h0LAogICAgICAgICAgICByZXN1bHQgPSBfcmVmNy5yZXN1bHQ7CiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGUsCiAgICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSwKICAgICAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uczsKCiAgICAgICAgaWYgKFVSTCAmJiAhb3B0aW9ucy5jaGVja09yaWVudGF0aW9uKSB7CiAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGltYWdlLnNyYyk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAvLyBSZXR1cm5zIG9yaWdpbmFsIGZpbGUgaWYgdGhlIHJlc3VsdCBpcyBncmVhdGVyIHRoYW4gaXQgYW5kIHdpdGhvdXQgc2l6ZSByZWxhdGVkIG9wdGlvbnMKICAgICAgICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiByZXN1bHQuc2l6ZSA+IGZpbGUuc2l6ZSAmJiBvcHRpb25zLm1pbWVUeXBlID09PSBmaWxlLnR5cGUgJiYgIShvcHRpb25zLndpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMuaGVpZ2h0ID4gbmF0dXJhbEhlaWdodCB8fCBvcHRpb25zLm1pbldpZHRoID4gbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMubWluSGVpZ2h0ID4gbmF0dXJhbEhlaWdodCB8fCBvcHRpb25zLm1heFdpZHRoIDwgbmF0dXJhbFdpZHRoIHx8IG9wdGlvbnMubWF4SGVpZ2h0IDwgbmF0dXJhbEhlaWdodCkpIHsKICAgICAgICAgICAgcmVzdWx0ID0gZmlsZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgcmVzdWx0Lmxhc3RNb2RpZmllZCA9IGRhdGUuZ2V0VGltZSgpOwogICAgICAgICAgICByZXN1bHQubGFzdE1vZGlmaWVkRGF0ZSA9IGRhdGU7CiAgICAgICAgICAgIHJlc3VsdC5uYW1lID0gZmlsZS5uYW1lOyAvLyBDb252ZXJ0IHRoZSBleHRlbnNpb24gdG8gbWF0Y2ggaXRzIHR5cGUKCiAgICAgICAgICAgIGlmIChyZXN1bHQubmFtZSAmJiByZXN1bHQudHlwZSAhPT0gZmlsZS50eXBlKSB7CiAgICAgICAgICAgICAgcmVzdWx0Lm5hbWUgPSByZXN1bHQubmFtZS5yZXBsYWNlKFJFR0VYUF9FWFRFTlNJT04sIGltYWdlVHlwZVRvRXh0ZW5zaW9uKHJlc3VsdC50eXBlKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gUmV0dXJucyBvcmlnaW5hbCBmaWxlIGlmIHRoZSByZXN1bHQgaXMgbnVsbCBpbiBzb21lIGNhc2VzLgogICAgICAgICAgcmVzdWx0ID0gZmlsZTsKICAgICAgICB9CgogICAgICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0OwoKICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSB7CiAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MuY2FsbCh0aGlzLCByZXN1bHQpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJmYWlsIiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZhaWwoZXJyKSB7CiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7CgogICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICBvcHRpb25zLmVycm9yLmNhbGwodGhpcywgZXJyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhyb3cgZXJyOwogICAgICAgIH0KICAgICAgfQogICAgfSwgewogICAgICBrZXk6ICJhYm9ydCIsCiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHsKICAgICAgICBpZiAoIXRoaXMuYWJvcnRlZCkgewogICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTsKCiAgICAgICAgICBpZiAodGhpcy5yZWFkZXIpIHsKICAgICAgICAgICAgdGhpcy5yZWFkZXIuYWJvcnQoKTsKICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuaW1hZ2UuY29tcGxldGUpIHsKICAgICAgICAgICAgdGhpcy5pbWFnZS5vbmxvYWQgPSBudWxsOwogICAgICAgICAgICB0aGlzLmltYWdlLm9uYWJvcnQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZmFpbChuZXcgRXJyb3IoJ1RoZSBjb21wcmVzc2lvbiBwcm9jZXNzIGhhcyBiZWVuIGFib3J0ZWQuJykpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IHRoZSBubyBjb25mbGljdCBjb21wcmVzc29yIGNsYXNzLgogICAgICAgKiBAcmV0dXJucyB7Q29tcHJlc3Nvcn0gVGhlIGNvbXByZXNzb3IgY2xhc3MuCiAgICAgICAqLwoKICAgIH1dLCBbewogICAgICBrZXk6ICJub0NvbmZsaWN0IiwKICAgICAgdmFsdWU6IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7CiAgICAgICAgd2luZG93LkNvbXByZXNzb3IgPSBBbm90aGVyQ29tcHJlc3NvcjsKICAgICAgICByZXR1cm4gQ29tcHJlc3NvcjsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hhbmdlIHRoZSBkZWZhdWx0IG9wdGlvbnMuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gVGhlIG5ldyBkZWZhdWx0IG9wdGlvbnMuCiAgICAgICAqLwoKICAgIH0sIHsKICAgICAga2V5OiAic2V0RGVmYXVsdHMiLAogICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGVmYXVsdHMob3B0aW9ucykgewogICAgICAgIF9leHRlbmRzKERFRkFVTFRTLCBvcHRpb25zKTsKICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBDb21wcmVzc29yOwogIH0oKTsKCiAgcmV0dXJuIENvbXByZXNzb3I7Cgp9KSk7Cg=="></script>
 <script src="data:application/javascript;base64,d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7DQogIHZhciBWdWUgPSB3aW5kb3cuVnVlOw0KICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMOw0KICB2YXIgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7DQogIHZhciBDb21wcmVzc29yID0gd2luZG93LkNvbXByZXNzb3I7DQoNCiAgVnVlLmNvbXBvbmVudCgnVnVlQ29tcGFyZUltYWdlJywgd2luZG93LnZ1ZUNvbXBhcmVJbWFnZSk7DQoNCiAgbmV3IFZ1ZSh7DQogICAgZWw6ICcjYXBwJywNCg0KICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZhciB2bSA9IHRoaXM7DQoNCiAgICAgIHJldHVybiB7DQogICAgICAgIG9wdGlvbnM6IHsNCiAgICAgICAgICBzdHJpY3Q6IHRydWUsDQogICAgICAgICAgY2hlY2tPcmllbnRhdGlvbjogdHJ1ZSwNCiAgICAgICAgICBtYXhXaWR0aDogdW5kZWZpbmVkLA0KICAgICAgICAgIG1heEhlaWdodDogdW5kZWZpbmVkLA0KICAgICAgICAgIG1pbldpZHRoOiAwLA0KICAgICAgICAgIG1pbkhlaWdodDogMCwNCiAgICAgICAgICB3aWR0aDogdW5kZWZpbmVkLA0KICAgICAgICAgIGhlaWdodDogdW5kZWZpbmVkLA0KICAgICAgICAgIHJlc2l6ZTogJ25vbmUnLA0KICAgICAgICAgIHF1YWxpdHk6IDAuOCwNCiAgICAgICAgICBtaW1lVHlwZTogJycsDQogICAgICAgICAgY29udmVydFR5cGVzOiAnaW1hZ2UvcG5nJywNCiAgICAgICAgICBjb252ZXJ0U2l6ZTogNTAwMDAwMCwNCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnT3V0cHV0OiAnLCByZXN1bHQpOw0KDQogICAgICAgICAgICBpZiAoVVJMKSB7DQogICAgICAgICAgICAgIHZtLm91dHB1dFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVzdWx0KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdm0ub3V0cHV0ID0gcmVzdWx0Ow0KICAgICAgICAgICAgdm0uJHJlZnMuaW5wdXQudmFsdWUgPSAnJzsNCiAgICAgICAgICB9LA0KICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7DQogICAgICAgICAgICB3aW5kb3cuYWxlcnQoZXJyLm1lc3NhZ2UpOw0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIGlucHV0VVJMOiAnJywNCiAgICAgICAgb3V0cHV0VVJMOiAnJywNCiAgICAgICAgaW5wdXQ6IHt9LA0KICAgICAgICBvdXRwdXQ6IHt9LA0KICAgICAgfTsNCiAgICB9LA0KDQogICAgZmlsdGVyczogew0KICAgICAgcHJldHR5U2l6ZTogZnVuY3Rpb24gKHNpemUpIHsNCiAgICAgICAgdmFyIGtpbG9ieXRlID0gMTAyNDsNCiAgICAgICAgdmFyIG1lZ2FieXRlID0ga2lsb2J5dGUgKiBraWxvYnl0ZTsNCg0KICAgICAgICBpZiAoc2l6ZSA+IG1lZ2FieXRlKSB7DQogICAgICAgICAgcmV0dXJuIChzaXplIC8gbWVnYWJ5dGUpLnRvRml4ZWQoMikgKyAnIE1CJzsNCiAgICAgICAgfSBlbHNlIGlmIChzaXplID4ga2lsb2J5dGUpIHsNCiAgICAgICAgICByZXR1cm4gKHNpemUgLyBraWxvYnl0ZSkudG9GaXhlZCgyKSArICcgS0InOw0KICAgICAgICB9IGVsc2UgaWYgKHNpemUgPj0gMCkgew0KICAgICAgICAgIHJldHVybiBzaXplICsgJyBCJzsNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiAnTi9BJzsNCiAgICAgIH0sDQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGNvbXByZXNzOiBmdW5jdGlvbiAoZmlsZSkgew0KICAgICAgICBpZiAoIWZpbGUpIHsNCiAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICBjb25zb2xlLmxvZygnSW5wdXQ6ICcsIGZpbGUpOw0KDQogICAgICAgIGlmIChVUkwpIHsNCiAgICAgICAgICB0aGlzLmlucHV0VVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuaW5wdXQgPSBmaWxlOw0KICAgICAgICBuZXcgQ29tcHJlc3NvcihmaWxlLCB0aGlzLm9wdGlvbnMpOw0KICAgICAgfSwNCg0KICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoZSkgew0KICAgICAgICB0aGlzLmNvbXByZXNzKGUudGFyZ2V0LmZpbGVzID8gZS50YXJnZXQuZmlsZXNbMF0gOiBudWxsKTsNCiAgICAgIH0sDQoNCiAgICAgIGRyYWdvdmVyOiBmdW5jdGlvbihlKSB7DQogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgIH0sDQoNCiAgICAgIGRyb3A6IGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICB0aGlzLmNvbXByZXNzKGUuZGF0YVRyYW5zZmVyLmZpbGVzID8gZS5kYXRhVHJhbnNmZXIuZmlsZXNbMF0gOiBudWxsKTsNCiAgICAgIH0sDQogICAgfSwNCg0KICAgIHdhdGNoOiB7DQogICAgICBvcHRpb25zOiB7DQogICAgICAgIGRlZXA6IHRydWUsDQogICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICB0aGlzLmNvbXByZXNzKHRoaXMuaW5wdXQpOw0KICAgICAgICB9LA0KICAgICAgfSwNCiAgICB9LA0KDQogICAgbW91bnRlZDogZnVuY3Rpb24gKCkgew0KDQogICAgfSwNCiAgfSk7DQp9KTs="></script>
</body></html>